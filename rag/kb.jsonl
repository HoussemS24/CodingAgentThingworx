{"id": "kb_000000", "source_path": "docs/AddServiceToThing_Code.js", "type": "code", "entity": "Service", "keywords": ["addservicetothing", "inputs", "thingname", "string", "name", "the", "modify", "servicename", "servicecode", "javascript", "code", "for", "parameters", "parameter", "definitions", "object", "number", "resulttype", "return", "type"], "text": "// Service: AddServiceToThing\n// Inputs:\n//   - thingName (STRING): Name of the Thing to modify\n//   - serviceName (STRING): Name of the service to create\n//   - serviceCode (STRING): JavaScript code for the service\n//   - parameters (JSON): Parameter definitions as JSON object, e.g. {\"a\": \"NUMBER\", \"b\": \"STRING\"}\n//   - resultType (STRING): Return type (e.g. \"NUMBER\", \"STRING\", \"BOOLEAN\", \"INFOTABLE\", etc.)\n// Output: STRING (success message or error)\nlet result = \"\";\ntry {\n    // Get the current Thing's configuration as JSON\n    var url = \"http://localhost:8080/Thingworx/Things/\" + thingName;\n    var headers = {\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    };\n    var config = Resources[\"ContentLoaderFunctions\"].GetJSON({\n        \"url\": url,\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    //let result = config;\n\n\n    // Convert the parameters object into ThingWorx parameter definition format\n    var parameterDefinitions = {};\n    let stringParams = JSON.stringify(parameters);\n    let newJSONparams = JSON.parse(stringParams);\n\n    var paramKeys = Object.keys(newJSONparams);\n    var paramKeysLength = paramKeys.length;\n    //result = paramKeysLength;\n\n    for (var i = 0; i < paramKeysLength; i++) {\n        var paramName = paramKeys[i];\n        var paramType = parameters[paramName];\n\n        parameterDefinitions[paramName] = {\n            \"name\": paramName,\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": paramType,\n            \"ordinal\": i\n        };\n    }\n\n    // Create the service definition\n    var definition = {\n        \"isAllowOverride\": false,\n        \"isOpen\": false,\n        \"sourceType\": \"Unknown\",\n        \"parameterDefinitions\": parameterDefinitions,\n        \"name\": serviceName,\n        \"aspects\": {\n            \"isAsync\": false\n        },\n        \"isLocalOnly\": false,\n        \"description\": \"\",\n        \"isPrivate\": false,\n        \"sourceName\": \"\",\n        \"category\": \"\",\n        \"resultType\": {\n            \"name\": \"result\",\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": resultType,\n            \"ordinal\": 0\n        }\n    };\n\n    // Create the service implementation\n    var implementation = {\n        \"name\": serviceName,\n        \"description\": \"\",\n        \"handlerName\": \"Script\",\n        \"configurationTables\": {\n            \"Script\": {\n                \"isMultiRow\": false,\n                \"name\": \"Script\",\n                \"description\": \"Script\",\n                \"rows\": [{\n                    \"code\": serviceCode\n                }],\n                \"ordinal\": 0,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"code\": {\n                            \"name\": \"code\",\n                            \"aspects\": {},\n                            \"description\": \"code\",\n                            \"baseType\": \"STRING\",\n                            \"ordinal\": 0\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    // Add the service to both effectiveShape and thingShape\n    if (!config.effectiveShape.serviceDefinitions) {\n        config.effectiveShape.serviceDefinitions = {};\n    }\n    if (!config.effectiveShape.serviceImplementations) {\n        config.effectiveShape.serviceImplementations = {};\n    }\n\n    config.effectiveShape.serviceDefinitions[serviceName] = definition;\n    config.effectiveShape.serviceImplementations[serviceName] = implementation;\n\n    if (!config.thingShape.serviceDefinitions) {\n        config.thingShape.serviceDefinitions = {};\n    }\n    if (!config.thingShape.serviceImplementations) {\n        config.thingShape.serviceImplementations = {};\n    }\n\n    config.thingShape.serviceDefinitions[serviceName] = definition;\n    config.thingShape.serviceImplementations[serviceName] = implementation;\n\n    // Push the updated configuration back to Th"}
{"id": "kb_000001", "source_path": "docs/Advanced_Service_Management.md", "type": "rule", "entity": "Service", "keywords": ["step", "servicehelper", "bash", "curl", "location", "request", "post", "http", "resources", "entityservices", "creatething", "header", "appkey", "your_key", "content", "type", "application", "data", "name", "thingtemplatename"], "text": "### Step 1: Create a ServiceHelper Thing\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"ServiceHelper\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```"}
{"id": "kb_000002", "source_path": "docs/Advanced_Service_Management.md", "type": "rule", "entity": "Service", "keywords": ["step", "add", "servicehelper", "called", "addservicetothing", "that", "takes", "thingname", "target", "name", "servicename", "servicecode", "javascript", "code", "parameters", "parameter", "definitions", "resulttype", "return", "type"], "text": "### Step 2: Add a Service to ServiceHelper\n\nCreate a service called `AddServiceToThing` that takes:\n- `thingName`: Target Thing name\n- `serviceName`: Service to create\n- `serviceCode`: JavaScript code\n- `parameters`: Parameter definitions (JSON)\n- `resultType`: Return type\n\nThis service would use the ContentLoaderFunctions pattern to modify the target Thing."}
{"id": "kb_000003", "source_path": "docs/Advanced_Service_Management.md", "type": "rule", "entity": "Service", "keywords": ["step", "call", "the", "helper", "bash", "curl", "location", "request", "post", "http", "servicehelper", "addservicetothing", "header", "appkey", "your_key", "content", "type", "application", "data", "thingname"], "text": "### Step 3: Call the Helper\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"gemini.test-helper\",\n    \"serviceName\": \"AddNumbers\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```"}
{"id": "kb_000004", "source_path": "docs/Advanced_Service_Management.md", "type": "rule", "entity": "Service", "keywords": ["import", "back", "curl", "location", "request", "put", "http", "gemini", "test", "helper", "header", "appkey", "your_key", "content", "type", "application", "xml", "data"], "text": "# Import back\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Things/gemini.test-helper' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/xml' \\\n--data @thing.xml\n```"}
{"id": "kb_000005", "source_path": "docs/Advanced_Service_Management.md", "type": "rule", "entity": "Service", "keywords": ["recommendation", "for", "llm", "usage", "use", "approach", "single", "servicehelper", "with", "reusable", "that", "can", "add", "any", "code", "etc", "this", "minimizes", "token", "because"], "text": "## Recommendation for LLM Usage\n\n**Use Approach 1** - Create a single `ServiceHelper` Thing with reusable services that can:\n- Add services to any Thing\n- Update service code\n- Add properties\n- Etc.\n\nThis minimizes token usage because:\n- Small, focused API calls\n- No large entity definitions to process\n- Reusable helper services\n- All heavy lifting happens server-side"}
{"id": "kb_000006", "source_path": "docs/Developing_in_ThingWorx.md", "type": "rule", "entity": "Service", "keywords": ["core", "concepts", "digital", "representation", "physical", "object", "system", "thingtemplate", "blueprint", "for", "all", "inherit", "from", "template", "thingshape", "reusable", "collection", "and", "that", "can"], "text": "## 1. Core Concepts\n\n- **Thing**: A digital representation of a physical object or system.\n- **ThingTemplate**: A blueprint for Things. All Things inherit from a Template.\n- **ThingShape**: A reusable collection of properties and services that can be implemented by multiple Templates.\n- **Service**: A function written in JavaScript (Rhino engine) that runs on the server.\n- **Property**: A variable stored on a Thing (e.g., temperature, status)."}
{"id": "kb_000007", "source_path": "docs/Developing_in_ThingWorx.md", "type": "rule", "entity": "Service", "keywords": ["step", "entities", "use", "the", "api", "their", "definitions", "entityservices", "new", "ensure", "are", "enabled", "enablething", "after", "creation"], "text": "### Step 2: Create/Update Entities\nUse the API to create Things or update their definitions.\n- Use `EntityServices` to create new Things.\n- Ensure Things are enabled (`EnableThing` service) after creation."}
{"id": "kb_000008", "source_path": "docs/Developing_in_ThingWorx.md", "type": "rule", "entity": "Service", "keywords": ["step", "implement", "are", "the", "core", "logic", "language", "javascript", "rhino", "es5", "es6", "compat", "important", "synchronous", "and", "server", "side", "access", "propertyname", "call"], "text": "### Step 3: Implement Services\nServices are the core logic.\n- Language: JavaScript (Rhino ES5/ES6 compat).\n- **Important**: ThingWorx JS is synchronous and server-side.\n- Access Properties: `me.PropertyName`\n- Call other Services: `me.OtherService()` or `Things[\"OtherThing\"].Service()`\n\n**Example Service Code:**\n```javascript\n// Input: temperature (NUMBER)\n// Output: STRING\n\nvar result = \"Normal\";\nif (temperature > 100) {\n    result = \"Overheat\";\n    // Log to Application Log\n    logger.warn(\"Thing \" + me.name + \" is overheating!\");\n}\nreturn result;\n```"}
{"id": "kb_000009", "source_path": "docs/Developing_in_ThingWorx.md", "type": "rule", "entity": "Service", "keywords": ["step", "testing", "test", "executing", "them", "via", "the", "api", "post", "request", "verify", "output", "matches", "expectations", "check", "applicationlog", "for", "errors", "logger", "info"], "text": "### Step 4: Testing\nTest services by executing them via the REST API (`POST` request).\n- Verify the output matches expectations.\n- Check the `ApplicationLog` in ThingWorx for errors (`logger.info`, `logger.error`)."}
{"id": "kb_000010", "source_path": "docs/Developing_in_ThingWorx.md", "type": "rule", "entity": "Service", "keywords": ["best", "practices", "for", "llms", "idempotency", "when", "writing", "scripts", "try", "check", "the", "exists", "first", "error", "handling", "wrap", "critical", "logic", "catch", "blocks"], "text": "## 3. Best Practices for LLMs\n\n1. **Idempotency**: When writing scripts to update Things, try to check if the Thing exists first.\n2. **Error Handling**: Wrap critical logic in `try/catch` blocks within the JavaScript service code.\n3. **Logging**: Use `logger.info()` liberally to help debug remote execution.\n4. **Small Services**: Keep services focused on a single task. Compose complex logic by calling multiple smaller services.\n5. **Security**: Do not hardcode credentials in service code. Use `ConfigurationTables` or `Password` properties if needed."}
{"id": "kb_000011", "source_path": "docs/Developing_in_ThingWorx.md", "type": "rule", "entity": "Thing", "keywords": ["common", "tasks", "searching", "for", "use", "searchthings", "searchfunctions", "resource", "you", "don", "know", "the", "exact", "name", "restarting", "generally", "need", "but", "template", "may"], "text": "## 4. Common Tasks\n\n**Searching for a Thing:**\nUse `SearchThings` on `SearchFunctions` resource if you don't know the exact name.\n\n**Restarting a Thing:**\nThings generally don't need \"restarting\", but if you update a Template, you may need to restart the Thing to propagate changes (rare, usually automatic). Restarting the *Server* is a separate admin task."}
{"id": "kb_000012", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["bash", "curl", "location", "request", "post", "http", "resources", "entityservices", "creatething", "header", "appkey", "thingworx_app_key", "content", "type", "application", "data", "name", "thingname", "thingtemplatename", "genericthing"], "text": "### 1. Create a Thing\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"ThingName\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```"}
{"id": "kb_000013", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["enable", "the", "bash", "curl", "location", "request", "post", "http", "thingname", "enablething", "header", "appkey", "thingworx_app_key", "content", "type", "application"], "text": "### 2. Enable the Thing\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ThingName/Services/EnableThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json'\n```"}
{"id": "kb_000014", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["add", "use", "servicehelper", "bash", "curl", "location", "request", "post", "http", "addservicetothing", "header", "appkey", "thingworx_app_key", "accept", "application", "content", "type", "data", "thingname", "servicename"], "text": "### 3. Add Services (Use ServiceHelper)\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"ThingName\",\n    \"serviceName\": \"ServiceName\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```"}
{"id": "kb_000015", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["test", "the", "bash", "curl", "location", "request", "post", "http", "thingname", "servicename", "header", "appkey", "thingworx_app_key", "content", "type", "application", "data"], "text": "### 4. Test the Service\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ThingName/Services/ServiceName' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"a\": 10,\n    \"b\": 20\n}'\n```"}
{"id": "kb_000016", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["header", "template", "javascript", "servicename", "created", "yyyy", "authorname", "last", "modified", "description", "brief", "what", "this", "does", "inputs", "paramname", "type", "paramname2", "output", "return"], "text": "### Header Template\n```javascript\n/**\n * Service: ServiceName\n * Created: YYYY-MM-DD HH:MM by AuthorName\n * Last Modified: YYYY-MM-DD HH:MM by AuthorName\n * \n * Description:\n *   Brief description of what this service does\n * \n * Inputs:\n *   - paramName (TYPE): Description\n *   - paramName2 (TYPE): Description\n * \n * Output:\n *   - TYPE: Description of return value\n * \n * Change Log:\n *   YYYY-MM-DD - AuthorName - Initial creation\n *   YYYY-MM-DD - AuthorName - Description of changes made\n */\n```"}
{"id": "kb_000017", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["example", "with", "header", "javascript", "solvequadratic", "created", "antigravity", "llm", "last", "modified", "description", "solves", "quadratic", "equations", "using", "the", "formula", "solutions", "sqrt", "inputs"], "text": "### Example with Header\n```javascript\n/**\n * Service: SolveQuadratic\n * Created: 2025-11-24 15:37 by Antigravity LLM\n * Last Modified: 2025-11-24 15:37 by Antigravity LLM\n * \n * Description:\n *   Solves quadratic equations using the quadratic formula\n *   Formula: ax^2 + bx + c = 0\n *   Solutions: x = (-b ± sqrt(b^2 - 4ac)) / 2a\n * \n * Inputs:\n *   - a (NUMBER): Coefficient of x^2\n *   - b (NUMBER): Coefficient of x\n *   - c (NUMBER): Constant term\n * \n * Output:\n *   - JSON: Object containing solution1, solution2, discriminant, and message/error\n * \n * Change Log:\n *   2025-11-24 - Antigravity LLM - Initial creation with error handling\n */\n\nvar discriminant = (b * b) - (4 * a * c);\nvar result = {};\n// ... rest of code\n```"}
{"id": "kb_000018", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["when", "updating", "modifying", "existing", "the", "last", "modified", "line", "add", "new", "entry", "change", "log", "keep", "all", "previous", "entries", "example", "javascript", "calculatetotal"], "text": "### When Updating Services\nWhen modifying an existing service:\n1. Update the \"Last Modified\" line\n2. Add a new entry to the Change Log\n3. Keep all previous change log entries\n\nExample update:\n```javascript\n/**\n * Service: CalculateTotal\n * Created: 2025-11-20 10:00 by Developer1\n * Last Modified: 2025-11-24 15:00 by Antigravity LLM\n * \n * Description:\n *   Calculates total with tax and discount\n * \n * Change Log:\n *   2025-11-20 - Developer1 - Initial creation\n *   2025-11-22 - Developer2 - Added discount logic\n *   2025-11-24 - Antigravity LLM - Fixed tax calculation rounding error\n */\n```"}
{"id": "kb_000019", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["best", "practices", "use", "servicehelper", "always", "for", "creation", "small", "keep", "focused", "single", "tasks", "error", "handling", "try", "catch", "complex", "logging", "logger", "info"], "text": "## Best Practices\n\n1. ✅ **Use ServiceHelper** - Always use for service creation\n2. ✅ **Small Services** - Keep services focused on single tasks\n3. ✅ **Error Handling** - Use try/catch in complex services\n4. ✅ **Logging** - Use `logger.info()`, `logger.warn()`, `logger.error()`\n5. ✅ **Test Incrementally** - Test each service after creation"}
{"id": "kb_000020", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["what", "not", "don", "download", "definitions", "with", "get", "thingname", "use", "addservicedefinition", "creates", "empty", "only", "try", "upload", "modified", "files", "hardcode", "credentials", "code"], "text": "## ❌ What NOT to Do\n\n- ❌ Don't download Thing definitions with `GET /Things/ThingName`\n- ❌ Don't use `AddServiceDefinition` (creates empty services only)\n- ❌ Don't try to upload modified Thing JSON files\n- ❌ Don't hardcode credentials in service code"}
{"id": "kb_000021", "source_path": "docs/LLM_INSTRUCTIONS.md", "type": "rule", "entity": "Service", "keywords": ["troubleshooting", "not", "found", "after", "creation", "restart", "the", "post", "thingname", "restartthing", "authentication", "errors", "verify", "appkey", "correct", "check", "permissions", "execution", "applicationlog", "parameter"], "text": "## Troubleshooting\n\n**Service not found after creation?**\n- Restart the Thing: `POST /Things/ThingName/Services/RestartThing`\n\n**Authentication errors?**\n- Verify AppKey is correct\n- Check Thing permissions\n\n**Service execution errors?**\n- Check ApplicationLog in ThingWorx\n- Verify parameter types match\n- Check service code syntax"}
{"id": "kb_000022", "source_path": "docs/Managing_Credentials.md", "type": "rule", "entity": "Thing", "keywords": ["managing", "credentials", "securely", "you", "asked", "can", "use", "github", "secrets", "for", "local", "development", "the", "short", "answer", "not", "directly", "are", "designed", "actions"], "text": "# Managing Credentials Securely\n\nYou asked if you can use **GitHub Secrets** for local development. The short answer is **no, not directly**.\n\nGitHub Secrets are designed for **GitHub Actions** (CI/CD pipelines) and are not automatically synced to your local machine or your colleagues' machines for security reasons."}
{"id": "kb_000023", "source_path": "docs/Managing_Credentials.md", "type": "rule", "entity": "Thing", "keywords": ["recommended", "solution", "environment", "variables", "env", "the", "standard", "industry", "practice", "for", "sharing", "configuration", "without", "secrets", "publicly", "use", "loaded", "from", "file"], "text": "## Recommended Solution: Environment Variables (`.env`)\n\nThe standard industry practice for sharing configuration without sharing secrets publicly is to use **Environment Variables** loaded from a `.env` file."}
{"id": "kb_000024", "source_path": "docs/Managing_Credentials.md", "type": "rule", "entity": "Thing", "keywords": ["how", "works", "the", "env", "file", "this", "contains", "your", "secrets", "like", "thingworx_app_key", "git", "ignore", "add", "gitignore", "never", "committed", "repository", "example", "commit"], "text": "### How it works\n\n1.  **The `.env` file**: This file contains your secrets (like `THINGWORX_APP_KEY`).\n2.  **Git Ignore**: We add `.env` to `.gitignore` so it is **never** committed to the repository.\n3.  **The `.env.example` file**: We commit a template file (e.g., `.env.example`) that lists the required variables but leaves the values empty or with placeholders."}
{"id": "kb_000025", "source_path": "docs/Managing_Credentials.md", "type": "rule", "entity": "Thing", "keywords": ["setup", "instructions", "for", "you", "and", "your", "colleagues", "clone", "the", "repo", "local", "secret", "file", "copy", "env", "example", "new", "named", "bash", "fill"], "text": "### Setup Instructions for You and Your Colleagues\n\n1.  **Clone the repo**.\n2.  **Create your local secret file**:\n    Copy `.env.example` to a new file named `.env`.\n    ```bash\n    cp .env.example .env\n    ```\n3.  **Fill in your secrets**:\n    Open `.env` and paste your actual App Key.\n    ```properties\n    THINGWORX_APP_KEY=your-actual-uuid-key-here\n    ```\n4.  **Run your code**:\n    Your application code (or LLM script) should be written to read from these environment variables."}
{"id": "kb_000026", "source_path": "docs/Managing_Credentials.md", "type": "rule", "entity": "Thing", "keywords": ["example", "reading", "credentials", "node", "you", "are", "writing", "script", "use", "the", "dotenv", "package", "javascript", "require", "config", "const", "appkey", "process", "env", "thingworx_app_key"], "text": "### Example: Reading Credentials in Node.js\n\nIf you are writing a Node.js script, use the `dotenv` package:\n\n```javascript\nrequire('dotenv').config();\n\nconst appKey = process.env.THINGWORX_APP_KEY;\nconst baseUrl = process.env.THINGWORX_BASE_URL || config.thingworxServer.baseUrl;\n\n// Now use appKey in your headers\n```"}
{"id": "kb_000027", "source_path": "docs/Managing_Credentials.md", "type": "rule", "entity": "Thing", "keywords": ["sharing", "with", "colleagues", "share", "the", "secret", "key", "use", "secure", "channel", "password", "manager", "encrypted", "chat", "lastpass", "not", "send", "via", "email", "slack"], "text": "## Sharing with Colleagues\n\nTo share the secret key with colleagues:\n1.  Use a secure channel (Password Manager, encrypted chat, 1Password, LastPass).\n2.  Do **not** send it via email or Slack if possible.\n3.  They will paste it into their own local `.env` file."}
{"id": "kb_000028", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["creation", "recipes", "this", "document", "collects", "proven", "for", "programmatically", "creating", "mashups", "these", "are", "designed", "used", "agents", "developers", "quickly", "generate", "correct", "structures"], "text": "# Mashup Creation Recipes\n\nThis document collects proven recipes for programmatically creating ThingWorx Mashups. These recipes are designed to be used by agents or developers to quickly generate correct Mashup structures."}
{"id": "kb_000029", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["structure", "mermaid", "graph", "root", "flexcontainer", "row", "left", "container", "column", "right", "label1", "label", "hello", "label2", "world"], "text": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Row] --> Left[Left Container<br/>Column]\n    Root --> Right[Right Container<br/>Column]\n    Left --> Label1[Label: Hello]\n    Right --> Label2[Label: World]\n```"}
{"id": "kb_000030", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["root", "container", "the", "holds", "two", "columns", "uses", "row", "direction", "place", "them", "side", "javascript", "type", "flexcontainer", "flex", "horizontal", "layout", "align", "items"], "text": "#### 1. Root Container\nThe root container holds the two columns. It uses `row` direction to place them side-by-side.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"row\", // Horizontal layout\n        \"align-items\": \"center\",\n        \"justify-content\": \"space-around\", // Space out columns\n        \"flex-grow\": 1,\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```"}
{"id": "kb_000031", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["child", "containers", "columns", "each", "container", "holds", "content", "label", "uses", "column", "direction", "default", "vertical", "stacking", "and", "centers", "its", "javascript", "type", "flexcontainer"], "text": "#### 2. Child Containers (Columns)\nEach child container holds content (ex. a label). It uses `column` direction (default vertical stacking) and centers its content.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"column\",\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\", // Center content vertically\n        \"flex-grow\": 1, // fill available space\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```"}
{"id": "kb_000032", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "creation", "script", "template", "use", "this", "layout", "remember", "mashup_name", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env", "example"], "text": "### Full Creation Script Template\n\nUse this script as a template to create this layout. Remember to update `MASHUP_NAME`.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.hello-world-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Hello World Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"row\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"space-around\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Container 1 (Left)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-1\",\n                                \"DisplayName\": \"container-hello\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-hello\",\n                                        \"DisplayName\": \"lblHello\",\n                                        \"LabelText\": \"Hello\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        },\n                        // Container 2 (Right)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-2\",\n                                \"DisplayName\": \"container-world\",\n                                \"flex-direction\": \"column\","}
{"id": "kb_000033", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["structure", "mermaid", "graph", "root", "flexcontainer", "column", "top", "container", "bottom", "label1", "label", "hello", "label2", "world"], "text": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Column] --> Top[Top Container<br/>Column]\n    Root --> Bottom[Bottom Container<br/>Column]\n    Top --> Label1[Label: Hello]\n    Bottom --> Label2[Label: World]\n```"}
{"id": "kb_000034", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["root", "container", "the", "uses", "column", "direction", "stack", "children", "vertically", "javascript", "type", "flexcontainer", "flex", "vertical", "layout", "align", "items", "center", "justify", "content"], "text": "#### 1. Root Container\nThe root container uses `column` direction to stack children vertically.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"column\", // Vertical layout\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\",\n        \"flex-grow\": 1,\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```"}
{"id": "kb_000035", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "creation", "script", "template", "use", "this", "layout", "remember", "mashup_name", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env", "example"], "text": "### Full Creation Script Template\n\nUse this script as a template to create this layout. Remember to update `MASHUP_NAME`.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.hello-world-vertical-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Hello World Vertical Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"column\", // Vertical Stacking\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Container 1 (Top)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-top\",\n                                \"DisplayName\": \"container-hello\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-hello\",\n                                        \"DisplayName\": \"lblHello\",\n                                        \"LabelText\": \"Hello\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        },\n                        // Container 2 (Bottom)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-bottom\",\n                                \"DisplayName\": \"container-world\",\n                "}
{"id": "kb_000036", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["recipe", "complex", "fixed", "sidebar", "layout", "this", "demonstrates", "more", "advanced", "commonly", "used", "for", "applications", "main", "workspace", "flanked", "width", "static", "sidebars", "navigation"], "text": "## Recipe 3: Complex Fixed Sidebar Layout\n\nThis recipe demonstrates a more advanced layout commonly used for applications: A main workspace flanked by fixed-width static sidebars (e.g., for navigation or tool panels)."}
{"id": "kb_000037", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "mixing", "static", "responsive", "shows", "how", "keep", "sidebars", "fixed", "while", "the", "center", "content", "grows", "strict", "flex", "sizing", "demonstrates", "use", "explicit"], "text": "### Purpose\n*   **Mixing Static & Responsive**: Shows how to keep sidebars fixed while the center content grows.\n*   **Strict Flex Sizing**: Demonstrates the use of explicit `flex-min-width` and `flex-max-width` to force containers to adhere to specific pixel dimensions.\n*   **Empty Static Containers**: Shows configuration for structural containers that may be populated dynamically at runtime or used for spacing."}
{"id": "kb_000038", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["structure", "mermaid", "graph", "root", "flexcontainer", "row", "left", "container", "fixed", "middle", "flexible", "column", "right", "top", "inner", "start", "helper", "bottom", "end"], "text": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Row] --> Left[Left Container<br/>Fixed 150px]\n    Root --> Middle[Middle Container<br/>Flexible Column]\n    Root --> Right[Right Container<br/>Fixed 150px]\n    \n    Middle --> Top[Top Inner<br/>Start Helper]\n    Middle --> Bottom[Bottom Inner<br/>End Helper]\n```"}
{"id": "kb_000039", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["fixed", "sidebar", "containers", "force", "container", "exactly", "wide", "and", "never", "resize", "you", "must", "use", "combination", "standard", "strict", "flex", "critical", "responsivelayout", "false"], "text": "#### 1. Fixed Sidebar Containers\nTo force a container to be exactly 150px wide and **never** resize, you must use a combination of standard properties and strict flex properties.\n\n**Critical Properties**:\n*   `ResponsiveLayout`: `false` (Treats internal layout as static canvas, good for fixed tools).\n*   `flex-grow`: `0` (Do not grow).\n*   `flex-shrink`: `0` (Do not shrink).\n*   `flex-basis`: `\"150px\"` (Initial size).\n*   `flex-min-width`: `\"150px\"` (Hard floor).\n*   `flex-max-width`: `\"150px\"` (Hard ceiling).\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"Id\": \"flexcontainer-left\",\n        \"DisplayName\": \"FixedSidebar\",\n        \"ResponsiveLayout\": false, // Static internal\n        \"Width\": 150,\n        \"MinWidth\": 150,\n        \"MaxWidth\": 150,\n        // STRICT FLEX LOCKING\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"150px\",\n        \"flex-min-width\": \"150px\",\n        \"flex-max-width\": \"150px\"\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000040", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "creation", "script", "template", "use", "this", "generate", "the", "complex", "layout", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env"], "text": "### Full Creation Script Template\n\nUse this script to generate the complex layout.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.complex-layout-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Complex Layout Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-row\",\n                        \"flex-direction\": \"row\", // Horizontal main layout\n                        \"align-items\": \"stretch\",\n                        \"justify-content\": \"flex-start\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // 1. LEFT CONTAINER (Fixed 150px, Static)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-left\",\n                                \"DisplayName\": \"container-left-fixed\",\n                                // \"Static\" internal behavior\n                                \"ResponsiveLayout\": false,\n                                \"Width\": 150,\n                                \"MinWidth\": 150,\n                                \"MaxWidth\": 150,\n                                // Strict Flex Fixed sizing\n                                \"flex-grow\": 0,\n                                \"flex-shrink\": 0,\n                                \"flex-basis\": \"150px\",\n                                \"flex-min-width\": \"150px\",\n                                \"flex-max-width\": \"150px\",\n                                \"Style\": \"DefaultContainerStyle\"\n                            },\n                            \"Widgets\": [] // Empty as requested\n                        },\n                        // 2. MIDDLE CONTAINER (Flexible, Vertical Stack)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-middle\",\n                                \"DisplayName\": \"container-middle-flex\",\n                                \"flex-direction\": \"column\", // Vertical stack inside\n                                \"align-items\": \"stretch\",\n                                \"justify-content\": \"flex-start\",\n                                \"flex-grow\": 1, // Take remaining space\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                    "}
{"id": "kb_000041", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "full", "application", "layout", "typical", "dashboard", "structure", "nested", "flex", "stacks", "uses", "vertical", "stack", "for", "the", "main", "header", "middle", "footer", "and"], "text": "### Purpose\n*   **Full Application Layout**: Typical dashboard structure.\n*   **Nested Flex Stacks**: Uses a vertical stack for the main structure (Header / Middle / Footer) and a horizontal stack for the middle section (Left / Center / Right).\n*   **Fixed Dimension Containers**: Demonstrates locking height for headers/footers and width for sidebars."}
{"id": "kb_000042", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["structure", "mermaid", "graph", "root", "flexcontainer", "column", "top", "container", "fixed", "height", "middle", "row", "flexible", "bottom", "left", "sidebar", "width", "center", "content", "right"], "text": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Column] --> Top[Top Container<br/>Fixed Height 100px]\n    Root --> Middle[Middle Row<br/>Flexible Row]\n    Root --> Bottom[Bottom Container<br/>Fixed Height 100px]\n    \n    Middle --> Left[Left Sidebar<br/>Fixed Width 100px]\n    Middle --> Center[Center Content<br/>Flexible Column]\n    Middle --> Right[Right Sidebar<br/>Fixed Width 100px]\n```"}
{"id": "kb_000043", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["header", "footer", "fixed", "height", "fix", "vertical", "use", "minheight", "maxheight", "and", "matching", "flex", "javascript", "type", "flexcontainer", "responsivelayout", "false", "grow", "shrink", "basis"], "text": "#### 1. Header/Footer (Fixed Height)\nTo fix vertical height, use `MinHeight`, `MaxHeight`, and matching flex properties.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"ResponsiveLayout\": false,\n        \"Height\": 100,\n        \"MinHeight\": 100,\n        \"MaxHeight\": 100,\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"100px\",\n        \"flex-min-height\": \"100px\",\n        \"flex-max-height\": \"100px\"\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000044", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["sidebars", "fixed", "width", "same", "concept", "but", "using", "javascript", "type", "flexcontainer", "responsivelayout", "false", "minwidth", "maxwidth", "flex", "grow", "shrink", "basis", "min", "max"], "text": "#### 2. Sidebars (Fixed Width)\nSame concept but using Width properties.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"ResponsiveLayout\": false,\n        \"Width\": 100,\n        \"MinWidth\": 100,\n        \"MaxWidth\": 100,\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"100px\",\n        \"flex-min-width\": \"100px\",\n        \"flex-max-width\": \"100px\"\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000045", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["snippet", "javascript", "root", "type", "responsivelayout", "true", "title", "with", "master", "other", "antigravity", "add", "this", "line", "widgets"], "text": "### JSON Snippet\n```javascript\n\"UI\": {\n    \"Properties\": {\n        \"Id\": \"mashup-root\",\n        \"Type\": \"mashup\",\n        \"ResponsiveLayout\": true,\n        \"Title\": \"My Mashup with Master\",\n        // ... other properties ...\n        \"Master\": \"antigravity.Master-mm\" // Add this line!\n    },\n    \"Widgets\": [ ... ]\n}\n```"}
{"id": "kb_000046", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["important", "notes", "name", "validation", "ensure", "the", "master", "antigravity", "example", "exists", "server", "before", "you", "your", "child", "otherwise", "creation", "might", "fail", "will"], "text": "### Important Notes\n*   **Name Validation**: Ensure the Master Mashup name (`antigravity.Master-mm` in the example) exists on the server *before* you create your child mashup, otherwise creation might fail or the mashup will be broken.\n*   **Layout Inheritance**: Your mashup's content will be injected into the `Content` placeholder of the Master Mashup."}
{"id": "kb_000047", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["recipe", "integrating", "into", "mashups", "this", "demonstrates", "how", "add", "from", "external", "your", "making", "them", "available", "for", "data", "binding", "event", "handling", "and"], "text": "## Recipe 6: Integrating Thing Services into Mashups\n\nThis recipe demonstrates how to add services from external Things to your Mashup, making them available for data binding, event handling, and service invocation."}
{"id": "kb_000048", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "external", "integration", "shows", "how", "register", "from", "the", "data", "section", "configuration", "explains", "structure", "and", "needed", "properly", "configure", "real", "world", "example"], "text": "### Purpose\n*   **External Service Integration**: Shows how to register services from Things in the Mashup's Data section.\n*   **Service Configuration**: Explains the structure and properties needed to properly configure Thing services.\n*   **Real-World Example**: Uses the `ServiceHelper` Thing with its `Rechner` service as a practical example."}
{"id": "kb_000049", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["when", "use", "this", "pattern", "you", "need", "call", "from", "response", "user", "actions", "button", "clicks", "bind", "results", "widgets", "display", "calculation", "access", "methods"], "text": "### When to Use\nUse this pattern when you need to:\n*   Call services from Things in response to user actions (e.g., button clicks)\n*   Bind Thing service results to UI widgets (e.g., display calculation results)\n*   Access Thing properties or methods from within the Mashup\n*   Create interactive dashboards that communicate with backend Things"}
{"id": "kb_000050", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["data", "section", "structure", "the", "contains", "all", "external", "sources", "default", "every", "includes", "session", "and", "userextensions", "add", "you", "new", "entry", "for", "each"], "text": "### Data Section Structure\n\nThe `Data` section of a Mashup contains all external data sources. By default, every Mashup includes `Session` and `UserExtensions`. To add Thing services, you add a new entry for each Thing."}
{"id": "kb_000051", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["basic", "structure", "javascript", "data", "session", "always", "present", "userextensions", "yourthingname", "add", "your", "here", "dataname", "entityname", "entitytype", "critical", "must", "for", "entities", "array"], "text": "#### Basic Structure\n```javascript\n\"Data\": {\n    \"Session\": { ... },           // Always present\n    \"UserExtensions\": { ... },    // Always present\n    \"YourThingName\": {            // Add your Thing here\n        \"DataName\": \"YourThingName\",\n        \"EntityName\": \"YourThingName\",\n        \"EntityType\": \"Things\",   // Critical: Must be \"Things\" for Thing entities\n        \"Id\": \"YourThingName\",\n        \"Services\": [ ... ]       // Array of services to register\n    }\n}\n```"}
{"id": "kb_000052", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["adding", "data", "source", "add", "your", "you", "need", "specify", "description", "example", "dataname", "display", "name", "for", "the", "servicehelper", "entityname", "exact", "server", "entitytype"], "text": "### Adding a Thing as a Data Source\n\nTo add a Thing to your Mashup, you need to specify:\n\n| Property | Description | Example |\n|----------|-------------|---------|\n| `DataName` | Display name for the data source | `\"ServiceHelper\"` |\n| `EntityName` | Exact name of the Thing on the server | `\"ServiceHelper\"` |\n| `EntityType` | Type of entity - **must be `\"Things\"`** | `\"Things\"` |\n| `Id` | Unique identifier within the Mashup | `\"ServiceHelper\"` |\n| `Services` | Array of service definitions | `[{ ... }]` |\n\n> [!IMPORTANT]\n> The `EntityType` must be exactly `\"Things\"` (case-sensitive) for Thing entities. Other entity types include `\"Session\"`, `\"UserExtensions\"`, `\"Resources\"`, etc."}
{"id": "kb_000053", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["registering", "each", "the", "array", "must", "configured", "with", "following", "javascript", "uniqueserviceid", "unique", "for", "this", "instance", "name", "servicename", "exact", "characteristic", "always", "calls"], "text": "### Registering Services\n\nEach service in the `Services` array must be configured with the following properties:\n\n```javascript\n{\n    \"Id\": \"UniqueServiceId\",        // Unique ID for this service instance\n    \"Name\": \"ServiceName\",          // Exact name of the service on the Thing\n    \"Characteristic\": \"Services\",   // Always \"Services\" for service calls\n    \"Target\": \"ServiceName\",        // Same as Name - the service to invoke\n    \"APIMethod\": \"post\",            // HTTP method - always \"post\" for services\n    \"RefreshInterval\": 0,           // Auto-refresh interval in ms (0 = manual only)\n    \"Parameters\": {}                // Service parameters (if any)\n}\n```"}
{"id": "kb_000054", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["explained", "unique", "identifier", "for", "this", "within", "the", "can", "descriptive", "rechnerservice", "match", "name", "exact", "defined", "case", "sensitive", "characteristic", "always", "set", "when"], "text": "#### Service Properties Explained\n\n*   **Id**: A unique identifier for this service within the Mashup. Can be descriptive (e.g., `\"RechnerService\"`) or match the service name.\n*   **Name**: The exact name of the service as defined on the Thing. **Case-sensitive**.\n*   **Characteristic**: Always set to `\"Services\"` when registering a service.\n*   **Target**: The service method to call. Typically the same as `Name`.\n*   **APIMethod**: Always `\"post\"` for service invocations.\n*   **RefreshInterval**: How often to auto-refresh the service (in milliseconds). Set to `0` for manual invocation only.\n*   **Parameters**: An object containing default parameter values. Can be empty `{}` if parameters will be bound dynamically."}
{"id": "kb_000055", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "example", "servicehelper", "with", "rechner", "this", "shows", "how", "add", "the", "from", "javascript", "const", "mashupcontent", "root", "type", "responsivelayout", "true", "width", "height"], "text": "### Complete Example: ServiceHelper with Rechner Service\n\nThis example shows how to add the `Rechner` service from the `ServiceHelper` Thing.\n\n```javascript\nconst mashupContent = {\n    \"UI\": {\n        \"Properties\": {\n            \"Id\": \"mashup-root\",\n            \"Type\": \"mashup\",\n            \"ResponsiveLayout\": true,\n            \"Width\": 1024,\n            \"Height\": 618,\n            \"Style\": \"DefaultMashupStyle\",\n            \"StyleTheme\": \"PTC Convergence Theme\",\n            \"Title\": \"Service Helper Mashup\",\n            \"Area\": \"Mashup\",\n            \"__TypeDisplayName\": \"Mashup\",\n            \"Visible\": true,\n            \"Z-index\": 10,\n            \"Top\": 0,\n            \"Left\": 0\n        },\n        \"Widgets\": [\n            {\n                \"Properties\": {\n                    \"Type\": \"flexcontainer\",\n                    \"__TypeDisplayName\": \"Responsive Container\",\n                    \"Id\": \"flexcontainer-root\",\n                    \"DisplayName\": \"root-container\",\n                    \"flex-direction\": \"column\",\n                    \"align-items\": \"center\",\n                    \"justify-content\": \"center\",\n                    \"flex-grow\": 1,\n                    \"ResponsiveLayout\": true,\n                    \"LastContainer\": true\n                },\n                \"Widgets\": []\n            }\n        ]\n    },\n    \"Data\": {\n        \"Session\": {\n            \"DataName\": \"Session\",\n            \"EntityName\": \"\",\n            \"EntityType\": \"Session\",\n            \"Id\": \"session\",\n            \"Services\": [{\n                \"Id\": \"SessionInterface\",\n                \"Name\": \"GetGlobalSessionValues\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"GetGlobalSessionValues\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }]\n        },\n        \"UserExtensions\": {\n            \"DataName\": \"UserExtensions\",\n            \"EntityName\": \"\",\n            \"EntityType\": \"UserExtensions\",\n            \"Id\": \"UserExtensions\",\n            \"Services\": [{\n                \"Id\": \"UserExtensionInterface\",\n                \"Name\": \"GetCurrentUserExtensionProperties\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"GetCurrentUserExtensionProperties\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }]\n        },\n        // ===== ADD YOUR THING HERE =====\n        \"ServiceHelper\": {\n            \"DataName\": \"ServiceHelper\",\n            \"EntityName\": \"ServiceHelper\",      // Exact Thing name on server\n            \"EntityType\": \"Things\",             // Must be \"Things\"\n            \"Id\": \"ServiceHelper\",\n            \"Services\": [{\n                \"Id\": \"RechnerService\",         // Unique ID for this service\n                \"Name\": \"Rechner\",              // Exact service name (case-sensitive)\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}                // Add parameters if needed\n            }]\n        }\n    },\n    \"Events\": [],\n    \"DataBindings\": [],\n    \"mashupType\": \"mashup\"\n};\n```"}
{"id": "kb_000056", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["adding", "multiple", "from", "the", "same", "you", "can", "register", "more", "entries", "array", "javascript", "servicehelper", "dataname", "entityname", "entitytype", "rechnerservice", "name", "rechner", "characteristic"], "text": "### Adding Multiple Services from the Same Thing\n\nYou can register multiple services from the same Thing by adding more entries to the `Services` array:\n\n```javascript\n\"ServiceHelper\": {\n    \"DataName\": \"ServiceHelper\",\n    \"EntityName\": \"ServiceHelper\",\n    \"EntityType\": \"Things\",\n    \"Id\": \"ServiceHelper\",\n    \"Services\": [\n        {\n            \"Id\": \"RechnerService\",\n            \"Name\": \"Rechner\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"Rechner\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        },\n        {\n            \"Id\": \"AnotherService\",\n            \"Name\": \"AnotherServiceName\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"AnotherServiceName\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        }\n    ]\n}\n```"}
{"id": "kb_000057", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["adding", "multiple", "add", "from", "separate", "entries", "the", "data", "section", "javascript", "session", "userextensions", "servicehelper", "dataname", "entityname", "entitytype", "anotherthing"], "text": "### Adding Multiple Things\n\nTo add services from multiple Things, add separate entries in the `Data` section:\n\n```javascript\n\"Data\": {\n    \"Session\": { ... },\n    \"UserExtensions\": { ... },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [ ... ]\n    },\n    \"AnotherThing\": {\n        \"DataName\": \"AnotherThing\",\n        \"EntityName\": \"AnotherThing\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"AnotherThing\",\n        \"Services\": [ ... ]\n    }\n}\n```"}
{"id": "kb_000058", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["parameters", "your", "requires", "you", "can", "specify", "default", "values", "the", "object", "javascript", "calculateservice", "name", "calculate", "characteristic", "target", "apimethod", "post", "refreshinterval", "input1"], "text": "### Service Parameters\n\nIf your service requires parameters, you can specify default values in the `Parameters` object:\n\n```javascript\n{\n    \"Id\": \"CalculateService\",\n    \"Name\": \"Calculate\",\n    \"Characteristic\": \"Services\",\n    \"Target\": \"Calculate\",\n    \"APIMethod\": \"post\",\n    \"RefreshInterval\": 0,\n    \"Parameters\": {\n        \"input1\": 10,\n        \"input2\": 20,\n        \"operation\": \"add\"\n    }\n}\n```\n\n> [!NOTE]\n> Parameters can also be bound dynamically from UI widgets using Data Bindings. The values in the `Parameters` object serve as defaults."}
{"id": "kb_000059", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["using", "the", "once", "registered", "can", "invoked", "events", "bind", "button", "clicked", "event", "bound", "widgets", "output", "labels", "grids", "other", "display", "chained", "with"], "text": "### Using the Service in the Mashup\n\nOnce registered, the service can be:\n1. **Invoked by Events**: Bind a button's `Clicked` event to the service\n2. **Bound to Widgets**: Bind service output to labels, grids, or other display widgets\n3. **Chained with Other Services**: Use the output of one service as input to another\n\nThese bindings are configured in the `Events` and `DataBindings` sections of the Mashup JSON."}
{"id": "kb_000060", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "warning", "case", "sensitivity", "names", "and", "are", "sensitive", "servicehelper", "different", "from", "entitytype", "always", "use", "capital", "for", "entities", "using", "will"], "text": "### Common Pitfalls\n\n> [!WARNING]\n> **Case Sensitivity**: Thing names and service names are case-sensitive. `\"ServiceHelper\"` is different from `\"servicehelper\"`.\n\n> [!WARNING]\n> **EntityType**: Always use `\"Things\"` (capital T) for Thing entities. Using `\"Thing\"` or `\"things\"` will fail.\n\n> [!CAUTION]\n> **Thing Existence**: Ensure the Thing exists on the server before creating the Mashup. If the Thing doesn't exist, the Mashup will be created but the service will not be available."}
{"id": "kb_000061", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "script", "example", "see", "create_service_helper_mashup", "file", "users", "ideaprojects", "codeingagentthingworxdevelopmentenvironment", "for", "complete", "working", "that", "creates", "with", "the", "servicehelper", "and", "rechner"], "text": "### Full Script Example\n\nSee [create_service_helper_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_service_helper_mashup.js) for a complete working example that creates a Mashup with the ServiceHelper Thing and Rechner service."}
{"id": "kb_000062", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["recipe", "interactive", "mashups", "with", "bindings", "and", "events", "this", "demonstrates", "how", "fully", "that", "bind", "widgets", "parameters", "invoke", "button", "clicks", "display", "results"], "text": "## Recipe 7: Interactive Mashups with Service Bindings and Events\n\nThis recipe demonstrates how to create fully interactive mashups that bind UI widgets to service parameters, invoke services on button clicks, and display service results. This is essential for creating functional applications."}
{"id": "kb_000063", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "complete", "interactivity", "shows", "how", "mashups", "where", "user", "actions", "trigger", "calls", "data", "flow", "demonstrates", "bidirectional", "between", "and", "event", "handling", "explains"], "text": "### Purpose\n*   **Complete Interactivity**: Shows how to create mashups where user actions trigger service calls\n*   **Data Flow**: Demonstrates bidirectional data flow between UI and services\n*   **Event Handling**: Explains how to bind button clicks to service invocations\n*   **Real Example**: Uses a working calculator mashup as reference"}
{"id": "kb_000064", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["when", "use", "this", "pattern", "you", "need", "forms", "that", "submit", "data", "build", "calculators", "processors", "implement", "search", "filter", "functionality", "any", "where", "user"], "text": "### When to Use\nUse this pattern when you need to:\n*   Create forms that submit data to services\n*   Build calculators or data processors\n*   Implement search or filter functionality\n*   Create any mashup where user input triggers backend processing"}
{"id": "kb_000065", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "the", "three", "key", "components", "integration", "recipe", "add", "and", "its", "data", "section", "bindings", "connect", "widgets", "parameters", "outputs", "event", "trigger", "execution"], "text": "### Overview: The Three Key Components\n\n1. **Service Integration** (Recipe 6): Add the Thing and its service to the Data section\n2. **Data Bindings**: Connect UI widgets to service parameters and outputs\n3. **Event Bindings**: Trigger service execution on user actions (e.g., button clicks)"}
{"id": "kb_000066", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "binding", "format", "javascript", "events", "unique", "eventtriggerarea", "where", "the", "originates", "eventhandlerarea", "data", "handler", "eventtriggersection", "empty", "for", "widgets", "eventtriggerid", "button", "widget"], "text": "#### Event Binding Format\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"unique-event-id\",\n        \"EventTriggerArea\": \"UI\",              // Where the event originates\n        \"EventHandlerArea\": \"Data\",            // Where the handler is (service)\n        \"EventTriggerSection\": \"\",             // Empty for UI widgets\n        \"EventTriggerId\": \"button-widget-id\",  // Widget that triggers the event\n        \"EventTriggerEvent\": \"Clicked\",        // Event type (Clicked, Changed, etc.)\n        \"EventHandlerId\": \"ThingName\",         // Thing name from Data section\n        \"EventHandlerService\": \"ServiceName\"   // Service to invoke\n    }\n]\n```"}
{"id": "kb_000067", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["key", "description", "example", "eventtriggerarea", "where", "event", "originates", "data", "eventhandlerarea", "handler", "located", "eventtriggerid", "widget", "triggering", "ptcsbutton", "calculate", "eventtriggerevent", "type", "clicked", "changed"], "text": "#### Key Properties\n\n| Property | Description | Example |\n|----------|-------------|---------|\n| `EventTriggerArea` | Where event originates (`\"UI\"` or `\"Data\"`) | `\"UI\"` |\n| `EventHandlerArea` | Where handler is located (`\"Data\"` or `\"UI\"`) | `\"Data\"` |\n| `EventTriggerId` | ID of widget triggering event | `\"ptcsbutton-calculate\"` |\n| `EventTriggerEvent` | Type of event | `\"Clicked\"`, `\"Changed\"`, `\"SelectedRowsChanged\"` |\n| `EventHandlerId` | Thing name (matches Data section key) | `\"ServiceHelper\"` |\n| `EventHandlerService` | Service name to invoke | `\"Rechner\"` |\n\n> [!IMPORTANT]\n> Event bindings use `EventTrigger*` and `EventHandler*` properties, **not** `Source*` and `Target*` like DataBindings."}
{"id": "kb_000068", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["parameter", "binding", "format", "javascript", "databindings", "unique", "sourceid", "widget", "sourcearea", "sourcesection", "sourcedetails", "targetarea", "data", "targetsection", "thingname", "name", "from", "section", "targetid", "servicename"], "text": "#### Service Parameter Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"widget-id\",           // UI widget ID\n        \"SourceArea\": \"UI\",\n        \"SourceSection\": \"\",\n        \"SourceDetails\": \"\",\n        \"TargetArea\": \"Data\",\n        \"TargetSection\": \"ThingName\",      // Thing name from Data section\n        \"TargetId\": \"ServiceName\",         // Service name\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",              // Widget property\n                \"SourcePropertyType\": \"Property\",\n                \"SourcePropertyBaseType\": \"NUMBER\",     // Widget data type\n                \"TargetProperty\": \"parameterName\",      // Service parameter name\n                \"TargetPropertyType\": \"Parameter\",      // ⚠️ MUST be \"Parameter\"\n                \"TargetPropertyBaseType\": \"NUMBER\"      // Service parameter type\n            }\n        ]\n    }\n]\n```"}
{"id": "kb_000069", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "for", "parameters", "value", "why", "targetarea", "data", "section", "targetsection", "name", "matches", "key", "targetid", "the", "bind", "targetpropertytype", "parameter", "identifies", "input", "targetpropertybasetype"], "text": "#### Critical Properties for Service Parameters\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `TargetArea` | `\"Data\"` | Service is in Data section |\n| `TargetSection` | Thing name | Matches key in Data section |\n| `TargetId` | Service name | The service to bind to |\n| `TargetPropertyType` | **`\"Parameter\"`** | ⚠️ Critical: Identifies service input parameter |\n| `TargetPropertyBaseType` | Match service type | `\"NUMBER\"`, `\"STRING\"`, `\"BOOLEAN\"`, etc. |\n\n> [!WARNING]\n> **TargetPropertyType MUST be `\"Parameter\"`** for service input parameters. Using `\"Property\"` will not work."}
{"id": "kb_000070", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["output", "binding", "format", "javascript", "databindings", "unique", "sourceid", "servicename", "name", "sourcearea", "data", "sourcesection", "thingname", "from", "section", "sourcedetails", "alldata", "must", "for", "results"], "text": "#### Service Output Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"ServiceName\",         // Service name\n        \"SourceArea\": \"Data\",\n        \"SourceSection\": \"ThingName\",      // Thing name from Data section\n        \"SourceDetails\": \"AllData\",        // ⚠️ MUST be \"AllData\" for service results\n        \"TargetArea\": \"UI\",\n        \"TargetSection\": \"\",\n        \"TargetId\": \"widget-id\",           // UI widget ID\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"resultFieldName\",    // Service output field name\n                \"SourcePropertyType\": \"Field\",          // ⚠️ MUST be \"Field\"\n                \"SourcePropertyBaseType\": \"NUMBER\",     // Service output type\n                \"TargetProperty\": \"LabelText\",          // Widget property\n                \"TargetPropertyType\": \"property\",       // lowercase \"property\"\n                \"TargetPropertyBaseType\": \"STRING\"      // Widget property type\n            }\n        ]\n    }\n]\n```"}
{"id": "kb_000071", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "for", "outputs", "value", "why", "sourcearea", "data", "section", "sourcesection", "name", "matches", "key", "sourceid", "the", "providing", "output", "sourcedetails", "alldata", "required", "results"], "text": "#### Critical Properties for Service Outputs\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `SourceArea` | `\"Data\"` | Service is in Data section |\n| `SourceSection` | Thing name | Matches key in Data section |\n| `SourceId` | Service name | The service providing output |\n| `SourceDetails` | **`\"AllData\"`** | ⚠️ Required for service results |\n| `SourcePropertyType` | **`\"Field\"`** | ⚠️ Critical: Identifies service output field |\n\n> [!WARNING]\n> **SourcePropertyType MUST be `\"Field\"`** for service outputs. Using `\"Property\"` will not work.\n\n> [!IMPORTANT]\n> **SourceDetails MUST be `\"AllData\"`** for service output bindings."}
{"id": "kb_000072", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "example", "calculator", "this", "shows", "fully", "functional", "that", "takes", "two", "numeric", "inputs", "zahl", "and", "invokes", "the", "servicehelper", "rechner", "when", "button"], "text": "### Complete Example: Calculator Mashup\n\nThis example shows a fully functional calculator that:\n1. Takes two numeric inputs (Zahl A and Zahl B)\n2. Invokes the ServiceHelper.Rechner service when button is clicked\n3. Displays the result in a label"}
{"id": "kb_000073", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["data", "section", "javascript", "session", "standard", "userextensions", "servicehelper", "dataname", "entityname", "entitytype", "rechnerservice", "name", "rechner", "characteristic", "target", "apimethod", "post", "refreshinterval", "parameters"], "text": "#### Data Section\n\n```javascript\n\"Data\": {\n    \"Session\": { /* ... standard ... */ },\n    \"UserExtensions\": { /* ... standard ... */ },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [{\n            \"Id\": \"RechnerService\",\n            \"Name\": \"Rechner\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"Rechner\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        }]\n    }\n}\n```"}
{"id": "kb_000074", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widgets", "javascript", "type", "numericentry", "label", "zahl", "value", "ptcsbutton", "calculate", "berechnen", "ptcslabel", "result", "labeltext", "ergebnis"], "text": "#### UI Widgets\n\n```javascript\n\"Widgets\": [\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-a\",\n            \"Label\": \"Zahl A:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-b\",\n            \"Label\": \"Zahl B:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcsbutton\",\n            \"Id\": \"ptcsbutton-calculate\",\n            \"Label\": \"Berechnen\"\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcslabel\",\n            \"Id\": \"ptcslabel-result\",\n            \"LabelText\": \"value ergebnis\"\n        }\n    }\n]\n```"}
{"id": "kb_000075", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["events", "button", "click", "invocation", "javascript", "event", "invoke", "rechner", "eventtriggerarea", "eventhandlerarea", "data", "eventtriggersection", "eventtriggerid", "ptcsbutton", "calculate", "eventtriggerevent", "clicked", "eventhandlerid", "servicehelper", "eventhandlerservice"], "text": "#### Events: Button Click → Service Invocation\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"event-button-invoke-rechner\",\n        \"EventTriggerArea\": \"UI\",\n        \"EventHandlerArea\": \"Data\",\n        \"EventTriggerSection\": \"\",\n        \"EventTriggerId\": \"ptcsbutton-calculate\",\n        \"EventTriggerEvent\": \"Clicked\",\n        \"EventHandlerId\": \"ServiceHelper\",\n        \"EventHandlerService\": \"Rechner\"\n    }\n]\n```"}
{"id": "kb_000076", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databindings", "input", "parameter", "javascript", "binding", "sourceid", "numericentry", "sourcearea", "sourcesection", "sourcedetails", "targetarea", "data", "targetsection", "servicehelper", "targetid", "rechner", "propertymaps", "sourceproperty", "value", "sourcepropertytype"], "text": "#### DataBindings: Input A → Service Parameter a\n\n```javascript\n{\n    \"Id\": \"binding-input-a-to-service\",\n    \"SourceId\": \"numericentry-a\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"Value\",\n            \"SourcePropertyType\": \"Property\",\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"a\",\n            \"TargetPropertyType\": \"Parameter\",      // ⚠️ Parameter for service input\n            \"TargetPropertyBaseType\": \"NUMBER\"\n        }\n    ]\n}\n```"}
{"id": "kb_000077", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databindings", "input", "parameter", "javascript", "binding", "sourceid", "numericentry", "sourcearea", "sourcesection", "sourcedetails", "targetarea", "data", "targetsection", "servicehelper", "targetid", "rechner", "propertymaps", "sourceproperty", "value", "sourcepropertytype"], "text": "#### DataBindings: Input B → Service Parameter b\n\n```javascript\n{\n    \"Id\": \"binding-input-b-to-service\",\n    \"SourceId\": \"numericentry-b\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"Value\",\n            \"SourcePropertyType\": \"Property\",\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"b\",\n            \"TargetPropertyType\": \"Parameter\",      // ⚠️ Parameter for service input\n            \"TargetPropertyBaseType\": \"NUMBER\"\n        }\n    ]\n}\n```"}
{"id": "kb_000078", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databindings", "output", "label", "javascript", "binding", "result", "sourceid", "rechner", "sourcearea", "data", "sourcesection", "servicehelper", "sourcedetails", "alldata", "required", "for", "targetarea", "targetsection", "targetid", "ptcslabel"], "text": "#### DataBindings: Service Output → Label\n\n```javascript\n{\n    \"Id\": \"binding-service-result-to-label\",\n    \"SourceId\": \"Rechner\",\n    \"SourceArea\": \"Data\",\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",                     // ⚠️ Required for service output\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"ptcslabel-result\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"result\",\n            \"SourcePropertyType\": \"Field\",          // ⚠️ Field for service output\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"LabelText\",\n            \"TargetPropertyType\": \"property\",\n            \"TargetPropertyBaseType\": \"STRING\"\n        }\n    ]\n}\n```"}
{"id": "kb_000079", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "differences", "summary", "aspect", "parameter", "binding", "output", "direction", "sourcearea", "data", "targetarea", "targetpropertytype", "sourcepropertytype", "field", "sourcedetails", "alldata", "targetsection", "name", "sourcesection"], "text": "### Critical Differences Summary\n\n| Aspect | Service Parameter Binding | Service Output Binding |\n|--------|--------------------------|------------------------|\n| **Direction** | UI → Service | Service → UI |\n| **SourceArea** | `\"UI\"` | `\"Data\"` |\n| **TargetArea** | `\"Data\"` | `\"UI\"` |\n| **TargetPropertyType** | **`\"Parameter\"`** | `\"property\"` |\n| **SourcePropertyType** | `\"Property\"` | **`\"Field\"`** |\n| **SourceDetails** | `\"\"` | **`\"AllData\"`** |\n| **TargetSection** | Thing name | `\"\"` |\n| **SourceSection** | `\"\"` | Thing name |"}
{"id": "kb_000080", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["basetype", "matching", "basetypes", "must", "compatible", "between", "source", "and", "target", "widget", "type", "parameter", "numericentry", "value", "number", "ptcstextfield", "text", "string", "ptcscheckbox", "checked"], "text": "### BaseType Matching\n\nBaseTypes must be compatible between source and target:\n\n| Widget Type | Widget Property | BaseType | Service Parameter Type |\n|-------------|----------------|----------|----------------------|\n| `numericentry` | `Value` | `NUMBER` | `NUMBER` ✅ |\n| `ptcstextfield` | `Text` | `STRING` | `STRING` ✅ |\n| `ptcscheckbox` | `Checked` | `BOOLEAN` | `BOOLEAN` ✅ |\n\n> [!NOTE]\n> Type conversions are allowed (e.g., NUMBER → STRING for display in labels), but matching types is preferred for service parameters."}
{"id": "kb_000081", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "event", "types", "widget", "name", "description", "ptcsbutton", "clicked", "button", "was", "ptcstextfield", "changed", "text", "value", "numericentry", "numeric", "ptcsgrid", "selectedrowschanged", "grid", "selection"], "text": "### Common Event Types\n\n| Widget | Event Name | Description |\n|--------|-----------|-------------|\n| `ptcsbutton` | `Clicked` | Button was clicked |\n| `ptcstextfield` | `Changed` | Text value changed |\n| `numericentry` | `Changed` | Numeric value changed |\n| `ptcsgrid` | `SelectedRowsChanged` | Grid selection changed |\n| `ptcscheckbox` | `Changed` | Checkbox state changed |"}
{"id": "kb_000082", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "wrong", "propertytype", "for", "parameters", "using", "targetpropertytype", "instead", "parameter", "inputs", "will", "fail", "silently", "the", "binding", "appear", "but", "won"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **Wrong PropertyType for Parameters**: Using `TargetPropertyType: \"Property\"` instead of `\"Parameter\"` for service inputs will fail silently. The binding will appear in the mashup but won't work.\n\n> [!CAUTION]\n> **Wrong PropertyType for Outputs**: Using `SourcePropertyType: \"Property\"` instead of `\"Field\"` for service outputs will fail. Service results won't be displayed.\n\n> [!CAUTION]\n> **Missing AllData**: Forgetting `SourceDetails: \"AllData\"` for service output bindings will prevent results from being displayed.\n\n> [!CAUTION]\n> **BaseType Mismatch**: Binding a STRING widget to a NUMBER parameter without proper conversion may cause errors. Always match BaseTypes or ensure compatible conversions.\n\n> [!WARNING]\n> **Event Structure Confusion**: Don't use `SourceId`/`TargetId` in Events. Use `EventTriggerId`/`EventHandlerId` instead."}
{"id": "kb_000083", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "add", "data", "section", "recipe", "define", "with", "entitytype", "register", "array", "widgets", "input", "numericentry", "ptcstextfield", "etc", "action", "widget", "ptcsbutton", "output"], "text": "### Workflow Summary\n\n1. **Add Service to Data Section** (Recipe 6)\n   - Define Thing with EntityType: \"Things\"\n   - Register service in Services array\n\n2. **Create UI Widgets**\n   - Input widgets (numericentry, ptcstextfield, etc.)\n   - Action widget (ptcsbutton)\n   - Output widgets (ptcslabel, etc.)\n\n3. **Bind Inputs to Service Parameters**\n   - SourceArea: \"UI\"\n   - TargetArea: \"Data\"\n   - TargetPropertyType: **\"Parameter\"**\n   - Match BaseTypes\n\n4. **Bind Service Outputs to Display Widgets**\n   - SourceArea: \"Data\"\n   - TargetArea: \"UI\"\n   - SourcePropertyType: **\"Field\"**\n   - SourceDetails: **\"AllData\"**\n\n5. **Add Event to Trigger Service**\n   - EventTriggerArea: \"UI\"\n   - EventHandlerArea: \"Data\"\n   - EventTriggerEvent: \"Clicked\"\n   - EventHandlerService: Service name"}
{"id": "kb_000084", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "working", "example", "see", "create_calculator_mashup", "file", "users", "ideaprojects", "codeingagentthingworxdevelopmentenvironment", "for", "complete", "implementation", "interactive", "calculator", "with", "all", "bindings", "and", "events", "properly"], "text": "### Full Working Example\n\nSee [create_calculator_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_calculator_mashup.js) for a complete, working implementation of an interactive calculator mashup with all bindings and events properly configured."}
{"id": "kb_000085", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "checklist", "when", "creating", "interactive", "mashups", "with", "bindings", "added", "data", "section", "recipe", "input", "widgets", "created", "output", "action", "button", "parameter"], "text": "### Quick Reference Checklist\n\nWhen creating interactive mashups with service bindings:\n\n- [ ] Service added to Data section (Recipe 6)\n- [ ] UI input widgets created\n- [ ] UI output widgets created\n- [ ] Action button created\n- [ ] Input → Parameter bindings use `TargetPropertyType: \"Parameter\"`\n- [ ] Output bindings use `SourcePropertyType: \"Field\"`\n- [ ] Output bindings include `SourceDetails: \"AllData\"`\n- [ ] BaseTypes match between source and target\n- [ ] Event binding uses `EventTrigger*` and `EventHandler*` properties\n- [ ] Event points to correct Thing and Service names"}
{"id": "kb_000086", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["recipe", "chaining", "with", "serviceinvokecompleted", "this", "demonstrates", "how", "chain", "multiple", "together", "where", "one", "completion", "automatically", "triggers", "another", "the", "first", "output", "feeding"], "text": "## Recipe 8: Service Chaining with ServiceInvokeCompleted\n\nThis recipe demonstrates how to chain multiple services together, where one service's completion automatically triggers another service, with the first service's output feeding into the second service's input. This enables complex multi-step processing workflows."}
{"id": "kb_000087", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "automated", "workflows", "multi", "step", "processing", "without", "user", "intervention", "orchestration", "chain", "together", "for", "complex", "calculations", "event", "driven", "architecture", "use", "serviceinvokecompleted"], "text": "### Purpose\n*   **Automated Workflows**: Create multi-step processing without user intervention\n*   **Service Orchestration**: Chain services together for complex calculations\n*   **Event-Driven Architecture**: Use ServiceInvokeCompleted to trigger subsequent actions\n*   **Data Pipeline**: Pass data through multiple processing stages"}
{"id": "kb_000088", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["when", "use", "this", "pattern", "you", "need", "perform", "multi", "step", "calculations", "calculate", "sum", "then", "multiply", "result", "data", "processing", "pipelines", "implement", "sequential"], "text": "### When to Use\nUse this pattern when you need to:\n*   Perform multi-step calculations (e.g., calculate sum, then multiply result)\n*   Create data processing pipelines\n*   Implement sequential business logic\n*   Chain validation and processing steps\n*   Build complex workflows with multiple service calls"}
{"id": "kb_000089", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "chaining", "flow", "mermaid", "graph", "user", "input", "serviceinvokecompleted", "display", "result", "output", "provides", "and", "triggers", "first", "executes", "with", "event", "fires", "when"], "text": "### Overview: Service Chaining Flow\n\n```mermaid\ngraph LR\n    A[User Input] --> B[Service 1]\n    B -->|ServiceInvokeCompleted| C[Service 2]\n    C --> D[Display Result]\n    B -.Output.-> C\n```\n\n1. User provides input and triggers first service\n2. First service executes with user input\n3. **ServiceInvokeCompleted** event fires when first service completes\n4. Second service is automatically invoked\n5. Second service receives first service's output as input\n6. Final result is displayed to user"}
{"id": "kb_000090", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "description", "name", "serviceinvokecompleted", "trigger", "fires", "after", "execution", "completes", "availability", "available", "all", "invocations", "use", "case", "triggering", "subsequent", "updates", "important", "automatically"], "text": "#### Event Properties\n\n| Property | Description |\n|----------|-------------|\n| Event Name | `ServiceInvokeCompleted` |\n| Trigger | Fires after service execution completes |\n| Availability | Available on all service invocations |\n| Use Case | Triggering subsequent services or UI updates |\n\n> [!IMPORTANT]\n> `ServiceInvokeCompleted` is automatically triggered by ThingWorx when a service finishes. You don't invoke it manually."}
{"id": "kb_000091", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "binding", "format", "for", "chaining", "javascript", "events", "unique", "eventtriggerarea", "data", "not", "eventhandlerarea", "eventtriggersection", "thingname", "required", "eventtriggerid", "firstservicename", "that", "completes", "eventtriggerevent"], "text": "#### Event Binding Format for Service Chaining\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"unique-event-id\",\n        \"EventTriggerArea\": \"Data\",              // ⚠️ Data, not UI\n        \"EventHandlerArea\": \"Data\",              // ⚠️ Data, not UI\n        \"EventTriggerSection\": \"ThingName\",      // ⚠️ Required for Data events\n        \"EventTriggerId\": \"FirstServiceName\",    // Service that completes\n        \"EventTriggerEvent\": \"ServiceInvokeCompleted\",\n        \"EventHandlerId\": \"ThingName\",           // Can be same or different Thing\n        \"EventHandlerService\": \"SecondServiceName\"  // Service to invoke\n    }\n]\n```"}
{"id": "kb_000092", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["key", "differences", "from", "events", "event", "eventtriggerarea", "data", "eventhandlerarea", "eventtriggersection", "empty", "name", "required", "eventtriggerevent", "clicked", "changed", "etc", "serviceinvokecompleted", "eventtriggerid", "widget", "warning"], "text": "#### Key Differences from UI-to-Service Events\n\n| Property | UI-to-Service Event | Service-to-Service Event |\n|----------|-------------------|------------------------|\n| `EventTriggerArea` | `\"UI\"` | **`\"Data\"`** |\n| `EventHandlerArea` | `\"Data\"` | **`\"Data\"`** |\n| `EventTriggerSection` | `\"\"` (empty) | **Thing name** (required) |\n| `EventTriggerEvent` | `\"Clicked\"`, `\"Changed\"`, etc. | **`\"ServiceInvokeCompleted\"`** |\n| `EventTriggerId` | Widget ID | **Service name** |\n\n> [!WARNING]\n> **EventTriggerSection is REQUIRED** for Data area events. It must contain the Thing name."}
{"id": "kb_000093", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["output", "parameter", "binding", "format", "javascript", "databindings", "unique", "sourceid", "firstservicename", "providing", "sourcearea", "data", "sourcesection", "thingname", "sourcedetails", "alldata", "required", "for", "outputs", "targetarea"], "text": "#### Service Output → Service Parameter Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"FirstServiceName\",        // Service providing output\n        \"SourceArea\": \"Data\",\n        \"SourceSection\": \"ThingName\",\n        \"SourceDetails\": \"AllData\",            // ⚠️ Required for service outputs\n        \"TargetArea\": \"Data\",                  // ⚠️ Data, not UI\n        \"TargetSection\": \"ThingName\",          // Can be same or different Thing\n        \"TargetId\": \"SecondServiceName\",       // Service receiving input\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"outputFieldName\",     // First service output\n                \"SourcePropertyType\": \"Field\",           // ⚠️ Field for service output\n                \"SourcePropertyBaseType\": \"NUMBER\",\n                \"TargetProperty\": \"inputParameterName\",  // Second service input\n                \"TargetPropertyType\": \"Parameter\",       // ⚠️ Parameter for service input\n                \"TargetPropertyBaseType\": \"NUMBER\"\n            }\n        ]\n    }\n]\n```"}
{"id": "kb_000094", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "for", "binding", "value", "why", "sourcearea", "data", "first", "section", "targetarea", "second", "also", "sourcepropertytype", "field", "output", "targetpropertytype", "parameter", "input", "sourcedetails", "alldata"], "text": "#### Critical Properties for Service-to-Service Binding\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `SourceArea` | `\"Data\"` | First service is in Data section |\n| `TargetArea` | **`\"Data\"`** | ⚠️ Second service is also in Data section |\n| `SourcePropertyType` | `\"Field\"` | Service output field |\n| `TargetPropertyType` | `\"Parameter\"` | Service input parameter |\n| `SourceDetails` | `\"AllData\"` | Required for service outputs |\n\n> [!IMPORTANT]\n> Both SourceArea and TargetArea are `\"Data\"` for service-to-service bindings. This is different from UI-to-Service or Service-to-UI bindings."}
{"id": "kb_000095", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "example", "chained", "calculator", "this", "chains", "two", "rechner", "takes", "inputs", "returns", "their", "sum", "result", "rechner2", "one", "input", "flow", "user", "and"], "text": "### Complete Example: Chained Calculator\n\nThis example chains two services:\n1. **Rechner**: Takes two inputs (a, b), returns their sum as result\n2. **Rechner2**: Takes one input (c), returns c * 2 as result\n\n**Flow**: User inputs A and B → Rechner calculates (A + B) → Rechner2 calculates (result * 2) → Display final result"}
{"id": "kb_000096", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["data", "section", "two", "javascript", "session", "standard", "userextensions", "servicehelper", "dataname", "entityname", "entitytype", "rechnerservice", "name", "rechner", "characteristic", "target", "apimethod", "post", "refreshinterval", "parameters"], "text": "#### Data Section: Two Services\n\n```javascript\n\"Data\": {\n    \"Session\": { /* ... standard ... */ },\n    \"UserExtensions\": { /* ... standard ... */ },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [\n            {\n                \"Id\": \"RechnerService\",\n                \"Name\": \"Rechner\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            },\n            {\n                \"Id\": \"Rechner2Service\",\n                \"Name\": \"Rechner2\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner2\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }\n        ]\n    }\n}\n```"}
{"id": "kb_000097", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widgets", "javascript", "type", "numericentry", "label", "zahl", "value", "ptcsbutton", "calculate", "berechnen", "ptcslabel", "result", "labeltext", "ergebnis"], "text": "#### UI Widgets\n\n```javascript\n\"Widgets\": [\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-a\",\n            \"Label\": \"Zahl A:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-b\",\n            \"Label\": \"Zahl B:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcsbutton\",\n            \"Id\": \"ptcsbutton-calculate\",\n            \"Label\": \"Berechnen\"\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcslabel\",\n            \"Id\": \"ptcslabel-result\",\n            \"LabelText\": \"value ergebnis\"\n        }\n    }\n]\n```"}
{"id": "kb_000098", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "button", "click", "rechner", "javascript", "invoke", "eventtriggerarea", "eventhandlerarea", "data", "eventtriggersection", "eventtriggerid", "ptcsbutton", "calculate", "eventtriggerevent", "clicked", "eventhandlerid", "servicehelper", "eventhandlerservice"], "text": "#### Event 1: Button Click → Rechner Service\n\n```javascript\n{\n    \"Id\": \"event-button-invoke-rechner\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"ptcsbutton-calculate\",\n    \"EventTriggerEvent\": \"Clicked\",\n    \"EventHandlerId\": \"ServiceHelper\",\n    \"EventHandlerService\": \"Rechner\"\n}\n```"}
{"id": "kb_000099", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "rechner", "complete", "rechner2", "chaining", "javascript", "invoke", "eventtriggerarea", "data", "area", "eventhandlerarea", "eventtriggersection", "servicehelper", "name", "required", "eventtriggerid", "first", "eventtriggerevent", "serviceinvokecompleted", "completion"], "text": "#### Event 2: Rechner Complete → Rechner2 Service (Service Chaining)\n\n```javascript\n{\n    \"Id\": \"event-rechner-complete-invoke-rechner2\",\n    \"EventTriggerArea\": \"Data\",                    // ⚠️ Data area\n    \"EventHandlerArea\": \"Data\",                    // ⚠️ Data area\n    \"EventTriggerSection\": \"ServiceHelper\",        // ⚠️ Thing name required\n    \"EventTriggerId\": \"Rechner\",                   // First service\n    \"EventTriggerEvent\": \"ServiceInvokeCompleted\", // ⚠️ Completion event\n    \"EventHandlerId\": \"ServiceHelper\",\n    \"EventHandlerService\": \"Rechner2\"              // Second service\n}\n```"}
{"id": "kb_000100", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databinding", "input", "rechner", "javascript", "binding", "sourceid", "numericentry", "sourcearea", "sourcesection", "sourcedetails", "targetarea", "data", "targetsection", "servicehelper", "targetid", "propertymaps", "sourceproperty", "value", "sourcepropertytype", "sourcepropertybasetype"], "text": "#### DataBinding 1: Input A → Rechner.a\n\n```javascript\n{\n    \"Id\": \"binding-input-a-to-rechner\",\n    \"SourceId\": \"numericentry-a\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"a\",\n        \"TargetPropertyType\": \"Parameter\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```"}
{"id": "kb_000101", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databinding", "input", "rechner", "javascript", "binding", "sourceid", "numericentry", "sourcearea", "sourcesection", "sourcedetails", "targetarea", "data", "targetsection", "servicehelper", "targetid", "propertymaps", "sourceproperty", "value", "sourcepropertytype", "sourcepropertybasetype"], "text": "#### DataBinding 2: Input B → Rechner.b\n\n```javascript\n{\n    \"Id\": \"binding-input-b-to-rechner\",\n    \"SourceId\": \"numericentry-b\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"b\",\n        \"TargetPropertyType\": \"Parameter\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```"}
{"id": "kb_000102", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databinding", "rechner", "result", "rechner2", "javascript", "binding", "sourceid", "sourcearea", "data", "area", "sourcesection", "servicehelper", "sourcedetails", "alldata", "targetarea", "not", "targetsection", "targetid", "propertymaps", "sourceproperty"], "text": "#### DataBinding 3: Rechner.result → Rechner2.c (Service-to-Service)\n\n```javascript\n{\n    \"Id\": \"binding-rechner-result-to-rechner2-c\",\n    \"SourceId\": \"Rechner\",\n    \"SourceArea\": \"Data\",                          // ⚠️ Data area\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",\n    \"TargetArea\": \"Data\",                          // ⚠️ Data area (not UI)\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner2\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"result\",\n        \"SourcePropertyType\": \"Field\",             // ⚠️ Service output\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"c\",\n        \"TargetPropertyType\": \"Parameter\",         // ⚠️ Service input\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```"}
{"id": "kb_000103", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["databinding", "rechner2", "result", "label", "javascript", "binding", "sourceid", "sourcearea", "data", "sourcesection", "servicehelper", "sourcedetails", "alldata", "targetarea", "targetsection", "targetid", "ptcslabel", "propertymaps", "sourceproperty", "sourcepropertytype"], "text": "#### DataBinding 4: Rechner2.result → Label\n\n```javascript\n{\n    \"Id\": \"binding-rechner2-result-to-label\",\n    \"SourceId\": \"Rechner2\",\n    \"SourceArea\": \"Data\",\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"ptcslabel-result\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"result\",\n        \"SourcePropertyType\": \"Field\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"LabelText\",\n        \"TargetPropertyType\": \"property\",\n        \"TargetPropertyBaseType\": \"STRING\"\n    }]\n}\n```"}
{"id": "kb_000104", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["execution", "flow", "diagram", "mermaid", "sequencediagram", "participant", "user", "button", "rechner", "rechner2", "label", "click", "berechnen", "invoke", "with", "note", "over", "calculate", "serviceinvokecompleted", "auto"], "text": "### Execution Flow Diagram\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant Button\n    participant Rechner\n    participant Rechner2\n    participant Label\n    \n    User->>Button: Click \"Berechnen\"\n    Button->>Rechner: Invoke with a, b\n    Note over Rechner: Calculate a + b\n    Rechner-->>Rechner: ServiceInvokeCompleted\n    Rechner->>Rechner2: Auto-invoke with result as c\n    Note over Rechner2: Calculate c * 2\n    Rechner2->>Label: Display final result\n```"}
{"id": "kb_000105", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["binding", "summary", "table", "source", "target", "type", "purpose", "input", "rechner", "data", "user", "first", "result", "rechner2", "chaining", "label", "display", "final"], "text": "### Binding Summary Table\n\n| Binding | Source | Target | Type | Purpose |\n|---------|--------|--------|------|---------|\n| 1 | UI (Input A) | Rechner.a | UI → Data | User input to first service |\n| 2 | UI (Input B) | Rechner.b | UI → Data | User input to first service |\n| 3 | Rechner.result | Rechner2.c | **Data → Data** | **Service chaining** |\n| 4 | Rechner2.result | UI (Label) | Data → UI | Display final result |"}
{"id": "kb_000106", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "summary", "table", "trigger", "handler", "purpose", "button", "click", "rechner", "data", "user", "initiates", "process", "complete", "rechner2", "automatic", "chaining"], "text": "### Event Summary Table\n\n| Event | Trigger | Handler | Purpose |\n|-------|---------|---------|---------|\n| 1 | Button Click (UI) | Rechner (Data) | User initiates process |\n| 2 | Rechner Complete (Data) | Rechner2 (Data) | **Automatic service chaining** |"}
{"id": "kb_000107", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "differences", "aspect", "event", "trigger", "area", "data", "handler", "section", "empty", "name", "required", "clicked", "changed", "serviceinvokecompleted", "databinding", "source", "target", "type", "user"], "text": "### Critical Differences: UI-to-Service vs Service-to-Service\n\n| Aspect | UI-to-Service | Service-to-Service |\n|--------|--------------|-------------------|\n| **Event Trigger Area** | `\"UI\"` | **`\"Data\"`** |\n| **Event Handler Area** | `\"Data\"` | **`\"Data\"`** |\n| **Event Trigger Section** | `\"\"` (empty) | **Thing name (required)** |\n| **Event Trigger Event** | `\"Clicked\"`, `\"Changed\"` | **`\"ServiceInvokeCompleted\"`** |\n| **DataBinding Source Area** | `\"UI\"` | **`\"Data\"`** |\n| **DataBinding Target Area** | `\"Data\"` | **`\"Data\"`** |\n| **Trigger Type** | User action | **Automatic (event-driven)** |"}
{"id": "kb_000108", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "use", "cases", "multi", "step", "calculations", "calculate", "subtotal", "tax", "total", "perform", "operation", "validate", "result", "format", "output", "data", "processing", "pipelines", "fetch"], "text": "### Common Use Cases\n\n1. **Multi-Step Calculations**\n   - Calculate subtotal → Calculate tax → Calculate total\n   - Perform operation → Validate result → Format output\n\n2. **Data Processing Pipelines**\n   - Fetch data → Transform data → Store data\n   - Parse input → Validate → Process → Return result\n\n3. **Sequential Validation**\n   - Validate format → Validate business rules → Save\n   - Check permissions → Verify data → Execute action\n\n4. **Conditional Workflows**\n   - Service 1 determines path → Service 2A or 2B executes\n   - Calculate score → Trigger appropriate action based on score"}
{"id": "kb_000109", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "missing", "eventtriggersection", "for", "data", "area", "events", "must", "contain", "the", "name", "leaving", "empty", "will", "cause", "event", "fail", "wrong"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **Missing EventTriggerSection**: For Data area events, EventTriggerSection MUST contain the Thing name. Leaving it empty will cause the event to fail.\n\n> [!CAUTION]\n> **Wrong Event Areas**: Both EventTriggerArea and EventHandlerArea must be `\"Data\"` for service-to-service events. Using `\"UI\"` will not work.\n\n> [!CAUTION]\n> **Wrong Binding Areas**: For service-to-service DataBindings, both SourceArea and TargetArea must be `\"Data\"`. Don't use `\"UI\"` for either.\n\n> [!WARNING]\n> **Circular Dependencies**: Be careful not to create circular service chains (Service A → Service B → Service A). This will cause infinite loops.\n\n> [!WARNING]\n> **Missing AllData**: Service output bindings always need `SourceDetails: \"AllData\"`, even for service-to-service bindings."}
{"id": "kb_000110", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "register", "both", "recipe", "add", "the", "same", "data", "section", "from", "different", "widgets", "input", "for", "first", "parameters", "button", "trigger", "output"], "text": "### Workflow Summary\n\n1. **Register Both Services** (Recipe 6)\n   - Add both services to the same Thing in Data section\n   - Or add services from different Things\n\n2. **Create UI Widgets**\n   - Input widgets for first service parameters\n   - Button to trigger first service\n   - Output widget for final result\n\n3. **Bind UI to First Service**\n   - Input widgets → First service parameters\n   - Button click → First service invocation\n\n4. **Chain Services with Event**\n   - First service ServiceInvokeCompleted → Second service invocation\n   - EventTriggerArea: \"Data\"\n   - EventTriggerSection: Thing name\n\n5. **Bind Service Output to Service Input**\n   - First service output → Second service parameter\n   - SourceArea: \"Data\", TargetArea: \"Data\"\n   - SourcePropertyType: \"Field\", TargetPropertyType: \"Parameter\"\n\n6. **Bind Final Output to UI**\n   - Second service output → Display widget\n   - Standard service-to-UI binding"}
{"id": "kb_000111", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "working", "example", "see", "create_chained_calculator_mashup", "file", "users", "ideaprojects", "codeingagentthingworxdevelopmentenvironment", "for", "complete", "implementation", "chained", "calculator", "with", "proper", "chaining", "and", "all", "bindings"], "text": "### Full Working Example\n\nSee [create_chained_calculator_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_chained_calculator_mashup.js) for a complete, working implementation of a chained calculator mashup with proper service chaining and all bindings correctly configured."}
{"id": "kb_000112", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "checklist", "when", "creating", "chaining", "mashups", "both", "registered", "data", "section", "inputs", "bound", "first", "parameters", "button", "click", "event", "triggers", "serviceinvokecompleted"], "text": "### Quick Reference Checklist\n\nWhen creating service chaining mashups:\n\n- [ ] Both services registered in Data section\n- [ ] UI inputs bound to first service parameters\n- [ ] Button click event triggers first service\n- [ ] ServiceInvokeCompleted event added for first service\n- [ ] ServiceInvokeCompleted event uses `EventTriggerArea: \"Data\"`\n- [ ] ServiceInvokeCompleted event includes `EventTriggerSection: \"ThingName\"`\n- [ ] Service-to-service binding uses `SourceArea: \"Data\"` and `TargetArea: \"Data\"`\n- [ ] Service output uses `SourcePropertyType: \"Field\"`\n- [ ] Service input uses `TargetPropertyType: \"Parameter\"`\n- [ ] Service output binding includes `SourceDetails: \"AllData\"`\n- [ ] BaseTypes match throughout the chain\n- [ ] Final service output bound to UI display widget\n- [ ] No circular dependencies in service chain\n\n---"}
{"id": "kb_000113", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "parameters", "enable", "mashups", "receive", "input", "values", "from", "external", "sources", "when", "embedded", "other", "opened", "with", "url", "can", "created", "via", "the"], "text": "### Overview\n\nMashup parameters enable mashups to receive input values from external sources (e.g., when embedded in other mashups or opened with URL parameters). Parameters can be created via the REST API, though some configuration options require specific property mappings that differ from intuitive naming."}
{"id": "kb_000114", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["erinnerungen", "hinzuf", "gen", "add", "memories", "this", "checkbox", "the", "maps", "ismandatory", "definition", "checked", "true", "unchecked", "false", "note", "islocalproperty", "attribute", "does", "not"], "text": "#### 1. \"Zu Erinnerungen hinzufügen\" (Add to Memories)\nThis checkbox in the UI maps to the **`isMandatory`** property in the JSON definition.\n- Checkbox Checked = `isMandatory: \"true\"`\n- Checkbox Unchecked = `isMandatory: \"false\"`\n\n> [!NOTE]\n> The `isLocalProperty` attribute does **not** control this setting, despite the naming similarity."}
{"id": "kb_000115", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["binding", "directions", "bindungsrichtung", "the", "mapping", "between", "terms", "and", "values", "follows", "term", "german", "meaning", "value", "quelle", "source", "ziel", "target", "out", "beide"], "text": "#### 2. Binding Directions (Bindungsrichtung)\nThe mapping between the UI terms and the JSON values is as follows:\n\n| UI Term (German) | UI Meaning | JSON Value |\n|------------------|------------|------------|\n| **Quelle**       | Source     | `\"IN\"`     |\n| **Ziel**         | Target     | `\"OUT\"`    |\n| **Beide**        | Both       | `\"BOTH\"`   |\n\n> [!IMPORTANT]\n> This mapping (`Quelle` -> `IN`, `Ziel` -> `OUT`) appears counter-intuitive but has been verified in practice. \"Source\" parameters act as Inputs (`IN`) to the Mashup, while \"Target\" parameters act as Outputs (`OUT`) from the Mashup."}
{"id": "kb_000116", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["parameter", "structure", "parameters", "must", "defined", "two", "locations", "for", "them", "appear", "the", "configuration", "dialog", "parameterdefinitions", "entity", "level", "ismandatory", "string", "true", "false"], "text": "### Parameter Structure\n\nParameters must be defined in **two locations** for them to appear in the configuration dialog:\n\n1. **`parameterDefinitions`** - At the mashup entity level\n   - `isMandatory` must be a **String** (`\"true\"`/`\"false\"`) here.\n2. **`_currentParameterDefs`** - Inside `mashupContent.UI.Properties`\n   - `isMandatory` must be a **Boolean** (`true`/`false`) here."}
{"id": "kb_000117", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "example", "adding", "parameters", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env", "envcontent", "readfilesync", "utf8", "split", "foreach", "line"], "text": "### Complete Example: Adding Parameters to a Mashup\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"MyMashup\";\n\nasync function addMashupParameters() {\n    console.log(`Adding parameters to mashup: ${MASHUP_NAME}...`);\n\n    // Step 1: Get current mashup\n    const getResponse = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n        method: 'GET',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        }\n    });\n\n    if (!getResponse.ok) {\n        console.error(`Failed to get mashup: ${getResponse.status}`);\n        return;\n    }\n\n    const mashup = await getResponse.json();\n    const mashupContent = JSON.parse(mashup.mashupContent);\n    \n    // Step 2: Define parameters in parameterDefinitions\n    // Note: isMandatory is a STRING here\n    mashup.parameterDefinitions = {\n        \"InputValue\": {\n            \"name\": \"InputValue\",\n            \"description\": \"Input value (Source/Quelle)\",\n            \"baseType\": \"INTEGER\",\n            \"ordinal\": 0,\n            \"aspects\": {\n                \"bindingDirection\": \"IN\",    // Quelle\n                \"isMandatory\": \"true\"        // Zu Erinnerungen hinzufügen = CHECKED\n            }\n        },\n        \"OutputValue\": {\n            \"name\": \"OutputValue\",\n            \"description\": \"Output value (Target/Ziel)\",\n            \"baseType\": \"STRING\",\n            \"ordinal\": 1,\n            \"aspects\": {\n                \"bindingDirection\": \"OUT\",   // Ziel\n                \"isMandatory\": \"false\"       // Zu Erinnerungen hinzufügen = UNCHECKED\n            }\n        },\n        \"BiDirValue\": {\n            \"name\": \"BiDirValue\",\n            \"description\": \"Bidirectional value (Both/Beide)\",\n            \"baseType\": \"BOOLEAN\",\n            \"ordinal\": 2,\n            \"aspects\": {\n                \"bindingDirection\": \"BOTH\",  // Beide\n                \"isMandatory\": \"true\"        // Zu Erinnerungen hinzufügen = CHECKED\n            }\n        }\n    };\n    \n    // Step 3: Add parameters to _currentParameterDefs in mashupContent\n    // Note: isMandatory is a BOOLEAN here\n    mashupContent.UI.Properties._currentParameterDefs = [\n        {\n            \"ParameterName\": \"InputValue\",\n            \"BaseType\": \"INTEGER\",\n            \"Description\": \"Input value (Source/Quelle)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"IN\",\n                \"isMandatory\": true\n            }\n        },\n        {\n            \"ParameterName\": \"OutputValue\",\n            \"BaseType\": \"STRING\",\n            \"Description\": \"Output value (Target/Ziel)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"OUT\",\n                \"isMandatory\": false\n            }\n        },\n        {\n            \"ParameterName\": \"BiDirValue\",\n            \"BaseType\": \"BOOLEAN\",\n            \"Description\": \"Bidirectional value (Both/Beide)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"BOTH\",\n                \"isMandatory\": true\n            }\n        }\n    ];\n    \n    // Step 4: Update mashupContent\n    mashup.mashupContent = JSON.stringify(mashupContent);\n\n    // Step 5: Save mashup\n    const updateResponse = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(mashup)\n    });\n\n    if (!updateResponse.ok) {\n        const text = await updateResponse.text();\n        console.error(`Failed to update mashup: ${updateResponse.status}`);\n  "}
{"id": "kb_000118", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["checklist", "for", "success", "use", "ismandatory", "control", "erinnerungen", "hinzuf", "gen", "persistence", "quelle", "source", "binding", "direction", "out", "ziel", "target", "both", "beide", "string"], "text": "### Checklist for Success\n\n- [ ] Use `isMandatory` to control \"Zu Erinnerungen hinzufügen\" (Persistence).\n- [ ] Use `IN` for \"Quelle\" (Source) binding direction.\n- [ ] Use `OUT` for \"Ziel\" (Target) binding direction.\n- [ ] Use `BOTH` for \"Beide\" (Both) binding direction.\n- [ ] Use **String** values (`\"true\"`) in `parameterDefinitions` but **Boolean** values (`true`) in `_currentParameterDefs`.\n\n---"}
{"id": "kb_000119", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "session", "management", "demonstrates", "how", "properly", "implement", "logout", "function", "special", "widget", "uses", "the", "logoutfunction", "type", "not", "data", "binding", "shows", "correct"], "text": "### Purpose\n*   **Session Management**: Demonstrates how to properly implement a Logout function.\n*   **Special Widget**: Uses the `logoutfunction` widget type (not a Data Service).\n*   **UI-to-UI Binding**: Shows the correct way to bind a button click to a UI function widget."}
{"id": "kb_000120", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["structure", "logout", "function", "widget", "special", "the", "widgets", "list", "not", "data", "section", "button", "standard", "trigger", "event", "binding", "connects", "clicked"], "text": "### Structure\n1.  **Logout Function Widget**: A special widget in the `Widgets` list (not `Data` section).\n2.  **Button**: A standard button to trigger the event.\n3.  **Binding**: Connects `Clicked` event of the button to the `Logout` service of the function widget."}
{"id": "kb_000121", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["logout", "function", "widget", "the", "actually", "definition", "not", "data", "section", "javascript", "area", "type", "logoutfunction", "typedisplayname", "option", "redirect", "url", "redirectto", "https", "www"], "text": "#### 1. Logout Function Widget\nThe Logout function is actually a **Widget** in the UI definition, **not** a service in the Data section.\n\n```javascript\n{\n    \"Properties\": {\n        \"Area\": \"UI\",\n        \"Type\": \"logoutfunction\",\n        \"__TypeDisplayName\": \"Logout-Function\",\n        \n        // Option A: Redirect to URL\n        \"RedirectTo\": \"url\",\n        \"URL\": \"https://www.atio.de/\",\n        \n        // Option B: Redirect to Mashup\n        // \"RedirectTo\": \"Mashup\",\n        // \"LogoutTargetMashup\": \"tk.taskManager-mu\",\n        \n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Id\": \"logoutfunction-abmelden\",\n        \"DisplayName\": \"AbmeldenFunktion\",\n        \"ResponsiveLayout\": false\n    },"}
{"id": "kb_000122", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["configuration", "options", "redirect", "url", "set", "redirectto", "and", "provide", "the", "destination", "https", "www", "atio", "target", "name", "logouttargetmashup", "taskmanager"], "text": "#### Configuration Options\n\n*   **Redirect to URL**: Set `RedirectTo` to `\"url\"` and provide the destination in `URL` property (e.g. `https://www.atio.de/`).\n*   **Redirect to Mashup**: Set `RedirectTo` to `\"Mashup\"` and provide the target mashup name in `LogoutTargetMashup` property (e.g. `tk.taskManager-mu`)."}
{"id": "kb_000123", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "binding", "crucial", "the", "must", "link", "button", "clicked", "logout", "function", "important", "both", "eventtriggerarea", "and", "eventhandlerarea", "set", "javascript", "events", "target", "area"], "text": "#### 2. Event Binding (Crucial)\nThe binding must link the Button's `Clicked` event to the Logout Function's `Logout` service.\n**Important**: Both `EventTriggerArea` and `EventHandlerArea` must be set to `\"UI\"`.\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"binding-event-logout-12345\",\n        \"EventTriggerArea\": \"UI\",\n        \"EventHandlerArea\": \"UI\", // IMPORTANT: Target is in UI Area\n        \"EventTriggerSection\": \"\",\n        \"EventTriggerId\": \"ptcsbutton-logout\", // Button ID\n        \"EventTriggerEvent\": \"Clicked\",\n        \"EventHandlerId\": \"logoutfunction-abmelden\", // Logout Widget ID\n        \"EventHandlerService\": \"Logout\"\n    }\n]\n```"}
{"id": "kb_000124", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "creation", "script", "template", "use", "this", "with", "functional", "logout", "button", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env"], "text": "### Full Creation Script Template\n\nUse this script to create a mashup with a functional Logout button.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.logout-mashup\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Logout Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"__TypeDisplayName\": \"Button\",\n                                \"Id\": \"ptcsbutton-logout\",\n                                \"DisplayName\": \"btnAbmelden\",\n                                \"Label\": \"Abmelden\",\n                                \"ButtonType\": \"primary\",\n                                \"UseTheme\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // The Logout Function Widget\n                {\n                    \"Properties\": {\n                        \"Area\": \"UI\",\n                        \"Type\": \"logoutfunction\",\n                        \"__TypeDisplayName\": \"Logout-Function\",\n                        \n                        // Option A: Redirect to URL\n                        \"RedirectTo\": \"url\",\n                        \"URL\": \"https://www.atio.de/\",\n                        \n                        // Option B: Redirect to Mashup\n                        // \"RedirectTo\": \"Mashup\",\n                        // \"LogoutTargetMashup\": \"tk.taskManager-mu\",\n                        \n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"Id\": \"logoutfunction-abmelden\",\n                        \"DisplayName\": \"AbmeldenFunktion\",\n                        \"Description\": \"Funktion zum Abmelden\",\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"LogoutTargetMashup\": \"\"\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n             "}
{"id": "kb_000125", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "user", "feedback", "show", "ephemeral", "success", "warning", "error", "messages", "toasts", "legacy", "note", "the", "statusmessage", "widget", "marked", "modern", "but", "remains", "standard"], "text": "### Purpose\n*   **User Feedback**: Show ephemeral success, warning, or error messages (Toasts).\n*   **Legacy Note**: The `statusmessage` widget is marked as \"Legacy\" in modern ThingWorx, but remains the standard method for simple toast notifications when not using custom web components. Despite the warning, it is fully functional."}
{"id": "kb_000126", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "configuration", "the", "statusmessage", "invisible", "function", "does", "not", "appear", "visually", "until", "triggered", "key", "type", "messagetype", "determines", "style", "icon", "color", "info"], "text": "### Widget Configuration\nThe `statusmessage` widget is an invisible function widget. It does not appear visually until triggered.\n\n**Key Properties:**\n*   `Type`: `\"statusmessage\"`\n*   `MessageType`: Determines the style (icon/color).\n    *   `\"info\"`: Information (Blue/Neutral)\n    *   `\"warn\"`: Warning (Yellow/Orange)\n    *   `\"error\"`: Error (Red)\n*   `Message`: The text to display.\n*   `Area`: `\"UI\"` (Crucial for binding to UI buttons).\n\n**Key Services:**\n*   `ShowMessage`: The service that triggers the toaster to appear. This **must** be bound to an event (e.g., `Clicked` from a button) to make the message visible."}
{"id": "kb_000127", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "creation", "script", "template", "use", "this", "simple", "with", "buttons", "triggering", "different", "status", "messages", "javascript", "const", "require", "path", "load", "config", "envpath"], "text": "### Full Creation Script Template\n\nUse this script to create a simple mashup with buttons triggering different status messages.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.status-message-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Status Message Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"ResponsiveLayout\": true\n                    },\n                    \"Widgets\": [\n                        // Button to trigger Info\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"Id\": \"btn-info\",\n                                \"Label\": \"Show Info\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Status Function: Info\n                        {\n                            \"Properties\": {\n                                \"Type\": \"statusmessage\", // Legacy Widget\n                                \"__TypeDisplayName\": \"Status Message\",\n                                \"Id\": \"StatusInfo\",\n                                \"Area\": \"UI\",\n                                \"MessageType\": \"info\",\n                                \"Message\": \"This is an information message.\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Events\": [\n            {\n                \"EventTriggerId\": \"btn-info\",\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerId\": \"StatusInfo\",\n                \"EventHandlerService\": \"ShowMessage\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"binding-show-info\"\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    // Standard Payload wrapper...\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n    \n    // Idempotency: Delete first\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY, 'Accept': 'application/json' }\n        });\n        await new Promise(r => setTimeout(r, 1000));\n    } catch(e) {}\n\n    // Create\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson`;\n    const response"}
{"id": "kb_000128", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "caution", "the", "name", "targetwindowtype", "not", "targetwindow", "using", "wrong", "will", "result", "all", "functions", "defaulting", "new", "window", "mode", "important", "values", "must"], "text": "### Critical Properties\n\n> [!CAUTION]\n> The property name is **`TargetWindowType`** (NOT `TargetWindow`!). Using the wrong property name will result in all functions defaulting to \"new\" window mode.\n\n> [!IMPORTANT]\n> All `TargetWindowType` values **must be lowercase**. Capitalized values will not work correctly."}
{"id": "kb_000129", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["navigation", "function", "widget", "structure", "javascript", "type", "navigationfunction", "displayname", "mynavigation", "area", "target", "configuration", "targetmashup", "name", "targetwindowtype", "new", "critical", "lowercase", "value", "missingmashupmessage"], "text": "### Navigation Function Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"navigationfunction\",\n        \"Id\": \"navigationfunction-id\",\n        \"DisplayName\": \"MyNavigation\",\n        \"Area\": \"UI\",\n        \n        // Target mashup configuration\n        \"TargetMashup\": \"target.mashup-name\",\n        \"TargetWindowType\": \"new\",  // CRITICAL: lowercase value!\n        \"MissingMashupMessage\": \"Error: Mashup not found\",\n        \n        // Popup-specific properties (for popup and modal-popup types)\n        \"PopupTitle\": \"My Popup Title\",\n        \"PopupWidth\": 800,   // 0 = auto\n        \"PopupHeight\": 600,  // 0 = auto\n        \"PopupScrollbar\": \"auto\",\n        \"CloseButton\": true,\n        \"ClickOutsideToClose\": false,\n        \n        // Standard properties\n        \"ReloadOnReplace\": false,\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"_currentParameterDefs\": []\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000130", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["window", "types", "targetwindowtype", "all", "values", "must", "lowercase", "value", "display", "name", "behavior", "new", "neu", "opens", "browser", "tab", "replace", "ersetzen", "replaces", "the"], "text": "### Window Types (TargetWindowType)\n\nAll values **must be lowercase**:\n\n| Value | Display Name | Behavior |\n|-------|--------------|----------|\n| `\"new\"` | Neu | Opens mashup in a new browser window/tab |\n| `\"replace\"` | Ersetzen | Replaces the current mashup in the same window |\n| `\"popup\"` | Popup | Opens mashup in a non-modal popup window |\n| `\"modal-popup\"` | Modales Popup | Opens mashup in a modal popup (note the hyphen!) |\n| `\"fullscreen\"` | Vollbild | Opens mashup in fullscreen mode |"}
{"id": "kb_000131", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["popup", "configuration", "these", "apply", "and", "modal", "window", "types", "type", "default", "description", "popuptitle", "string", "title", "displayed", "the", "popupwidth", "number", "width", "pixels"], "text": "### Popup Configuration Properties\n\nThese properties apply to `\"popup\"` and `\"modal-popup\"` window types:\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `PopupTitle` | STRING | `\"\"` | Title displayed in the popup window |\n| `PopupWidth` | NUMBER | `0` | Width in pixels (0 = auto-size) |\n| `PopupHeight` | NUMBER | `0` | Height in pixels (0 = auto-size) |\n| `PopupScrollbar` | STRING | `\"auto\"` | Scrollbar behavior: `\"auto\"`, `\"visible\"`, `\"hidden\"` |\n| `CloseButton` | BOOLEAN | `true` | Show close button in popup |\n| `ClickOutsideToClose` | BOOLEAN | `false` | Allow closing by clicking outside (modal-popup only) |"}
{"id": "kb_000132", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["event", "binding", "navigation", "functions", "are", "triggered", "via", "the", "navigate", "javascript", "eventtriggerid", "button", "eventtriggerevent", "clicked", "eventtriggerarea", "eventtriggersection", "eventhandlerid", "navigationfunction", "eventhandlerservice", "eventhandlerarea"], "text": "### Event Binding\n\nNavigation functions are triggered via the `Navigate` service:\n\n```javascript\n{\n    \"EventTriggerId\": \"button-id\",\n    \"EventTriggerEvent\": \"Clicked\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventTriggerSection\": \"\",\n    \"EventHandlerId\": \"navigationfunction-id\",\n    \"EventHandlerService\": \"Navigate\",\n    \"EventHandlerArea\": \"UI\",\n    \"Id\": \"event-binding-id\"\n}\n```"}
{"id": "kb_000133", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "working", "example", "this", "creates", "with", "buttons", "each", "using", "different", "navigation", "type", "javascript", "const", "require", "path", "load", "config", "envpath", "join"], "text": "### Complete Working Example\n\nThis example creates a mashup with 5 buttons, each using a different navigation type:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.navigation-demo\";\n\nasync function createNavigationMashup() {\n    console.log(`Creating Navigation Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Navigation Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Buttons\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-new\", \"Label\": \"New Window\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-replace\", \"Label\": \"Replace\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-popup\", \"Label\": \"Popup\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-modal\", \"Label\": \"Modal Popup\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-full\", \"Label\": \"Fullscreen\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        \n                        // Navigation Functions - CRITICAL: Use TargetWindowType (not TargetWindow!)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavNew\",\n                                \"DisplayName\": \"NavNew\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"new\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n         "}
{"id": "kb_000134", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "wrong", "name", "using", "targetwindow", "instead", "targetwindowtype", "will", "cause", "all", "navigation", "functions", "default", "new", "window", "mode", "regardless", "the"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **Wrong Property Name**: Using `\"TargetWindow\"` instead of `\"TargetWindowType\"` will cause all navigation functions to default to \"new\" window mode, regardless of the value set.\n\n> [!CAUTION]\n> **Uppercase Values**: Values like `\"New\"`, `\"Replace\"`, `\"Popup\"` will not work. Always use lowercase: `\"new\"`, `\"replace\"`, `\"popup\"`.\n\n> [!CAUTION]\n> **Modal Popup Hyphen**: The modal popup type is `\"modal-popup\"` (with hyphen), not `\"modalpopup\"` or `\"modal\"`. This is the most common mistake.\n\n> [!WARNING]\n> **Popup Size**: Setting `PopupWidth` and `PopupHeight` to `0` means auto-size. The popup will size based on content. For fixed sizes, specify pixel values."}
{"id": "kb_000135", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "navigation", "function", "widget", "set", "type", "navigationfunction", "area", "configure", "targetmashup", "with", "target", "name", "window", "critical", "use", "targetwindowtype", "not", "targetwindow"], "text": "### Workflow Summary\n\n1. **Create Navigation Function Widget**\n   - Set `Type: \"navigationfunction\"`\n   - Set `Area: \"UI\"`\n   - Configure `TargetMashup` with target mashup name\n\n2. **Set Window Type** (CRITICAL)\n   - Use property name: `TargetWindowType` (not `TargetWindow`!)\n   - Use lowercase value: `\"new\"`, `\"replace\"`, `\"popup\"`, `\"modal-popup\"`, or `\"fullscreen\"`\n\n3. **Configure Popup Properties** (for popup types only)\n   - Set `PopupTitle` for custom window title\n   - Set `PopupWidth` and `PopupHeight` for custom sizing (0 = auto)\n   - Configure `CloseButton` and `ClickOutsideToClose` as needed\n\n4. **Add Standard Properties**\n   - Include all required properties from example above\n   - `_currentParameterDefs: []` is required\n\n5. **Create Event Binding**\n   - Bind trigger event (e.g., Button `Clicked`) to navigation function's `Navigate` service\n   - Both `EventTriggerArea` and `EventHandlerArea` must be `\"UI\"`"}
{"id": "kb_000136", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "table", "required", "example", "value", "notes", "type", "navigationfunction", "widget", "area", "must", "targetmashup", "name", "target", "targetwindowtype", "modal", "popup", "lowercase", "popuptitle"], "text": "### Quick Reference Table\n\n| Property | Required | Example Value | Notes |\n|----------|----------|---------------|-------|\n| `Type` | ✅ | `\"navigationfunction\"` | Widget type |\n| `Area` | ✅ | `\"UI\"` | Must be UI |\n| `TargetMashup` | ✅ | `\"mashup.name-mu\"` | Target mashup name |\n| `TargetWindowType` | ✅ | `\"modal-popup\"` | **MUST be lowercase!** |\n| `PopupTitle` | ⚪ | `\"My Popup\"` | Only for popup types |\n| `PopupWidth` | ⚪ | `800` | Only for popup types (0=auto) |\n| `PopupHeight` | ⚪ | `600` | Only for popup types (0=auto) |\n| `CloseButton` | ⚪ | `true` | Show close button |\n| `MissingMashupMessage` | ⚪ | `\"Error\"` | Error message text |\n\n✅ = Required  |  ⚪ = Optional\n\n---"}
{"id": "kb_000137", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "the", "autorefreshfunction", "function", "widget", "that", "provides", "periodic", "auto", "refresh", "capabilities", "triggers", "event", "regular", "intervals", "which", "can", "used", "invoke", "and"], "text": "### Overview\n\nThe `autorefreshfunction` is a function widget that provides periodic auto-refresh capabilities. It triggers a `Refresh` event at regular intervals, which can be used to invoke services and update data automatically without user intervention."}
{"id": "kb_000138", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "important", "the", "refreshinterval", "represents", "seconds", "and", "can", "set", "string", "number", "value", "means", "function", "triggers", "every", "tip", "autorefresh", "bound", "toggle"], "text": "### Critical Properties\n\n> [!IMPORTANT]\n> The `RefreshInterval` represents seconds and can be set as a string or number. A value of `\"5\"` means the function triggers every 5 seconds.\n\n> [!TIP]\n> The `AutoRefresh` property can be bound to a toggle button, allowing users to enable/disable auto-refresh dynamically."}
{"id": "kb_000139", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "structure", "javascript", "type", "autorefreshfunction", "displayname", "myautorefresh", "area", "typedisplayname", "configuration", "refreshinterval", "interval", "seconds", "autorefresh", "true", "enable", "disable", "auto", "refresh", "standard"], "text": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"autorefreshfunction\",\n        \"Id\": \"autorefreshfunction-id\",\n        \"DisplayName\": \"MyAutoRefresh\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"autorefreshfunction\",\n        \n        // Configuration\n        \"RefreshInterval\": \"5\",      // Interval in seconds\n        \"AutoRefresh\": true,          // Enable/disable auto-refresh\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000140", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["reference", "type", "default", "description", "string", "must", "autorefreshfunction", "unique", "identifier", "for", "the", "widget", "area", "refreshinterval", "number", "interval", "seconds", "between", "refresh", "triggers"], "text": "### Properties Reference\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Type` | STRING | - | Must be `\"autorefreshfunction\"` |\n| `Id` | STRING | - | Unique identifier for the widget |\n| `Area` | STRING | `\"UI\"` | Must be `\"UI\"` |\n| `RefreshInterval` | STRING/NUMBER | `\"0\"` | Interval in seconds between refresh triggers |\n| `AutoRefresh` | BOOLEAN | `false` | Enable/disable automatic refreshing |\n| `ShowDataLoading` | BOOLEAN | `true` | Show loading indicator |\n| `Visible` | BOOLEAN | `true` | Widget visibility |\n| `ResponsiveLayout` | BOOLEAN | `false` | Use responsive layout |"}
{"id": "kb_000141", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["autorefresh", "boolean", "controls", "whether", "the", "function", "actively", "refreshing", "usage", "can", "bound", "toggle", "buttons", "for", "user", "control", "dynamically", "enables", "disables", "refresh"], "text": "#### 1. AutoRefresh (BOOLEAN)\n\nControls whether the function is actively refreshing.\n\n**Usage:**\n- Can be bound to toggle buttons for user control\n- Can be bound to boolean Thing properties\n- Dynamically enables/disables the refresh cycle\n\n**Example Binding:**\n```javascript\n{\n    \"Id\": \"binding-toggle-to-autorefresh\",\n    \"SourceId\": \"ptcstogglebutton-1\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"autorefreshfunction-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetProperty\": \"AutoRefresh\",\n        \"TargetPropertyType\": \"Property\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```"}
{"id": "kb_000142", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["refreshinterval", "string", "number", "sets", "the", "interval", "seconds", "between", "refresh", "events", "usage", "can", "bound", "numeric", "input", "fields", "allows", "dynamic", "adjustment"], "text": "#### 2. RefreshInterval (STRING/NUMBER)\n\nSets the interval in seconds between refresh events.\n\n**Usage:**\n- Can be bound to numeric input fields\n- Can be bound to Thing properties\n- Allows dynamic interval adjustment"}
{"id": "kb_000143", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["refresh", "event", "the", "triggered", "periodically", "based", "refreshinterval", "setting", "usage", "bind", "invocations", "for", "automatic", "data", "updates", "typical", "targets", "getpropertyvalues", "querypropertyhistory", "custom"], "text": "#### Refresh Event\n\nThe `Refresh` event is triggered periodically based on the `RefreshInterval` setting.\n\n**Usage:**\n- Bind to service invocations for automatic data updates\n- Typical targets: `GetPropertyValues`, `QueryPropertyHistory`, custom services\n- Enables real-time dashboard updates\n\n**Example Event Binding:**\n```javascript\n{\n    \"Id\": \"event-autorefresh-to-service\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"autorefreshfunction-id\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Things_MyThing\",\n    \"EventHandlerService\": \"GetPropertyValues\"\n}\n```"}
{"id": "kb_000144", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "use", "cases", "live", "dashboards", "auto", "charts", "and", "gauges", "with", "latest", "values", "typical", "interval", "seconds", "real", "time", "monitoring", "monitor", "equipment"], "text": "### Common Use Cases\n\n1. **Live Dashboards**\n   - Auto-update charts and gauges with latest values\n   - Typical interval: 5-10 seconds\n\n2. **Real-Time Monitoring**\n   - Monitor equipment status\n   - Track sensor readings\n   - Typical interval: 1-5 seconds\n\n3. **User-Controlled Refresh**\n   - Toggle button to enable/disable auto-refresh\n   - Saves resources when monitoring isn't needed\n\n4. **Property History Updates**\n   - Automatically fetch latest historical data\n   - Update time series charts"}
{"id": "kb_000145", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "working", "example", "this", "creates", "with", "toggle", "button", "that", "controls", "autorefresh", "function", "javascript", "const", "require", "path", "load", "config", "envpath", "join"], "text": "### Complete Working Example\n\nThis example creates a mashup with a toggle button that controls an autorefresh function:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.autorefresh-demo\";\n\nasync function createMashup() {\n    console.log(`Creating AutoRefresh Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"AutoRefresh Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Toggle Button for controlling auto-refresh\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-autorefresh\",\n                                \"DisplayName\": \"toggle-refresh\",\n                                \"Label\": \"Enable Auto-Refresh\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label to show last update time\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-status\",\n                                \"LabelText\": \"Waiting for data...\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // AutoRefresh Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"autorefreshfunction\",\n                        \"Id\": \"autorefresh-main\",\n                        \"DisplayName\": \"MainRefresh\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"autorefreshfunction\",\n                        \"RefreshInterval\": \"5\",\n                        \"AutoRefresh\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n   "}
{"id": "kb_000146", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["pattern", "toggle", "button", "autorefresh", "purpose", "user", "control", "over", "auto", "refresh", "javascript", "sourcearea", "targetarea", "propertymaps", "sourceproperty", "state", "targetproperty", "enable", "disable", "sourcepropertybasetype"], "text": "#### Pattern 1: Toggle Button → AutoRefresh\n\n**Purpose**: User control over auto-refresh\n\n```javascript\n{\n    \"SourceArea\": \"UI\",\n    \"TargetArea\": \"UI\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",           // Toggle button state\n        \"TargetProperty\": \"AutoRefresh\",     // AutoRefresh enable/disable\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```"}
{"id": "kb_000147", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["pattern", "refresh", "event", "purpose", "periodic", "data", "updates", "javascript", "eventtriggerarea", "eventhandlerarea", "eventtriggerevent", "trigger", "eventhandlerservice", "getpropertyvalues"], "text": "#### Pattern 2: Refresh Event → Service\n\n**Purpose**: Periodic data updates\n\n```javascript\n{\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerEvent\": \"Refresh\",          // Periodic trigger\n    \"EventHandlerService\": \"GetPropertyValues\"  // Data service\n}\n```"}
{"id": "kb_000148", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["pattern", "multiple", "refresh", "purpose", "data", "sources", "simultaneously", "javascript", "event", "eventtriggerid", "autorefresh", "main", "eventtriggerevent", "eventhandlerid", "thing1", "eventhandlerservice", "getpropertyvalues", "thing2", "querypropertyhistory"], "text": "#### Pattern 3: Multiple Services on Refresh\n\n**Purpose**: Update multiple data sources simultaneously\n\n```javascript\n// Event 1\n{\n    \"EventTriggerId\": \"autorefresh-main\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Thing1\",\n    \"EventHandlerService\": \"GetPropertyValues\"\n},\n// Event 2\n{\n    \"EventTriggerId\": \"autorefresh-main\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Thing2\",\n    \"EventHandlerService\": \"QueryPropertyHistory\"\n}\n```"}
{"id": "kb_000149", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["best", "practices", "tip", "performance", "considerations", "use", "longer", "intervals", "seconds", "for", "expensive", "shorter", "lightweight", "reads", "always", "provide", "user", "control", "via", "toggle"], "text": "### Best Practices\n\n> [!TIP]\n> **Performance Considerations**\n> - Use longer intervals (10+ seconds) for expensive services\n> - Use shorter intervals (1-5 seconds) for lightweight property reads\n> - Always provide user control via toggle button to disable when not needed\n\n> [!WARNING]\n> **Avoid Excessive Refresh Rates**\n> - Very short intervals (<1 second) can overload the server\n> - Consider the cost of the services being invoked\n> - Balance real-time needs with system performance\n\n> [!IMPORTANT]\n> **Initial State**\n> - Set `AutoRefresh: true` for immediate start\n> - Set `AutoRefresh: false` to require user activation\n> - Consider user experience and resource usage"}
{"id": "kb_000150", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "forgetting", "event", "bindings", "the", "autorefreshfunction", "only", "triggers", "refresh", "you", "must", "bind", "this", "invocations", "for", "anything", "useful", "wrong"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **Forgetting Event Bindings**: The autorefreshfunction only triggers the `Refresh` event. You must bind this event to service invocations for it to do anything useful.\n\n> [!CAUTION]\n> **Wrong Area**: The autorefreshfunction must be in the UI area (`Area: \"UI\"`), not the Data area, even though it typically triggers data services."}
{"id": "kb_000151", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "autorefresh", "function", "set", "type", "autorefreshfunction", "area", "configure", "refreshinterval", "seconds", "initial", "state", "true", "false", "add", "user", "control", "optional", "toggle"], "text": "### Workflow Summary\n\n1. **Create AutoRefresh Function**\n   - Set `Type: \"autorefreshfunction\"`\n   - Set `Area: \"UI\"`\n   - Configure `RefreshInterval` (in seconds)\n   - Set `AutoRefresh` to initial state (true/false)\n\n2. **Add User Control (Optional)**\n   - Add toggle button widget\n   - Bind toggle button `State` to autorefresh `AutoRefresh` property\n   - UI → UI data binding\n\n3. **Bind Refresh Event**\n   - Bind `Refresh` event to service(s)\n   - UI → Data event binding\n   - Can bind to multiple services\n\n4. **Test Intervals**\n   - Start with longer intervals during development\n   - Optimize based on update requirements\n   - Monitor server load"}
{"id": "kb_000152", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "aspect", "value", "notes", "widget", "type", "autorefreshfunction", "function", "area", "must", "refresh", "interval", "seconds", "string", "number", "auto", "true", "false", "enable"], "text": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `autorefreshfunction` | Function widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **Refresh Interval** | `\"5\"` | Seconds (string or number) |\n| **Auto Refresh** | `true`/`false` | Enable/disable |\n| **Refresh Event** | `Refresh` | Triggered periodically |\n| **Toggle Binding** | State → AutoRefresh | User control |\n| **Service Binding** | Refresh → Service | Data updates |"}
{"id": "kb_000153", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["input", "output", "summary", "inputs", "bindable", "autorefresh", "boolean", "enable", "disable", "automatic", "refresh", "refreshinterval", "string", "number", "interval", "seconds", "outputs", "events", "triggered", "every"], "text": "### Input/Output Summary\n\n**INPUTS (Bindable Properties):**\n- `AutoRefresh` (BOOLEAN): Enable/disable automatic refresh\n- `RefreshInterval` (STRING/NUMBER): Interval in seconds\n\n**OUTPUTS (Events):**\n- `Refresh`: Triggered every `RefreshInterval` seconds when `AutoRefresh` is true\n\n**Typical Data Flow:**\n```\nToggle Button (State) → AutoRefresh Function (AutoRefresh Property)\n                              ↓\n                    AutoRefresh Function (Refresh Event)\n                              ↓\n                         Thing Services\n                              ↓\n                         UI Widgets (via data bindings)\n```\n\n---"}
{"id": "kb_000154", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "the", "eventsrouter", "function", "widget", "that", "provides", "event", "routing", "capabilities", "based", "input", "values", "creates", "dynamic", "input1", "input2", "inputn", "configuration", "and"], "text": "### Overview\n\nThe `eventsrouter` is a function widget that provides event routing capabilities based on input values. It creates dynamic properties (Input1, Input2, ..., InputN) based on configuration and can route events to different handlers depending on the combination of input values."}
{"id": "kb_000155", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "important", "the", "numberofinputs", "string", "not", "number", "use", "instead", "datatype", "determines", "type", "all", "inputs", "will", "have", "same", "data"], "text": "### Critical Properties\n\n> [!IMPORTANT]\n> The `NumberOfInputs` property is a **string**, not a number. Use `\"3\"` instead of `3`.\n\n> [!IMPORTANT]\n> The `DataType` property determines the type of **all** inputs. All inputs will have the same data type."}
{"id": "kb_000156", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "structure", "javascript", "type", "eventsrouter", "displayname", "myeventrouter", "area", "typedisplayname", "ereignis", "router", "configuration", "numberofinputs", "number", "inputs", "string", "datatype", "boolean", "data", "for"], "text": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"Id\": \"eventsrouter-id\",\n        \"DisplayName\": \"MyEventRouter\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Ereignis-Router\",\n        \n        // Configuration\n        \"NumberOfInputs\": \"3\",       // Number of inputs (as string)\n        \"DataType\": \"BOOLEAN\",       // Data type for all inputs\n        \"DataShape\": \"\",             // DataShape name (only for INFOTABLE)\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000157", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["reference", "type", "default", "description", "string", "must", "eventsrouter", "unique", "identifier", "for", "the", "widget", "area", "numberofinputs", "number", "inputs", "datatype", "data", "all", "datashape"], "text": "### Properties Reference\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Type` | STRING | - | Must be `\"eventsrouter\"` |\n| `Id` | STRING | - | Unique identifier for the widget |\n| `Area` | STRING | `\"UI\"` | Must be `\"UI\"` |\n| `NumberOfInputs` | STRING | `\"1\"` | Number of inputs (as string, e.g., \"3\") |\n| `DataType` | STRING | `\"STRING\"` | Data type for all inputs |\n| `DataShape` | STRING | `\"\"` | DataShape name (only for INFOTABLE type) |\n| `ShowDataLoading` | BOOLEAN | `true` | Show loading indicator |\n| `Visible` | BOOLEAN | `true` | Widget visibility |\n| `ResponsiveLayout` | BOOLEAN | `false` | Use responsive layout |"}
{"id": "kb_000158", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["dynamic", "input", "based", "the", "numberofinputs", "event", "router", "automatically", "creates", "example", "input1", "input2", "input3", "all", "inputs", "have", "type", "specified", "datatype", "input4"], "text": "### Dynamic Input Properties\n\nBased on the `NumberOfInputs` property, the event router automatically creates input properties:\n\n**Example: NumberOfInputs = \"3\"**\n- Creates: `Input1`, `Input2`, `Input3`\n- All inputs have the type specified in `DataType`\n\n**Example: NumberOfInputs = \"5\"**\n- Creates: `Input1`, `Input2`, `Input3`, `Input4`, `Input5`"}
{"id": "kb_000159", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["supported", "data", "types", "datatype", "description", "common", "sources", "boolean", "true", "false", "values", "toggle", "buttons", "checkboxes", "string", "text", "fields", "dropdowns", "number", "numeric"], "text": "### Supported Data Types\n\n| DataType | Description | Common Sources |\n|----------|-------------|----------------|\n| `BOOLEAN` | True/False values | Toggle buttons, checkboxes |\n| `STRING` | Text values | Text fields, dropdowns |\n| `NUMBER` | Numeric values (decimal) | Numeric entries, sliders |\n| `INTEGER` | Whole number values | Integer inputs |\n| `INFOTABLE` | Data tables | Grids, data services |\n| `DATETIME` | Date/time values | Date pickers |\n| `JSON` | JSON objects | Custom widgets |\n\n> [!TIP]\n> For `INFOTABLE` data type, you must also specify the `DataShape` property."}
{"id": "kb_000160", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["inputs", "bindable", "the", "event", "router", "are", "dynamically", "created", "based", "configuration", "input", "names", "input1", "input2", "inputn", "where", "numberofinputs", "all", "share", "same"], "text": "### Inputs (Bindable Properties)\n\nThe event router's inputs are dynamically created based on configuration:\n\n**Input Properties:**\n- Property names: `Input1`, `Input2`, ..., `InputN` (where N = NumberOfInputs)\n- All inputs share the same `DataType`\n- Can be bound to any widget property with matching type\n\n**Example Binding (BOOLEAN):**\n```javascript\n{\n    \"Id\": \"binding-toggle-to-router\",\n    \"SourceId\": \"toggle-button-1\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"eventsrouter-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetProperty\": \"Input1\",          // Dynamic input property\n        \"TargetPropertyType\": \"Property\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```"}
{"id": "kb_000161", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["outputs", "events", "the", "event", "router", "triggers", "based", "combination", "input", "values", "routing", "routes", "different", "handlers", "state", "supports", "conditional", "navigation", "enables", "complex"], "text": "### Outputs (Events)\n\nThe event router triggers events based on the combination of input values:\n\n**Event Routing:**\n- Routes to different event handlers based on input state\n- Supports conditional navigation\n- Enables complex decision logic\n\n**Example Event Binding:**\n```javascript\n{\n    \"Id\": \"event-router-action\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"UI\",  // or \"Data\" for services\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"eventsrouter-id\",\n    \"EventTriggerEvent\": \"RouteSelected\",  // Event name depends on configuration\n    \"EventHandlerId\": \"navigation-function-id\",\n    \"EventHandlerService\": \"Navigate\"\n}\n```"}
{"id": "kb_000162", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "use", "cases", "conditional", "navigation", "different", "mashups", "based", "user", "selections", "navigate", "views", "toggle", "states", "multi", "condition", "actions", "trigger", "multiple", "inputs"], "text": "### Common Use Cases\n\n1. **Conditional Navigation**\n   - Different mashups based on user selections\n   - Navigate to different views based on toggle states\n\n2. **Multi-Condition Actions**\n   - Trigger different services based on multiple inputs\n   - Complex form validation\n\n3. **Dynamic Behavior**\n   - Show/hide panels based on combinations\n   - Enable/disable features based on states\n\n4. **User Preference Routing**\n   - Route to different experiences based on user settings\n   - Personalized workflows"}
{"id": "kb_000163", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "working", "example", "this", "creates", "with", "toggle", "buttons", "controlling", "event", "router", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname"], "text": "### Complete Working Example\n\nThis example creates a mashup with 3 toggle buttons controlling an event router:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.eventrouter-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Event Router Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Event Router Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Toggle Button 1\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-1\",\n                                \"DisplayName\": \"toggle-1\",\n                                \"Label\": \"Option 1\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Toggle Button 2\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-2\",\n                                \"DisplayName\": \"toggle-2\",\n                                \"Label\": \"Option 2\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Toggle Button 3\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-3\",\n                                \"DisplayName\": \"toggle-3\",\n                                \"Label\": \"Option 3\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Event Router\n                {\n                    \"Properties\": {\n                        \"Type\": \"eventsrouter\",\n                        \"Id\": \"router-main\",\n                        \"DisplayName\": \"MainRouter\",\n                        \"Area\": \"UI\",\n                        \"__TypeDis"}
{"id": "kb_000164", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["pattern", "toggle", "buttons", "event", "router", "purpose", "user", "control", "via", "multiple", "toggles", "javascript", "sourcearea", "targetarea", "propertymaps", "sourceproperty", "state", "button", "targetproperty", "input1"], "text": "#### Pattern 1: Toggle Buttons → Event Router\n\n**Purpose**: User control via multiple toggles\n\n```javascript\n{\n    \"SourceArea\": \"UI\",\n    \"TargetArea\": \"UI\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",           // Toggle button state\n        \"TargetProperty\": \"Input1\",          // Router input (dynamic)\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```"}
{"id": "kb_000165", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["pattern", "text", "fields", "event", "router", "string", "purpose", "route", "based", "values", "javascript", "type", "eventsrouter", "numberofinputs", "datatype", "inputs", "datashape", "binding", "sourceproperty", "field"], "text": "#### Pattern 2: Text Fields → Event Router (STRING)\n\n**Purpose**: Route based on text values\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"NumberOfInputs\": \"2\",\n        \"DataType\": \"STRING\",  // String inputs\n        \"DataShape\": \"\"\n    }\n}\n\n// Binding\n{\n    \"SourceProperty\": \"Text\",              // Text field value\n    \"TargetProperty\": \"Input1\",\n    \"SourcePropertyBaseType\": \"STRING\",\n    \"TargetPropertyBaseType\": \"STRING\"\n}\n```"}
{"id": "kb_000166", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["pattern", "numeric", "inputs", "event", "router", "purpose", "route", "based", "thresholds", "javascript", "type", "eventsrouter", "numberofinputs", "datatype", "number", "datashape", "binding", "sourceproperty", "value", "entry"], "text": "#### Pattern 3: Numeric Inputs → Event Router\n\n**Purpose**: Route based on numeric thresholds\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"NumberOfInputs\": \"3\",\n        \"DataType\": \"NUMBER\",  // Numeric inputs\n        \"DataShape\": \"\"\n    }\n}\n\n// Binding\n{\n    \"SourceProperty\": \"Value\",             // Numeric entry value\n    \"TargetProperty\": \"Input1\",\n    \"SourcePropertyBaseType\": \"NUMBER\",\n    \"TargetPropertyBaseType\": \"NUMBER\"\n}\n```"}
{"id": "kb_000167", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["best", "practices", "tip", "keep", "simple", "start", "with", "inputs", "for", "clarity", "use", "descriptive", "displaynames", "the", "router", "document", "routing", "logic", "description", "consistent"], "text": "### Best Practices\n\n> [!TIP]\n> **Keep It Simple**\n> - Start with 2-3 inputs for clarity\n> - Use descriptive DisplayNames for the router\n> - Document the routing logic in mashup description\n\n> [!TIP]\n> **Consistent Data Types**\n> - All inputs must be the same type\n> - Match source widget types to router DataType\n> - Use type conversion widgets if needed\n\n> [!WARNING]\n> **Input Numbering**\n> - Inputs are named Input1, Input2, etc. (starting at 1, not 0)\n> - Must bind to exact property names (case-sensitive)\n> - NumberOfInputs cannot be changed after binding without recreating bindings"}
{"id": "kb_000168", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "numberofinputs", "string", "the", "must", "not", "number", "using", "will", "cause", "errors", "mismatched", "data", "types", "all", "bindings", "event", "router"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **NumberOfInputs as String**: The `NumberOfInputs` property must be a string (`\"3\"`), not a number (`3`). Using a number will cause errors.\n\n> [!CAUTION]\n> **Mismatched Data Types**: All bindings to the event router must match the `DataType` property. Binding a STRING source to a BOOLEAN router will fail.\n\n> [!CAUTION]\n> **Wrong Input Names**: Input properties are `Input1`, `Input2`, etc. Common mistakes:\n> - ❌ `input1` (lowercase)\n> - ❌ `Input_1` (underscore)\n> - ❌ `Input0` (zero-based)\n> - ✅ `Input1` (correct)"}
{"id": "kb_000169", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "event", "router", "set", "type", "eventsrouter", "area", "configure", "numberofinputs", "string", "datatype", "for", "all", "inputs", "datashape", "only", "infotable", "add", "source"], "text": "### Workflow Summary\n\n1. **Create Event Router**\n   - Set `Type: \"eventsrouter\"`\n   - Set `Area: \"UI\"`\n   - Configure `NumberOfInputs` (as string)\n   - Set `DataType` for all inputs\n   - Set `DataShape` (only for INFOTABLE)\n\n2. **Add Source Widgets**\n   - Create widgets matching the DataType\n   - Toggle buttons for BOOLEAN\n   - Text fields for STRING\n   - Numeric entries for NUMBER\n\n3. **Bind Sources to Inputs**\n   - Create data bindings for each input\n   - UI → UI binding pattern\n   - Match property types exactly\n\n4. **Configure Event Routing**\n   - Bind router events to handlers\n   - Set up conditional navigation\n   - Test different input combinations"}
{"id": "kb_000170", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "aspect", "value", "notes", "widget", "type", "eventsrouter", "function", "area", "must", "numberofinputs", "string", "not", "number", "datatype", "boolean", "all", "inputs", "same"], "text": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `eventsrouter` | Function widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **NumberOfInputs** | `\"3\"` | String (not number!) |\n| **DataType** | `\"BOOLEAN\"` | All inputs same type |\n| **Input Names** | `Input1`, `Input2`, ... | Dynamic properties |\n| **Binding Type** | UI → UI | Source widgets to router |"}
{"id": "kb_000171", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["input", "output", "summary", "inputs", "dynamic", "created", "automatically", "based", "numberofinputs", "named", "input1", "input2", "input3", "inputn", "type", "specified", "datatype", "example", "boolean", "for"], "text": "### Input/Output Summary\n\n**INPUTS (Dynamic Properties):**\n- Created automatically based on `NumberOfInputs`\n- Named: `Input1`, `Input2`, `Input3`, ..., `InputN`\n- Type: Specified by `DataType` property\n- Example: 3 BOOLEAN inputs for 3 toggle buttons\n\n**OUTPUTS (Events):**\n- Routed events based on input combinations\n- Can trigger navigation, services, or UI changes\n- Event names depend on router configuration\n\n  **Typical Data Flow:**\n```\nToggle Buttons (State) → Event Router (Input1, Input2, Input3)\n                              ↓\n                     Event Router Logic\n                              ↓\n                    Routed Event Triggered\n                              ↓\n              Navigation / Services / UI Changes\n```\n\n---"}
{"id": "kb_000172", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "the", "validator", "function", "widget", "that", "evaluates", "javascript", "expressions", "with", "parameters", "commonly", "used", "for", "input", "validation", "conditional", "logic", "and", "expression"], "text": "### Overview\n\nThe `validator` is a function widget that evaluates JavaScript expressions with parameters. It's commonly used for input validation, conditional logic, and expression evaluation. The validator can automatically evaluate expressions when parameter values change."}
{"id": "kb_000173", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "and", "common", "pitfalls", "caution", "defaultvalue", "must", "string", "the", "most", "pitfall", "that", "parameter", "definitions", "not", "number", "use", "instead", "even", "for"], "text": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Must Be a String**: The most critical pitfall is that `DefaultValue` in parameter definitions must be a **string**, not a number. Use `\"1\"` instead of `1`, even for NUMBER types.\n\n> [!CAUTION]\n> **Property Name is PascalCase**: The property name is `DefaultValue` (capital D and V), **NOT** `defaultValue` (camelCase). Using the wrong case will cause the default value to be ignored.\n\n> [!WARNING]\n> **Zero Value Issue**: Using `\"0\"` as DefaultValue may be interpreted as null/empty in some cases. It's safer to use `\"1\"` or another non-zero value for NUMBER types when a default is required."}
{"id": "kb_000174", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "structure", "javascript", "type", "validator", "displayname", "myvalidator", "area", "typedisplayname", "validierer", "width", "height", "expression", "evaluate", "age", "checkboxes", "autoevaluate", "true", "automatisch", "auswerten"], "text": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"validator\",\n        \"Id\": \"validator-id\",\n        \"DisplayName\": \"MyValidator\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Validierer\",\n        \"Width\": 200,\n        \"Height\": 28,\n        \n        // Expression to evaluate\n        \"Expression\": \"Age >= 18 && Age <= 65;\\n\",\n        \n        // Checkboxes\n        \"AutoEvaluate\": true,    // Automatisch auswerten\n        \"Output\": true,          // Ausdruck (enables expression output)\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \n        // Parameter definitions\n        \"_currentParameterDefs\": [\n            {\n                \"ParameterName\": \"Age\",\n                \"Description\": \"Alter\",          // Tooltip\n                \"DefaultValue\": \"1\",             // MUST be string!\n                \"BaseType\": \"NUMBER\",\n                \"bindingDirection\": \"Target\",\n                \"bindingType\": \"Property\",\n                \"isBindingTarget\": true,\n                \"isBindingSource\": false,\n                \"shown\": true\n            }\n        ]\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000175", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["reference", "type", "required", "description", "string", "must", "validator", "unique", "identifier", "area", "expression", "javascript", "evaluate", "autoevaluate", "boolean", "auto", "when", "parameters", "change", "output"], "text": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | ✅ | Must be `\"validator\"` |\n| `Id` | STRING | ✅ | Unique identifier |\n| `Area` | STRING | ✅ | Must be `\"UI\"` |\n| `Expression` | STRING | ✅ | JavaScript expression to evaluate |\n| `AutoEvaluate` | BOOLEAN | ⚪ | Auto-evaluate when parameters change |\n| `Output` | BOOLEAN | ⚪ | Enable expression output (Ausdruck checkbox) |\n| `Width` | NUMBER | ⚪ | Widget width (typically 200) |\n| `Height` | NUMBER | ⚪ | Widget height (typically 28) |\n| `_currentParameterDefs` | ARRAY | ⚪ | Parameter definitions |"}
{"id": "kb_000176", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["parameter", "definition", "structure", "each", "currentparameterdefs", "has", "the", "following", "javascript", "parametername", "age", "name", "used", "expression", "description", "alter", "tooltip", "text", "defaultvalue", "must"], "text": "### Parameter Definition Structure\n\nEach parameter in `_currentParameterDefs` has the following structure:\n\n```javascript\n{\n    \"ParameterName\": \"Age\",           // Parameter name (used in Expression)\n    \"Description\": \"Alter\",           // Tooltip text\n    \"DefaultValue\": \"1\",              // ⚠️ MUST be STRING, even for NUMBER!\n    \"BaseType\": \"NUMBER\",             // Data type: NUMBER, STRING, BOOLEAN, etc.\n    \"bindingDirection\": \"Target\",     // \"Target\", \"Source\", or \"Both\"\n    \"bindingType\": \"Property\",        // Usually \"Property\"\n    \"isBindingTarget\": true,          // Can receive data bindings\n    \"isBindingSource\": false,         // Can provide data bindings\n    \"shown\": true                     // Visible in UI\n}\n```"}
{"id": "kb_000177", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["parameter", "detail", "type", "description", "example", "parametername", "string", "variable", "name", "expression", "age", "tooltip", "text", "alter", "defaultvalue", "default", "value", "always", "hello", "true"], "text": "### Parameter Properties Detail\n\n| Property | Type | Description | Example |\n|----------|------|-------------|---------|\n| `ParameterName` | STRING | Variable name in expression | `\"Age\"` |\n| `Description` | STRING | Tooltip text | `\"Alter\"` |\n| `DefaultValue` | **STRING** | Default value (always string!) | `\"1\"`, `\"Hello\"`, `\"true\"` |\n| `BaseType` | STRING | Data type | `\"NUMBER\"`, `\"STRING\"`, `\"BOOLEAN\"` |\n| `bindingDirection` | STRING | Binding direction | `\"Target\"`, `\"Source\"`, `\"Both\"` |\n| `bindingType` | STRING | Binding type | `\"Property\"` |\n| `isBindingTarget` | BOOLEAN | Can receive bindings | `true` |\n| `isBindingSource` | BOOLEAN | Can provide bindings | `false` |\n| `shown` | BOOLEAN | Visible in parameter list | `true` |\n\n> [!IMPORTANT]\n> **DefaultValue Type Conversion**: Even though `BaseType` might be `NUMBER` or `BOOLEAN`, the `DefaultValue` must always be a **string**. ThingWorx will convert it to the appropriate type."}
{"id": "kb_000178", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["expression", "format", "the", "contains", "javascript", "code", "valid", "examples", "age", "validation", "string", "name", "length", "boolean", "logic", "isactive", "isdeleted", "complex", "haspermission", "status"], "text": "### Expression Format\n\nThe `Expression` property contains JavaScript code:\n\n**Valid Expression Examples:**\n```javascript\n// Age validation\n\"Age >= 18 && Age <= 65;\\n\"\n\n// String validation\n\"Name.length > 0 && Name.length < 50;\\n\"\n\n// Boolean logic\n\"IsActive && !IsDeleted;\\n\"\n\n// Complex expression\n\"(Age >= 18 || HasPermission) && Status === 'Active';\\n\"\n```\n\n> [!TIP]\n> Always end expressions with `;\\n` (semicolon and newline). This is the standard format used by ThingWorx."}
{"id": "kb_000179", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["checkbox", "settings", "autoevaluate", "true", "expression", "evaluates", "automatically", "when", "parameters", "change", "false", "must", "triggered", "manually", "output", "ausdruck", "result", "available", "not", "exposed"], "text": "### Checkbox Settings\n\n**AutoEvaluate:**\n- `true`: Expression evaluates automatically when parameters change\n- `false`: Expression must be triggered manually\n\n**Output (Ausdruck):**\n- `true`: Expression result is available as output\n- `false`: Expression result is not exposed"}
{"id": "kb_000180", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "use", "cases", "input", "validation", "validate", "age", "ranges", "check", "string", "lengths", "verify", "numeric", "bounds", "conditional", "logic", "enable", "disable", "buttons", "based"], "text": "### Common Use Cases\n\n1. **Input Validation**\n   - Validate age ranges\n   - Check string lengths\n   - Verify numeric bounds\n\n2. **Conditional Logic**\n   - Enable/disable buttons based on conditions\n   - Show/hide sections based on rules\n   - Filter data based on criteria\n\n3. **Business Rules**\n   - Validate business logic\n   - Check constraints\n   - Enforce requirements\n\n4. **Expression Evaluation**\n   - Calculate derived values\n   - Combine multiple conditions\n   - Complex decision logic"}
{"id": "kb_000181", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "working", "example", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env", "envcontent", "readfilesync", "utf8", "split", "foreach", "line", "key"], "text": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.validator-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Validator Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Validator Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Numeric input for Age\n                        {\n                            \"Properties\": {\n                                \"Type\": \"numericentry\",\n                                \"Id\": \"input-age\",\n                                \"Label\": \"Age:\",\n                                \"Value\": 1,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label to show validation result\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-result\",\n                                \"LabelText\": \"Enter age to validate\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Validator Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"validator\",\n                        \"Id\": \"age-validator\",\n                        \"DisplayName\": \"AgeValidator\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Validierer\",\n                        \"Width\": 200,\n                        \"Height\": 28,\n                        \"Expression\": \"Age >= 18 && Age <= 65;\\n\",\n                        \"AutoEvaluate\": true,\n                        \"Output\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"_currentParameterDefs\": [\n                            {\n                                \"ParameterName\": \"Age\",\n                                \"Description\": \"Alter\",\n                                \"DefaultValue\": \"1\",      // String, not number!\n                                \"BaseType\": \"NUMBER\",\n                                \"bindingDirecti"}
{"id": "kb_000182", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["binding", "pattern", "input", "validator", "parameter", "purpose", "bind", "user", "parameters", "for", "validation", "javascript", "sourceid", "numeric", "targetid", "propertymaps", "sourceproperty", "value", "targetproperty", "age"], "text": "### Binding Pattern: Input → Validator Parameter\n\n**Purpose**: Bind user input to validator parameters for validation\n\n```javascript\n{\n    \"SourceId\": \"numeric-input-id\",\n    \"TargetId\": \"validator-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",           // Input value\n        \"TargetProperty\": \"Age\",             // Parameter name from validator\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```"}
{"id": "kb_000183", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["best", "practices", "tip", "use", "descriptive", "parameter", "names", "clear", "that", "match", "your", "domain", "age", "price", "quantity", "these", "appear", "the", "expression", "and"], "text": "### Best Practices\n\n> [!TIP]\n> **Use Descriptive Parameter Names**\n> - Use clear names that match your domain (Age, Price, Quantity)\n> - These names appear in the expression and in the UI\n> - Make them easy to understand for future maintenance\n\n> [!TIP]\n> **Provide Meaningful Descriptions**\n> - The Description field shows as tooltip\n> - Help users understand what each parameter does\n> - Include units or expected ranges if applicable\n\n> [!TIP]\n> **Test Expressions Before Deployment**\n> - Use simple test cases to verify logic\n> - Consider edge cases (min/max values)\n> - Test with invalid inputs"}
{"id": "kb_000184", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "defaultvalue", "number", "the", "most", "mistake", "wrong", "name", "correct", "string", "with", "pascalcase", "zero", "values", "using", "default", "can", "cause"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue as Number**: The most common mistake:\n> - ❌ Wrong: `\"DefaultValue\": 1` (number)\n> - ❌ Wrong: `\"defaultValue\": \"1\"` (wrong property name)\n> - ✅ Correct: `\"DefaultValue\": \"1\"` (string with PascalCase)\n\n> [!CAUTION]\n> **Zero Values**: Using `\"0\"` as default can cause issues:\n> - May be interpreted as null/empty\n> - Safer to use `\"1\"` or another non-zero default\n> - Or use empty string `\"\"` if zero is not critical\n\n> [!CAUTION]\n> **Expression Syntax**: Common expression mistakes:\n> - Missing semicolon at end: `Age >= 18` ❌\n> - Correct: `Age >= 18;\\n` ✅\n> - Using `=` instead of `===`: `Status = \"Active\"` ❌\n> - Correct: `Status === \"Active\"` ✅\n\n> [!CAUTION]\n> **Parameter Name Mismatch**: Parameter name in definition must exactly match usage in expression:\n> - Definition: `\"ParameterName\": \"Age\"`\n> - Expression must use: `Age` (exact match, case-sensitive)"}
{"id": "kb_000185", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["troubleshooting", "guide", "problem", "default", "value", "not", "showing", "check", "defaultvalue", "pascalcase", "the", "string", "try", "use", "non", "zero", "like", "instead", "expression", "evaluating"], "text": "### Troubleshooting Guide\n\n**Problem: Default value not showing**\n- ✅ Check: Is it `DefaultValue` (PascalCase)?\n- ✅ Check: Is the value a string (`\"1\"` not `1`)?\n- ✅ Try: Use non-zero value like `\"1\"` instead of `\"0\"`\n\n**Problem: Expression not evaluating**\n- ✅ Check: Is `AutoEvaluate` set to `true`?\n- ✅ Check: Does expression end with `;\\n`?\n- ✅ Check: Are parameter names spelled correctly?\n\n**Problem: Parameter not bindable**\n- ✅ Check: Is `isBindingTarget` set to `true`?\n- ✅ Check: Is `bindingDirection` set to `\"Target\"` or `\"Both\"`?\n- ✅ Check: Is `shown` set to `true`?"}
{"id": "kb_000186", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "validator", "widget", "set", "type", "area", "define", "unique", "and", "displayname", "configure", "expression", "write", "javascript", "end", "with", "use", "parameter", "names"], "text": "### Workflow Summary\n\n1. **Create Validator Widget**\n   - Set `Type: \"validator\"`\n   - Set `Area: \"UI\"`\n   - Define unique `Id` and `DisplayName`\n\n2. **Configure Expression**\n   - Write JavaScript expression\n   - End with `;\\n`\n   - Use parameter names exactly as defined\n\n3. **Define Parameters**\n   - Add to `_currentParameterDefs` array\n   - Set `ParameterName` (used in expression)\n   - Set `Description` (tooltip)\n   - Set `DefaultValue` as **STRING** (critical!)\n   - Set `BaseType` appropriately\n\n4. **Set Checkboxes**\n   - `AutoEvaluate: true` for automatic validation\n   - `Output: true` to expose result\n\n5. **Create Bindings**\n   - Bind input widgets to validator parameters\n   - UI → UI binding pattern\n   - Match parameter names exactly"}
{"id": "kb_000187", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "aspect", "value", "notes", "widget", "type", "validator", "validation", "expression", "area", "must", "defaultvalue", "string", "pascalcase", "format", "age", "end", "with", "autoevaluate"], "text": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `validator` | Validation/expression widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **DefaultValue** | `\"1\"` | String! PascalCase! |\n| **Expression Format** | `Age >= 18;\\n` | End with ;\\n |\n| **AutoEvaluate** | `true`/`false` | Auto-evaluation |\n| **Output** | `true`/`false` | Expression output |\n| **Parameter Binding** | Input → Validator | UI → UI binding |"}
{"id": "kb_000188", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "lessons", "learned", "from", "implementation", "experience", "defaultvalue", "type", "issue", "first", "attempt", "used", "camelcase", "number", "this", "was", "silently", "ignored", "correct", "pascalcase"], "text": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **DefaultValue Type Issue** ⚠️\n   - First attempt used `defaultValue: 0` (camelCase number)\n   - This was silently ignored by ThingWorx\n   - Correct: `DefaultValue: \"1\"` (PascalCase string)\n\n2. **Zero Value Problem** ⚠️\n   - Using `\"0\"` as default may not work reliably\n   - ThingWorx may interpret it as null/empty\n   - Better to use `\"1\"` or non-zero values\n\n3. **Case Sensitivity** ⚠️\n   - Property name is `DefaultValue`, not `defaultValue`\n   - Parameter names in expressions are case-sensitive\n   - All property names must match exactly\n\n**Typical Data Flow:**\n```\nUser Input (Value) → Validator Parameter (Age)\n                              ↓\n                    Expression Evaluation\n                              ↓\n                      Validator Output\n                              ↓\n                    UI Actions / Validation\n```\n\n---"}
{"id": "kb_000189", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "the", "expression", "function", "widget", "that", "evaluates", "javascript", "code", "with", "custom", "parameters", "unlike", "validator", "which", "focused", "validation", "logic", "designed", "for"], "text": "### Overview\n\nThe `expression` is a function widget that evaluates JavaScript code with custom parameters. Unlike the validator widget which is focused on validation logic, the expression widget is designed for general-purpose expression evaluation, calculations, and data transformation. It provides more control over output types and data change behavior."}
{"id": "kb_000190", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "and", "common", "pitfalls", "caution", "defaultvalue", "must", "string", "just", "like", "the", "validator", "parameter", "definitions", "not", "number", "use", "instead", "even", "for"], "text": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Must Be a String**: Just like the validator, the `DefaultValue` in parameter definitions must be a **string**, not a number. Use `\"2\"` instead of `2`, even for NUMBER types.\n\n> [!CAUTION]\n> **Property Name is PascalCase**: The property name is `DefaultValue` (capital D and V), **NOT** `defaultValue` (camelCase).\n\n> [!IMPORTANT]\n> **Widget Type Discovery**: The widget type is `\"expression\"`, with German display name `\"Ausdruck\"`. When searching for examples, be aware of potential naming variations."}
{"id": "kb_000191", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "structure", "javascript", "type", "expression", "displayname", "myexpression", "area", "typedisplayname", "ausdruck", "width", "height", "code", "age", "result", "vollj", "hrig", "checkbox", "settings", "autoevaluate"], "text": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"expression\",\n        \"Id\": \"expression-id\",\n        \"DisplayName\": \"MyExpression\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Ausdruck\",\n        \"Width\": 200,\n        \"Height\": 28,\n        \n        // JavaScript expression code\n        \"Expression\": \"if(age>18) {result = \\\"volljährig\\\"}\\n\",\n        \n        // Checkbox settings\n        \"AutoEvaluate\": true,        // Automatisch auswerten\n        \"FireOnFirstValue\": true,    // Bei erstem Wert auslösen\n        \n        // Data and output configuration\n        \"DataChangeType\": \"NEVER\",   // NEVER, VALUE, or ALWAYS\n        \"OutputBaseType\": \"BOOLEAN\", // Output data type\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \n        // Parameter definitions\n        \"_currentParameterDefs\": [\n            {\n                \"ParameterName\": \"age\",\n                \"Description\": \"alter\",          // Tooltip\n                \"DefaultValue\": \"2\",             // MUST be string!\n                \"BaseType\": \"NUMBER\",\n                \"bindingDirection\": \"Target\",\n                \"bindingType\": \"Property\",\n                \"isBindingTarget\": true,\n                \"isBindingSource\": false,\n                \"shown\": true\n            }\n        ]\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000192", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["reference", "type", "required", "description", "string", "must", "expression", "unique", "identifier", "area", "javascript", "code", "evaluate", "autoevaluate", "boolean", "auto", "when", "parameters", "change", "fireonfirstvalue"], "text": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | ✅ | Must be `\"expression\"` |\n| `Id` | STRING | ✅ | Unique identifier |\n| `Area` | STRING | ✅ | Must be `\"UI\"` |\n| `Expression` | STRING | ✅ | JavaScript code to evaluate |\n| `AutoEvaluate` | BOOLEAN | ⚪ | Auto-evaluate when parameters change |\n| `FireOnFirstValue` | BOOLEAN | ⚪ | Trigger on first value received |\n| `DataChangeType` | STRING | ⚪ | When to propagate changes |\n| `OutputBaseType` | STRING | ⚪ | Output data type |\n| `Width` | NUMBER | ⚪ | Widget width (typically 200) |\n| `Height` | NUMBER | ⚪ | Widget height (typically 28) |\n| `_currentParameterDefs` | ARRAY | ⚪ | Parameter definitions |"}
{"id": "kb_000193", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["expression", "the", "contains", "javascript", "code", "that", "evaluated", "key", "points", "use", "parameter", "names", "exactly", "defined", "currentparameterdefs", "assign", "result", "variable", "can", "include"], "text": "### Expression Property\n\nThe `Expression` property contains JavaScript code that is evaluated:\n\n**Key Points:**\n- Use parameter names exactly as defined in `_currentParameterDefs`\n- Assign result to the `result` variable\n- Can include complex logic with if/else, loops, etc.\n- Can perform calculations and string operations\n\n**Example Expressions:**\n\n```javascript\n// Simple conditional\n\"if(age>18) {result = \\\"volljährig\\\"}\\n\"\n\n// Calculation\n\"result = price * quantity * (1 + taxRate);\\n\"\n\n// Multiple conditions\n\"if(age < 18) {\\n  result = \\\"minor\\\";\\n} else if(age < 65) {\\n  result = \\\"adult\\\";\\n} else {\\n  result = \\\"senior\\\";\\n}\\n\"\n\n// Boolean logic\n\"result = (status === 'active' && balance > 0);\\n\"\n\n// String concatenation\n\"result = firstName + ' ' + lastName;\\n\"\n```\n\n> [!TIP]\n> End expressions with `\\n` (newline). This is the standard format used by ThingWorx."}
{"id": "kb_000194", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["autoevaluate", "automatisch", "auswerten", "true", "expression", "evaluates", "automatically", "when", "any", "parameter", "value", "changes", "false", "must", "triggered", "manually", "via", "button", "click", "use"], "text": "#### AutoEvaluate (Automatisch auswerten)\n\n- **`true`**: Expression evaluates automatically when any parameter value changes\n- **`false`**: Expression must be triggered manually (e.g., via button click)\n\n**Use `true` when:**\n- Real-time calculation is needed\n- Output should update as user types\n- Live validation or feedback\n\n**Use `false` when:**\n- Calculation is expensive\n- User should control when to evaluate\n- Batch processing is preferred"}
{"id": "kb_000195", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["fireonfirstvalue", "bei", "erstem", "wert", "ausl", "sen", "true", "expression", "executes", "immediately", "when", "the", "first", "value", "received", "false", "waits", "for", "subsequent", "changes"], "text": "#### FireOnFirstValue (Bei erstem Wert auslösen)\n\n- **`true`**: Expression executes immediately when the first value is received\n- **`false`**: Expression waits for subsequent value changes\n\n**Use `true` when:**\n- Initial calculation is needed on page load\n- Default values should be processed\n\n**Use `false` when:**\n- Only user-initiated changes should trigger evaluation\n- Initial state should remain unchanged"}
{"id": "kb_000196", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["datachangetype", "datei", "nderungstyp", "controls", "when", "data", "changes", "are", "propagated", "value", "description", "use", "case", "never", "automatic", "propagation", "manual", "control", "updates", "propagate"], "text": "### DataChangeType (Dateiänderungstyp)\n\nControls when data changes are propagated:\n\n| Value | Description | Use Case |\n|-------|-------------|----------|\n| `\"NEVER\"` | No automatic propagation | Manual control of updates |\n| `\"VALUE\"` | Propagate when value changes | Normal reactive behavior |\n| `\"ALWAYS\"` | Always propagate | Force updates even if value unchanged |\n\n> [!TIP]\n> Use `\"NEVER\"` when you want to control data flow manually, `\"VALUE\"` for standard reactive updates, and `\"ALWAYS\"` only when guaranteed updates are needed."}
{"id": "kb_000197", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["outputbasetype", "ausgabe", "basistyp", "defines", "the", "data", "type", "expression", "result", "description", "example", "boolean", "true", "false", "string", "text", "vollj", "hrig", "hello", "number"], "text": "### OutputBaseType (Ausgabe-Basistyp)\n\nDefines the data type of the expression result:\n\n| Type | Description | Example Result |\n|------|-------------|----------------|\n| `\"BOOLEAN\"` | True/False | `true`, `false` |\n| `\"STRING\"` | Text | `\"volljährig\"`, `\"Hello\"` |\n| `\"NUMBER\"` | Decimal number | `42.5`, `3.14` |\n| `\"INTEGER\"` | Whole number | `42`, `100` |\n| `\"DATETIME\"` | Date/time | Date objects |\n| `\"JSON\"` | JSON object | `{\"key\": \"value\"}` |\n| `\"INFOTABLE\"` | Data table | ThingWorx InfoTable |\n\n> [!IMPORTANT]\n> The `OutputBaseType` should match the type of value assigned to `result` in your expression. Mismatches may cause type conversion errors."}
{"id": "kb_000198", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["parameter", "configuration", "parameters", "work", "exactly", "like", "validator", "widget", "javascript", "parametername", "age", "variable", "name", "expression", "description", "alter", "tooltip", "text", "defaultvalue", "string"], "text": "### Parameter Configuration\n\nParameters work exactly like validator widget parameters:\n\n```javascript\n{\n    \"ParameterName\": \"age\",           // Variable name in Expression\n    \"Description\": \"alter\",           // Tooltip text\n    \"DefaultValue\": \"2\",              // ⚠️ STRING, not number!\n    \"BaseType\": \"NUMBER\",             // Data type\n    \"bindingDirection\": \"Target\",     // Target, Source, or Both\n    \"bindingType\": \"Property\",\n    \"isBindingTarget\": true,\n    \"isBindingSource\": false,\n    \"shown\": true\n}\n```\n\n**See Recipe 13 (Validator Function) for detailed parameter documentation.**"}
{"id": "kb_000199", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "use", "cases", "calculations", "price", "with", "tax", "discount", "computations", "mathematical", "formulas", "unit", "conversions", "data", "transformations", "string", "concatenation", "date", "formatting", "case"], "text": "### Common Use Cases\n\n1. **Calculations**\n   - Price calculations with tax\n   - Discount computations\n   - Mathematical formulas\n   - Unit conversions\n\n2. **Data Transformations**\n   - String concatenation\n   - Date formatting\n   - Case conversion\n   - Data normalization\n\n3. **Conditional Logic**\n   - Age-based categorization\n   - Status determination\n   - Eligibility checks\n   - Dynamic text generation\n\n4. **Complex Business Logic**\n   - Multi-step calculations\n   - Decision trees\n   - Rule evaluation\n   - Score computation"}
{"id": "kb_000200", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "working", "example", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env", "envcontent", "readfilesync", "utf8", "split", "foreach", "line", "key"], "text": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.expression-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Expression Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Expression Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Numeric input\n                        {\n                            \"Properties\": {\n                                \"Type\": \"numericentry\",\n                                \"Id\": \"input-age\",\n                                \"Label\": \"Age:\",\n                                \"Value\": 2,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label for result\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-result\",\n                                \"LabelText\": \"Result will appear here\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Expression Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"expression\",\n                        \"Id\": \"age-expression\",\n                        \"DisplayName\": \"AgeExpression\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Ausdruck\",\n                        \"Width\": 200,\n                        \"Height\": 28,\n                        \"Expression\": \"if(age>18) {result = \\\"volljährig\\\"}\\n\",\n                        \"AutoEvaluate\": true,\n                        \"FireOnFirstValue\": true,\n                        \"DataChangeType\": \"NEVER\",\n                        \"OutputBaseType\": \"BOOLEAN\",\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"_currentParameterDefs\": [\n                            {\n                                \"ParameterName\": \"age\",\n                                \"Description\": \"alter\",\n                                \"DefaultValue\": \"2\",\n                  "}
{"id": "kb_000201", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["binding", "pattern", "input", "expression", "parameter", "purpose", "bind", "user", "parameters", "javascript", "sourceid", "numeric", "targetid", "propertymaps", "sourceproperty", "value", "targetproperty", "age", "name", "from"], "text": "### Binding Pattern: Input → Expression Parameter\n\n**Purpose**: Bind user input to expression parameters\n\n```javascript\n{\n    \"SourceId\": \"numeric-input-id\",\n    \"TargetId\": \"expression-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"TargetProperty\": \"age\",             // Parameter name from expression\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```"}
{"id": "kb_000202", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["expression", "validator", "feature", "primary", "use", "general", "calculations", "transformations", "validation", "logic", "output", "control", "outputbasetype", "configurable", "fixed", "result", "data", "change", "datachangetype", "option"], "text": "### Expression vs. Validator\n\n| Feature | Expression | Validator |\n|---------|-----------|-----------|\n| **Primary Use** | General calculations & transformations | Validation logic |\n| **Output Control** | `OutputBaseType` configurable | Fixed to validation result |\n| **Data Change** | `DataChangeType` option | Standard behavior |\n| **Fire on First** | `FireOnFirstValue` option | Not available |\n| **Flexibility** | More control options | Simpler, focused on validation |\n\n> [!TIP]\n> Use **expression** for calculations and data transformations. Use **validator** for simple validation checks."}
{"id": "kb_000203", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["best", "practices", "tip", "clear", "parameter", "names", "use", "descriptive", "age", "price", "quantity", "match", "business", "domain", "terminology", "keep", "concise", "but", "meaningful", "output"], "text": "### Best Practices\n\n> [!TIP]\n> **Clear Parameter Names**\n> - Use descriptive names (age, price, quantity)\n> - Match business domain terminology\n> - Keep names concise but meaningful\n\n> [!TIP]\n> **Output Type Matching**\n> - Ensure `OutputBaseType` matches your result type\n> - STRING for text results (`\"volljährig\"`)\n> - BOOLEAN for true/false (`true`, `false`)\n> - NUMBER for calculations (`42.5`)\n\n> [!TIP]\n> **Expression Format**\n> - Keep expressions readable\n> - Use proper indentation for multi-line code\n> - Add comments in complex expressions\n> - Test with various input values"}
{"id": "kb_000204", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "defaultvalue", "type", "same", "validator", "must", "string", "number", "result", "variable", "always", "assign", "output", "text", "wrong", "correct", "parameter", "name"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Type**: Same as validator - must be STRING!\n> - ❌ `\"DefaultValue\": 2` (number)\n> - ✅ `\"DefaultValue\": \"2\"` (string)\n\n> [!CAUTION]\n> **Result Variable**: Always assign to `result`\n> - ❌ `output = \"text\"` (wrong variable)\n> - ✅ `result = \"text\"` (correct)\n\n> [!CAUTION]\n> **Parameter Name Case**: Names are case-sensitive\n> - Definition: `\"ParameterName\": \"age\"`\n> - Expression must use: `age` (exact match)\n> - ❌ `Age`, `AGE` (wrong case)\n\n> [!CAUTION]\n> **Output Type Mismatch**: Result must match OutputBaseType\n> - `OutputBaseType: \"BOOLEAN\"` → result must be true/false\n> - `OutputBaseType: \"STRING\"` → result must be text\n> - Type mismatches can cause errors"}
{"id": "kb_000205", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["troubleshooting", "guide", "problem", "expression", "not", "evaluating", "check", "autoevaluate", "set", "true", "are", "parameter", "names", "spelled", "correctly", "result", "variable", "assigned", "wrong", "output"], "text": "### Troubleshooting Guide\n\n**Problem: Expression not evaluating**\n- ✅ Check: Is `AutoEvaluate` set to `true`?\n- ✅ Check: Are parameter names spelled correctly in expression?\n- ✅ Check: Is `result` variable assigned in expression?\n\n**Problem: Wrong output type**\n- ✅ Check: Does `OutputBaseType` match result type?\n- ✅ Check: Is result value the correct type?\n- ✅ Try: Add type conversion in expression (e.g., `String()`, `Number()`)\n\n**Problem: Default value not working**\n- ✅ Check: Is `DefaultValue` a string (`\"2\"` not `2`)?\n- ✅ Check: Is property name `DefaultValue` (PascalCase)?\n- ✅ Try: Use non-zero value like `\"1\"` instead of `\"0\"`\n\n**Problem: Expression doesn't fire on load**\n- ✅ Check: Is `FireOnFirstValue` set to `true`?\n- ✅ Check: Are default values provided for all parameters?"}
{"id": "kb_000206", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "expression", "widget", "set", "type", "area", "define", "unique", "and", "displayname", "write", "javascript", "code", "use", "parameter", "names", "from", "currentparameterdefs", "assign"], "text": "### Workflow Summary\n\n1. **Create Expression Widget**\n   - Set `Type: \"expression\"`\n   - Set `Area: \"UI\"`\n   - Define unique `Id` and `DisplayName`\n\n2. **Write Expression**\n   - JavaScript code in `Expression` property\n   - Use parameter names from `_currentParameterDefs`\n   - Assign result to `result` variable\n\n3. **Configure Output**\n   - Set `OutputBaseType` to match result type\n   - Set `DataChangeType` as needed\n   - Configure checkboxes\n\n4. **Define Parameters**\n   - Add to `_currentParameterDefs` array\n   - Set `DefaultValue` as **STRING**\n   - Set appropriate `BaseType`\n\n5. **Set Checkboxes**\n   - `AutoEvaluate: true` for auto-calculation\n   - `FireOnFirstValue: true` for initial evaluation\n\n6. **Create Bindings**\n   - Bind input widgets to expression parameters\n   - UI → UI binding pattern\n   - Match parameter names exactly"}
{"id": "kb_000207", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "aspect", "value", "notes", "widget", "type", "expression", "general", "display", "name", "ausdruck", "german", "javascript", "code", "assign", "result", "defaultvalue", "string", "pascalcase"], "text": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `expression` | General expression widget |\n| **Display Name** | `Ausdruck` | German UI name |\n| **Expression** | JavaScript code | Assign to `result` |\n| **DefaultValue** | `\"2\"` | String! PascalCase! |\n| **AutoEvaluate** | `true`/`false` | Auto-evaluation |\n| **FireOnFirstValue** | `true`/`false` | Execute on first value |\n| **DataChangeType** | `NEVER`/`VALUE`/`ALWAYS` | Change propagation |\n| **OutputBaseType** | `BOOLEAN`/`STRING`/`NUMBER` | Result type |"}
{"id": "kb_000208", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "lessons", "learned", "from", "implementation", "experience", "widget", "type", "discovery", "searched", "for", "testausdruck", "example", "not", "found", "expected", "location", "correct", "discovered", "via"], "text": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **Widget Type Discovery** ⚠️\n   - Searched for \"testausdruck\" in example mashup\n   - Widget not found in expected location\n   - Correct type discovered via direct testing: `\"expression\"`\n   - German display name: `\"Ausdruck\"`\n\n2. **Parameter Configuration** ⚠️\n   - Same as validator: `DefaultValue` must be STRING\n   - Same PascalCase requirement\n   - Learned from validator implementation\n\n3. **Expression Flexibility** ✅\n   - More configuration options than validator\n   - `DataChangeType` for fine control\n   - `OutputBaseType` for type specification\n   - `FireOnFirstValue` for initial execution\n\n4. **Use Case Differentiation** ✅\n   - Expression: calculations, transformations, general logic\n   - Validator: focused on validation only\n   - Choose based on primary purpose\n\n**Typical Data Flow:**\n```\nUser Input (Value) → Expression Parameter (age)\n                              ↓\n                    JavaScript Evaluation\n                              ↓\n                    Result Assignment\n                              ↓\n              Output (Type: OutputBaseType)\n                              ↓\n                 UI Widgets / Data Bindings\n```\n\n---"}
{"id": "kb_000209", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["overview", "the", "ptcsconfirmation", "widget", "displays", "confirmation", "dialog", "with", "customizable", "title", "message", "and", "three", "action", "buttons", "cancel", "secondary", "plus", "optional", "close"], "text": "### Overview\n\nThe `ptcsconfirmation` widget displays a confirmation dialog with customizable title, message, and up to three action buttons (Cancel, Action, Secondary Action), plus an optional close button. This is commonly used for important user actions that require explicit confirmation."}
{"id": "kb_000210", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "and", "common", "pitfalls", "caution", "ids", "must", "not", "contain", "umlauts", "the", "most", "issue", "with", "widgets", "that", "widget", "cannot", "special", "characters"], "text": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **IDs Must Not Contain Umlauts**: The most critical issue with ThingWorx widgets is that widget `Id` properties **cannot contain umlauts** (ä, ö, ü, ß) or special characters. Using umlauts will cause ThingWorx to mark the widget as invalid and remove it from the mashup with a warning: \"Widgets entfernt - Es wurden Widgets mit ungültigen IDs gefunden und entfernt.\"\n\n> [!CAUTION]\n> **ID vs DisplayName**: \n> - **`Id`**: Must use ASCII characters only (a-z, 0-9, hyphens, underscores)\n> - **`DisplayName`**: CAN contain umlauts and special characters\n> - Example: `Id: \"bestaetigung-funktion\"`, `DisplayName: \"BestätigungsFunktion\"`\n\n> [!IMPORTANT]\n> **Dialog Dimensions as Strings**: `DialogWidth` and `DialogHeight` must be strings (e.g., `\"500\"`), not numbers."}
{"id": "kb_000211", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "structure", "javascript", "type", "ptcsconfirmation", "bestaetigung", "funktion", "umlauts", "displayname", "best", "tigungsfunktion", "here", "area", "typedisplayname", "tigung", "dialog", "dimensions", "dialogwidth", "string", "not"], "text": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"ptcsconfirmation\",\n        \"Id\": \"bestaetigung-funktion\",      // No umlauts!\n        \"DisplayName\": \"BestätigungsFunktion\",  // Umlauts OK here\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Bestätigung\",\n        \n        // Dialog dimensions\n        \"DialogWidth\": \"500\",               // String, not number\n        \"DialogHeight\": \"500\",\n        \n        // Dialog text\n        \"TitleText\": \"Beispielbestätigung\",\n        \"MessageText\": \"Das ist eine bestätigun\",\n        \n        // Cancel button\n        \"CancelButtonLabel\": \"Abbrechen\",\n        \"CancelButtonIcon\": \"atio.BV-Telephone\",\n        \"CancelButtonTooltipField\": \"Tooltip abbrechen\",\n        \"CancelButtonTooltipIcon\": \"atio.BE-SaveButton\",\n        \n        // Action button\n        \"ActionButtonLabel\": \"Action\",\n        \"ActionButtonTooltipField\": \"\",\n        \"ActionButtonPosition\": \"right\",    // \"left\" or \"right\"\n        \"ActionButtonType\": \"danger\",       // \"primary\", \"danger\", etc.\n        \n        // Secondary action button\n        \"SecondButtonLabel\": \"Action\",\n        \"SecondButtonTooltipField\": \"\",\n        \n        // Checkboxes\n        \"DisplaySecondaryAction\": true,     // Show second action button\n        \"DisplayCloseButton\": true,         // Show close (X) button\n        \n        // Close button\n        \"CloseButtonTooltipField\": \"Schließen\",\n        \n        // Standard properties\n        \"UseTheme\": true,\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000212", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["reference", "type", "required", "description", "string", "must", "ptcsconfirmation", "unique", "umlauts", "area", "dialogwidth", "dialog", "width", "dialogheight", "height", "titletext", "title", "messagetext", "main", "message"], "text": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | ✅ | Must be `\"ptcsconfirmation\"` |\n| `Id` | STRING | ✅ | Unique ID (NO UMLAUTS!) |\n| `Area` | STRING | ✅ | Must be `\"UI\"` |\n| `DialogWidth` | STRING | ⚪ | Dialog width (e.g., \"500\") |\n| `DialogHeight` | STRING | ⚪ | Dialog height (e.g., \"500\") |\n| `TitleText` | STRING | ⚪ | Dialog title |\n| `MessageText` | STRING | ⚪ | Main message/question |\n| `DisplaySecondaryAction` | BOOLEAN | ⚪ | Show second action button |\n| `DisplayCloseButton` | BOOLEAN | ⚪ | Show close (X) button |\n| `ActionButtonPosition` | STRING | ⚪ | \"left\" or \"right\" |\n| `ActionButtonType` | STRING | ⚪ | Button style type |"}
{"id": "kb_000213", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["dialog", "dimensions", "javascript", "dialogwidth", "width", "pixels", "string", "dialogheight", "height", "tip", "common", "sizes", "x300", "small", "x400", "medium", "x600", "large"], "text": "#### Dialog Dimensions\n\n```javascript\n\"DialogWidth\": \"500\",      // Width in pixels (as string)\n\"DialogHeight\": \"500\"      // Height in pixels (as string)\n```\n\n> [!TIP]\n> Common dialog sizes: 400x300 (small), 600x400 (medium), 800x600 (large)"}
{"id": "kb_000214", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["cancel", "button", "abbrechen", "schaltfl", "che", "always", "displayed", "default", "javascript", "cancelbuttonlabel", "text", "cancelbuttonicon", "atio", "telephone", "icon", "identifier", "cancelbuttontooltipfield", "tooltip", "cancelbuttontooltipicon", "savebutton"], "text": "#### 1. Cancel Button (Abbrechen-Schaltfläche)\n\nAlways displayed by default.\n\n```javascript\n\"CancelButtonLabel\": \"Abbrechen\",              // Button text\n\"CancelButtonIcon\": \"atio.BV-Telephone\",       // Icon identifier\n\"CancelButtonTooltipField\": \"Tooltip abbrechen\",  // Tooltip text\n\"CancelButtonTooltipIcon\": \"atio.BE-SaveButton\"   // Tooltip icon\n```\n\n**Properties:**\n- `CancelButtonLabel`: Text displayed on button\n- `CancelButtonIcon`: Icon displayed on button\n- `CancelButtonTooltipField`: Hover tooltip text\n- `CancelButtonTooltipIcon`: Icon in tooltip"}
{"id": "kb_000215", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["action", "button", "aktionsschaltfl", "che", "the", "main", "primary", "javascript", "actionbuttonlabel", "text", "actionbuttontooltipfield", "tooltip", "actionbuttonposition", "right", "position", "left", "actionbuttontype", "danger", "style", "etc"], "text": "#### 2. Action Button (Aktionsschaltfläche)\n\nThe main action button (primary action).\n\n```javascript\n\"ActionButtonLabel\": \"Action\",          // Button text\n\"ActionButtonTooltipField\": \"\",         // Tooltip text\n\"ActionButtonPosition\": \"right\",        // Position: \"left\" or \"right\"\n\"ActionButtonType\": \"danger\"           // Style: \"primary\", \"danger\", etc.\n```\n\n**ActionButtonPosition:**\n- `\"left\"`: Button appears on the left side\n- `\"right\"`: Button appears on the right side\n\n**ActionButtonType:**\n| Type | Description | Use Case |\n|------|-------------|----------|\n| `\"primary\"` | Primary/default style | Normal confirmations |\n| `\"danger\"` | Red/warning style | Destructive actions (delete, remove) |\n| `\"success\"` | Green/positive style | Positive confirmations |\n| `\"secondary\"` | Secondary style | Less important actions |"}
{"id": "kb_000216", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["secondary", "action", "button", "zweite", "aktionsschaltfl", "che", "optional", "second", "enabled", "via", "checkbox", "javascript", "displaysecondaryaction", "true", "enable", "secondbuttonlabel", "text", "secondbuttontooltipfield", "tooltip", "set"], "text": "#### 3. Secondary Action Button (Zweite Aktionsschaltfläche)\n\nOptional second action button, enabled via checkbox.\n\n```javascript\n\"DisplaySecondaryAction\": true,         // Enable second button\n\"SecondButtonLabel\": \"Action\",         // Button text\n\"SecondButtonTooltipField\": \"\"        // Tooltip text\n```\n\n**Enable via:**\n- Set `DisplaySecondaryAction` to `true`\n\n**Use cases:**\n- \"Save and Continue\" + \"Save and Close\"\n- \"Approve\" + \"Reject\"\n- Multiple choice confirmations"}
{"id": "kb_000217", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["close", "button", "schlie", "schaltfl", "che", "optional", "dialog", "corner", "javascript", "displayclosebutton", "true", "enable", "closebuttontooltipfield", "tooltip", "via", "set"], "text": "#### 4. Close Button (Schließen-Schaltfläche)\n\nOptional X button in dialog corner.\n\n```javascript\n\"DisplayCloseButton\": true,                 // Enable close button\n\"CloseButtonTooltipField\": \"Schließen\"     // Close button tooltip\n```\n\n**Enable via:**\n- Set `DisplayCloseButton` to `true`"}
{"id": "kb_000218", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["displaysecondaryaction", "zweite", "aktionsschaltfl", "che", "hinzuf", "gen", "true", "shows", "second", "action", "button", "false", "hides", "only", "cancel", "visible", "use", "when", "multiple", "choices"], "text": "#### DisplaySecondaryAction (Zweite Aktionsschaltfläche hinzufügen)\n\n- **`true`**: Shows second action button\n- **`false`**: Hides second action button (only Cancel + Action visible)\n\n**Use when:**\n- Multiple action choices needed\n- \"Save As\" + \"Save\" scenarios\n- Complex workflows with options"}
{"id": "kb_000219", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["displayclosebutton", "schaltfl", "che", "schlie", "true", "shows", "button", "dialog", "corner", "false", "only", "action", "buttons", "can", "close", "use", "when", "user", "should", "able"], "text": "#### DisplayCloseButton (Schaltfläche \"Schließen\")\n\n- **`true`**: Shows X button in dialog corner\n- **`false`**: Only action buttons can close dialog\n\n**Use when:**\n- User should be able to dismiss without action\n- Non-critical confirmations\n- Optional dialogs"}
{"id": "kb_000220", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["icon", "configuration", "icons", "can", "specified", "for", "buttons", "and", "tooltips", "using", "identifiers", "format", "system", "name", "custom", "namespace", "iconname", "atio", "telephone", "common"], "text": "### Icon Configuration\n\nIcons can be specified for buttons and tooltips using icon identifiers:\n\n**Icon Format:**\n- System icons: `\"icon-name\"`\n- Custom icons: `\"namespace.IconName\"` (e.g., `\"atio.BV-Telephone\"`)\n\n**Common Icon Properties:**\n- `CancelButtonIcon`: Main cancel button icon\n- `CancelButtonTooltipIcon`: Icon in cancel button tooltip\n- Similar pattern for other buttons\n\n> [!TIP]\n> Browse available icons in ThingWorx Composer under Resources → Media Entities → Icons"}
{"id": "kb_000221", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "use", "cases", "delete", "confirmation", "title", "item", "message", "this", "action", "cannot", "undone", "cancel", "button", "danger", "type", "right", "position", "save", "changes"], "text": "### Common Use Cases\n\n1. **Delete Confirmation**\n   - Title: \"Delete Item?\"\n   - Message: \"This action cannot be undone.\"\n   - Cancel Button: \"Cancel\"\n   - Action Button: \"Delete\" (danger type, right position)\n\n2. **Save Changes**\n   - Title: \"Unsaved Changes\"\n   - Message: \"Do you want to save your changes?\"\n   - Cancel: \"Discard\"\n   - Action: \"Save\" (primary type)\n   - Secondary: \"Save As\"\n\n3. **Critical Action**\n   - Title: \"Warning\"\n   - Message: \"This will affect all users.\"\n   - Cancel: \"Cancel\"\n   - Action: \"Proceed\" (danger type)\n   - Close Button: Disabled\n\n4. **Information Confirmation**\n   - Title: \"Information\"\n   - Message: \"Operation completed successfully.\"\n   - Action: \"OK\" (primary type)\n   - Close Button: Enabled"}
{"id": "kb_000222", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["complete", "working", "example", "javascript", "const", "require", "path", "load", "config", "envpath", "join", "dirname", "env", "envcontent", "readfilesync", "utf8", "split", "foreach", "line", "key"], "text": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.confirmation-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Confirmation Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Confirmation Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Button to trigger confirmation\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"Id\": \"trigger-button\",\n                                \"ButtonText\": \"Show Confirmation\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Confirmation Dialog\n                {\n                    \"Properties\": {\n                        \"Type\": \"ptcsconfirmation\",\n                        \"Id\": \"delete-confirmation\",       // No umlauts!\n                        \"DisplayName\": \"DeleteConfirmation\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Bestätigung\",\n                        \"DialogWidth\": \"500\",\n                        \"DialogHeight\": \"300\",\n                        \"TitleText\": \"Delete Item?\",\n                        \"MessageText\": \"This action cannot be undone. Are you sure?\",\n                        \"CancelButtonLabel\": \"Cancel\",\n                        \"CancelButtonIcon\": \"\",\n                        \"CancelButtonTooltipField\": \"Cancel deletion\",\n                        \"CancelButtonTooltipIcon\": \"\",\n                        \"ActionButtonLabel\": \"Delete\",\n                        \"ActionButtonTooltipField\": \"Confirm deletion\",\n                        \"ActionButtonPosition\": \"right\",\n                        \"ActionButtonType\": \"danger\",\n                        \"DisplaySecondaryAction\": false,\n                        \"DisplayCloseButton\": true,\n                        \"CloseButtonTooltipField\": \"Close\",\n                        \"SecondButtonLabel\": \"\",\n                        \"SecondButtonTooltipField\": \"\",\n                        \"UseTheme\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n       "}
{"id": "kb_000223", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["best", "practices", "tip", "clear", "button", "labels", "use", "action", "oriented", "language", "delete", "save", "cancel", "avoid", "ambiguous", "yes", "make", "primary", "obvious", "appropriate"], "text": "### Best Practices\n\n> [!TIP]\n> **Clear Button Labels**\n> - Use action-oriented language (\"Delete\", \"Save\", \"Cancel\")\n> - Avoid ambiguous labels (\"OK\", \"Yes\", \"No\")\n> - Make primary action obvious\n\n> [!TIP]\n> **Appropriate Button Types**\n> - Use `danger` for destructive actions (delete, remove)\n> - Use `primary` for normal confirmations\n> - Position primary action on the right (standard UX)\n\n> [!TIP]\n> **Dialog Sizing**\n> - Keep dialogs compact but readable\n> - 400-600px width is typical\n> - Height should fit content (250-500px)"}
{"id": "kb_000224", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["common", "pitfalls", "caution", "umlauts", "the", "cause", "widgets", "removed", "errors", "best", "tigungsfunktion", "will", "bestaetigung", "funktion", "works", "displayname", "can", "have", "dimension", "types"], "text": "### Common Pitfalls\n\n> [!CAUTION]\n> **Umlauts in ID**: The #1 cause of \"widgets removed\" errors\n> - ❌ `Id: \"BestätigungsFunktion\"` (will be removed!)\n> - ✅ `Id: \"bestaetigung-funktion\"` (works)\n> - DisplayName CAN have umlauts: `DisplayName: \"BestätigungsFunktion\"`\n\n> [!CAUTION]\n> **Dimension Types**: Dialog dimensions must be strings\n> - ❌ `DialogWidth: 500` (number)\n> - ✅ `DialogWidth: \"500\"` (string)\n\n> [!CAUTION]\n> **Button Configuration**: Forgetting to enable optional buttons\n> - Set `DisplaySecondaryAction: true` to show secondary button\n> - Set `DisplayCloseButton: true` to show close button\n> - Both default to `false`\n\n> [!CAUTION]\n> **Icon Names**: Invalid icon identifiers fail silently\n> - Use valid icon names from ThingWorx icon library\n> - Format: `\"namespace.IconName\"` for custom icons\n> - Leave empty `\"\"` if no icon needed"}
{"id": "kb_000225", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["troubleshooting", "guide", "problem", "widget", "not", "appearing", "widgets", "entfernt", "warning", "check", "does", "contain", "umlauts", "special", "characters", "solution", "replace", "verify", "only", "use"], "text": "### Troubleshooting Guide\n\n**Problem: Widget not appearing / \"Widgets entfernt\" warning**\n- ✅ Check: Does `Id` contain umlauts or special characters?\n- ✅ Solution: Replace umlauts (ä→ae, ö→oe, ü→ue, ß→ss)\n- ✅ Verify: Only use a-z, 0-9, hyphens, underscores in `Id`\n\n**Problem: Secondary button not visible**\n- ✅ Check: Is `DisplaySecondaryAction` set to `true`?\n- ✅ Check: Is `SecondButtonLabel` set?\n\n**Problem: Close button not visible**\n- ✅ Check: Is `DisplayCloseButton` set to `true`?\n\n**Problem: Dialog too small/large**\n- ✅ Check: Are `DialogWidth` and `DialogHeight` strings?\n- ✅ Try: Adjust values (\"400\", \"500\", \"600\", etc.)\n\n**Problem: Icon not displaying**\n- ✅ Check: Is icon name valid?\n- ✅ Check: Correct format for custom icons?\n- ✅ Try: Leave empty if icon not found"}
{"id": "kb_000226", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["workflow", "summary", "confirmation", "widget", "set", "type", "ptcsconfirmation", "area", "without", "umlauts", "configure", "dialog", "dialogwidth", "and", "dialogheight", "strings", "titletext", "messagetext", "cancel", "button"], "text": "### Workflow Summary\n\n1. **Create Confirmation Widget**\n   - Set `Type: \"ptcsconfirmation\"`\n   - Set `Area: \"UI\"`\n   - Set `Id` without umlauts!\n\n2. **Configure Dialog**\n   - Set `DialogWidth` and `DialogHeight` (strings)\n   - Set `TitleText` and `MessageText`\n\n3. **Configure Cancel Button**\n   - Set label, icon, tooltip\n   - Always visible by default\n\n4. **Configure Action Button**\n   - Set label, tooltip\n   - Set position (left/right)\n   - Set type (primary/danger/etc.)\n\n5. **Optional: Add Secondary Button**\n   - Set `DisplaySecondaryAction: true`\n   - Set `SecondButtonLabel` and tooltip\n\n6. **Optional: Add Close Button**\n   - Set `DisplayCloseButton: true`\n   - Set `CloseButtonTooltipField`\n\n7. **Bind Events**\n   - Connect button click events\n   - Execute actions on confirmation\n   - Handle cancel/close events"}
{"id": "kb_000227", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["quick", "reference", "aspect", "value", "notes", "widget", "type", "ptcsconfirmation", "confirmation", "dialog", "display", "name", "best", "tigung", "german", "constraint", "ascii", "only", "umlauts", "dialogwidth"], "text": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `ptcsconfirmation` | Confirmation dialog |\n| **Display Name** | `Bestätigung` | German UI name |\n| **ID Constraint** | ASCII only | **NO UMLAUTS!** |\n| **DialogWidth** | `\"500\"` | String, not number |\n| **DialogHeight** | `\"300\"` | String, not number |\n| **ActionButtonPosition** | `\"left\"`/`\"right\"` | Button placement |\n| **ActionButtonType** | `\"primary\"`/`\"danger\"` | Button style |\n| **DisplaySecondaryAction** | `true`/`false` | Show 2nd button |\n| **DisplayCloseButton** | `true`/`false` | Show X button |"}
{"id": "kb_000228", "source_path": "docs/mashup_creation_recipe.md", "type": "recipe", "entity": "Mashup", "keywords": ["critical", "lessons", "learned", "from", "implementation", "experience", "umlaut", "issue", "first", "attempt", "best", "tigungsfunktion", "with", "umlauts", "result", "widget", "marked", "invalid", "and", "removed"], "text": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **ID Umlaut Issue** ⚠️\n   - First attempt: `Id: \"BestätigungsFunktion\"` (with umlauts)\n   - Result: Widget marked as invalid and removed\n   - Error: \"Widgets entfernt - ungültige IDs gefunden\"\n   - Solution: `Id: \"bestaetigung-funktion\"` (no umlauts)\n\n2. **ID vs DisplayName** ✅\n   - `Id`: Must be ASCII-safe (no umlauts, special chars)\n   - `DisplayName`: Can contain umlauts and special characters\n   - Both can be different values\n\n3. **Dimension Format** ⚠️\n   - Must be strings: `\"500\"` not `500`\n   - Matches pattern of other dialog widgets\n\n4. **Button Visibility** ✅\n   - Cancel button: Always visible\n   - Action button: Always visible\n   - Secondary button: Requires `DisplaySecondaryAction: true`\n   - Close button: Requires `DisplayCloseButton: true`\n\n**Typical Data Flow:**\n```\nUser Action → Trigger Event → Show Confirmation Dialog\n                                    ↓\n                          User Clicks Button\n                                    ↓\n                   Button Event → Execute Action\n                                    ↓\n                            Close Dialog\n```"}
{"id": "kb_000229", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["recipe", "master", "border", "layout", "this", "demonstrates", "how", "use", "which", "provides", "consistent", "header", "and", "sidebar", "fixed", "edges", "flexible", "center", "within", "the"], "text": "## Recipe 4: Master Mashup & Border Layout\n\nThis recipe demonstrates how to use a **Master Mashup** (which provides a consistent Header and Sidebar) and create a **Border Layout** (fixed edges, flexible center) within the content area."}
{"id": "kb_000230", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "uniformity", "uses", "shared", "master", "antigravity", "ensure", "all", "pages", "look", "part", "the", "same", "application", "structured", "layout", "classic", "border", "pattern", "top"], "text": "### Purpose\n*   **Uniformity**: Uses a shared Master Mashup (`antigravity.Master-mm`) to ensure all pages look part of the same application.\n*   **Structured Layout**: Uses a classic \"Border Layout\" pattern (Top/Bottom/Left/Right fixed panels, Center flexible panel)."}
{"id": "kb_000231", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["structure", "mermaid", "graph", "master", "header", "nav", "content", "flex", "column", "top", "fixed", "middle", "row", "grow", "bottom", "left", "center", "right"], "text": "### Structure\n```mermaid\ngraph TD\n    Master[Master Mashup Header/Nav] -.-> Content\n    Content[Mashup Content<br/>Flex Column] --> Top[Top Fixed<br/>100px]\n    Content --> Middle[Middle Row<br/>Flex Grow]\n    Content --> Bottom[Bottom Fixed<br/>100px]\n    \n    Middle --> Left[Left Fixed<br/>100px]\n    Middle --> Center[Center<br/>Flex Grow]\n    Middle --> Right[Right Fixed<br/>100px]\n```"}
{"id": "kb_000232", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["configuring", "the", "master", "use", "you", "simply", "specify", "its", "name", "root", "javascript", "type", "standard", "antigravity", "binds", "this"], "text": "#### 1. Configuring the Master\nTo use a Master Mashup, you simply specify its name in the `Master` property of the Mashup Root.\n\n```javascript\n\"Properties\": {\n    \"Id\": \"mashup-root\",\n    \"Type\": \"mashup\",\n    // ... standard properties ...\n    \"Master\": \"antigravity.Master-mm\" // Binds this mashup to the Master\n},\n```"}
{"id": "kb_000233", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["full", "creation", "script", "template", "javascript", "standard", "boilerplate", "const", "mashup_name", "antigravity", "border", "layout", "async", "function", "createmashup", "mashupcontent", "root", "type", "responsivelayout", "true"], "text": "### Full Creation Script Template\n\n```javascript\n/* ... Standard Boilerplate ... */\nconst MASHUP_NAME = \"antigravity.border-layout-mu\";\n\nasync function createMashup() {\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Master\": \"antigravity.Master-mm\", // THE KEY LINE\n                // ...\n            },\n            \"Widgets\": [\n                 {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"flex-direction\": \"column\",\n                        // ...\n                    },\n                    \"Widgets\": [\n                        // See \"Complex Fixed Sidebar Layout\" recipe for \n                        // details on how to create fixed Top/Bottom/Left/Right containers\n                    ]\n                }\n            ]\n        },\n        // ...\n    };\n    /* ... Send Request ... */\n}\n```"}
{"id": "kb_000234", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["purpose", "hoc", "styling", "quickly", "applying", "brand", "colors", "specific", "yellow", "f7d154", "single", "component", "overriding", "themes", "forcing", "style", "even", "theme", "active", "though"], "text": "### Purpose\n*   **Ad-hoc Styling**: Quickly applying brand colors (e.g., a specific yellow #F7D154) to a single component.\n*   **Overriding Themes**: Forcing a style even if a Theme is active (though `StyleTheme` may sometimes need to be removed)."}
{"id": "kb_000235", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["root", "customcss", "define", "your", "css", "classes", "the", "javascript", "class", "rule", "here", "yellow", "background", "color", "f7d154"], "text": "#### 1. Mashup Root: CustomCSS\nDefine your CSS classes in the `CustomCSS` property of the **Mashup Root**.\n\n```javascript\n\"Properties\": {\n    \"Id\": \"mashup-root\",\n    // ...\n    // Define the class rule here\n    \"CustomCSS\": \".yellow-bg { background-color: #F7D154; }\"\n},\n```"}
{"id": "kb_000236", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["widget", "customclass", "apply", "the", "class", "name", "specific", "flexcontainer", "javascript", "type", "here", "dot", "yellow", "widgets"], "text": "#### 2. Widget: CustomClass\nApply the class name to the specific **Widget** (e.g., a FlexContainer).\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"Id\": \"flexcontainer-1\",\n        // ...\n        // Apply the class name here (no dot)\n        \"CustomClass\": \"yellow-bg\"\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000237", "source_path": "docs/mashup_creation_recipe_append.md", "type": "recipe", "entity": "Mashup", "keywords": ["troubleshooting", "the", "style", "does", "not", "appear", "check", "specificity", "your", "css", "might", "overridden", "system", "default", "try", "adding", "important", "last", "resort", "background"], "text": "### Troubleshooting\nIf the style does not appear:\n1.  **Check Specificity**: Your CSS might be overridden by the system default CSS. Try adding `!important` as a last resort: `background-color: #F7D154 !important;`.\n2.  **StyleTheme**: In some versions, the defined `StyleTheme` on the Root might conflict. You can try setting `\"StyleTheme\": \"\"` or removing the property if issues persist."}
{"id": "kb_000238", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["layout", "strategy", "responsive", "design", "always", "prefer", "layouts", "over", "static", "this", "ensures", "your", "application", "adapts", "different", "screen", "sizes", "desktop", "tablet", "mobile"], "text": "### 1. Layout Strategy\n*   **Responsive Design**: Always prefer **Responsive** layouts over Static layouts. This ensures your application adapts to different screen sizes (desktop, tablet, mobile).\n*   **Containers**: Use `Layout` widgets (Rows and Columns) to structure your page. Avoid placing widgets directly on the root canvas if possible; nest them in containers for better control."}
{"id": "kb_000239", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["naming", "conventions", "meaningful", "names", "give", "every", "widget", "descriptive", "displayname", "lbltemperature", "btnsubmit", "gridorderhistory", "this", "makes", "binding", "and", "debugging", "significantly", "easier", "consistency"], "text": "### 2. Naming Conventions\n*   **Meaningful Names**: Give every widget a descriptive `DisplayName` (e.g., `lblTemperature`, `btnSubmit`, `gridOrderHistory`). This makes binding and debugging significantly easier.\n*   **Consistency**: Stick to a prefix convention (e.g., `lbl` for Labels, `btn` for Buttons, `txt` for TextFields)."}
{"id": "kb_000240", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["performance", "minimize", "bindings", "too", "many", "can", "slow", "down", "the", "load", "time", "group", "data", "where", "possible", "execution", "use", "invokeservice", "only", "when"], "text": "### 3. Performance\n*   **Minimize Bindings**: Too many bindings can slow down the Mashup load time. Group data in services where possible.\n*   **Service Execution**: Use `InvokeService` only when necessary. Avoid auto-refreshing heavy services at short intervals.\n*   **Lazy Loading**: Load data only when the user needs to see it (e.g., in a tab that isn't initially visible)."}
{"id": "kb_000241", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["standard", "widgets", "reference", "here", "list", "commonly", "used", "widget", "name", "type", "description", "common", "use", "case", "label", "modern", "ptcslabel", "displays", "static", "dynamic"], "text": "## Standard Widgets Reference\n\nHere is a list of commonly used widgets:\n\n| Widget Name | Type in JSON | Description | Common Use Case |\n| :--- | :--- | :--- | :--- |\n| **Label (Modern)** | `ptcslabel` | Displays static or dynamic text with modern styling. | Headers, data values, instructions. |\n| **Label (Legacy)** | `Label` | Old label widget - **avoid using**. | Legacy mashups only. |\n| **Button** | `ptcsbutton` | Clickable element to trigger events. | Submitting forms, navigation, refreshing data. |\n| **TextField** | `ptcstextfield` | Single-line text input. | Search bars, form inputs. |\n| **TextArea** | `ptcstextarea` | Multi-line text input. | Comments, descriptions. |\n| **Grid (Advanced)** | `ptcsgrid` | Displays data in a tabular format. | Lists of items, reports, data management. |\n| **Navigation** | `navigation` | Links to other Mashups or URLs. | Menus, links. |\n| **Image** | `image` | Displays an image. | Logos, product photos, status icons. |\n| **Checkbox** | `ptcscheckbox` | Boolean input. | Toggles, settings. |\n| **Dropdown** | `ptcsdropdown` | Select one item from a list. | Filtering, form selection. |\n| **Date Time Picker** | `ptcsdatetimepicker` | Select date and time. | Filtering by date range, scheduling. |\n| **Tabs** | `ptcstabs` | Organizes content into selectable views. | Categorizing complex information. |\n| **Responsive Container** | `flexcontainer` | Flex-based container for responsive layouts. | **Required for modern mashups**. |\n| **Numeric Input** | `numericentry` | Legacy numeric input (lowercase). | Input numbers. **Requires explicit width/height**. |\n| **Radio Button** | `ptcsradio` | Modern radio button. | Single choice selection. |\n| **Toggle Button** | `ptcstogglebutton` | On/Off switch. | Boolean settings, enabling features. |"}
{"id": "kb_000242", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["critical", "modern", "widget", "types", "always", "use", "the", "ptcs", "ptcslabel", "ptcsbutton", "instead", "legacy", "label", "button", "widgets", "may", "not", "render", "correctly", "newer"], "text": "### ⚠️ Critical: Modern Widget Types\n**Always use the modern `ptcs*` widget types** (e.g., `ptcslabel`, `ptcsbutton`) instead of legacy types (e.g., `Label`, `Button`). The legacy widgets may not render correctly in newer ThingWorx versions."}
{"id": "kb_000243", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["critical", "use", "responsive", "containers", "never", "place", "widgets", "directly", "the", "root", "always", "wrap", "them", "flexcontainer", "container", "first", "this", "required", "for", "proper"], "text": "### ⚠️ Critical: Use Responsive Containers\n**Never place widgets directly in the mashup root.** Always wrap them in a `flexcontainer` (Responsive Container) first. This is required for proper rendering and responsive behavior.\n\n**Example Structure:**\n```\nMashup Root (mashup-root)\n  └── Responsive Container (flexcontainer)\n        └── Label (ptcslabel)\n        └── Button (ptcsbutton)\n```"}
{"id": "kb_000244", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["layout", "containers", "layouts", "are", "crucial", "for", "structure", "common", "patterns", "include", "header", "top", "strip", "branding", "global", "actions", "logout", "and", "page", "titles"], "text": "## Layout Containers\n\nLayouts are crucial for structure. Common patterns include:\n\n*   **Header**: Top strip for branding, global actions (Logout), and page titles.\n*   **Sidebar**: Left (or right) panel for navigation menus.\n*   **Footer**: Bottom strip for copyright, version info, or status.\n*   **Content**: The main central area where the specific page functionality lives."}
{"id": "kb_000245", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["purpose", "consistent", "navigation", "you", "define", "the", "sidebar", "menu", "and", "header", "once", "master", "all", "child", "mashups", "loaded", "into", "this", "will", "automatically"], "text": "### Purpose\n1.  **Consistent Navigation**: You define the **Sidebar** (Navigation Menu) and **Header** once in the Master Mashup. All \"Child Mashups\" loaded into this Master will automatically inherit these elements.\n2.  **Theming**: The Master Mashup helps enforce a consistent visual theme (colors, fonts, spacing) across all pages that use it."}
{"id": "kb_000246", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["implementation", "with", "the", "type", "master", "add", "your", "logo", "and", "title", "header", "area", "menu", "widget", "sidebar", "for", "navigation", "define", "content", "placeholder"], "text": "### Implementation\n*   Create a Mashup with the type `Master`.\n*   Add your **Logo** and **Title** to the Header area.\n*   Add a **Menu** widget to the Sidebar area for navigation.\n*   Define a **Content** placeholder. When you create a standard Mashup, you select this Master, and your standard Mashup's content will fill this placeholder."}
{"id": "kb_000247", "source_path": "docs/mashup_design_guide.md", "type": "rule", "entity": "Mashup", "keywords": ["benefits", "maintainability", "change", "the", "menu", "item", "one", "place", "master", "and", "updates", "everywhere", "user", "experience", "users", "get", "seamless", "frame", "header", "nav"], "text": "### Benefits\n*   **Maintainability**: Change the menu item in one place (the Master), and it updates everywhere.\n*   **User Experience**: Users get a seamless experience as the frame (header/nav) stays stable while the content area transitions."}
{"id": "kb_000248", "source_path": "docs/mashup_examples/mqtt.Test-mu.json", "type": "example", "entity": "Mashup", "keywords": ["owner", "name", "administrator", "type", "user", "preview", "headers", "accept", "application", "appkey", "a7e8dd", "b19", "c0e", "b46", "c071d74f5", "content", "visibilitypermissions", "visibility", "lastmodifieddate", "columns"], "text": "{\n    \"owner\": {\n        \"name\": \"Administrator\",\n        \"type\": \"User\"\n    },\n    \"preview\": \"\",\n    \"headers\": {\n        \"Accept\": \"application/json\",\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Content-Type\": \"application/json\"\n    },\n    \"visibilityPermissions\": {\n        \"Visibility\": []\n    },\n    \"lastModifiedDate\": 1744749731002,\n    \"columns\": 0,\n    \"parameterDefinitions\": {},\n    \"aspects\": {\n        \"isResponsive\": true,\n        \"isFlex\": \"true\",\n        \"mashupType\": \"mashup\"\n    },\n    \"designTimePermissions\": {\n        \"Read\": [],\n        \"Delete\": [],\n        \"Create\": [],\n        \"Metadata\": [],\n        \"Update\": []\n    },\n    \"description\": \"\",\n    \"homeMashup\": \"\",\n    \"avatar\": \"\",\n    \"rows\": 0,\n    \"tags\": [],\n    \"mashupContent\": \"{\\\"UI\\\":{\\\"Properties\\\":{\\\"Area\\\":\\\"Mashup\\\",\\\"Style\\\":\\\"DefaultMashupStyle\\\",\\\"ShowDataLoading\\\":true,\\\"Visible\\\":true,\\\"Z-index\\\":10,\\\"Id\\\":\\\"mashup-root\\\",\\\"DisplayName\\\":\\\"Mashup\\\",\\\"Top\\\":0,\\\"Left\\\":0,\\\"supportsAutoResize\\\":true,\\\"id_index\\\":21,\\\"Type\\\":\\\"mashup\\\",\\\"__TypeDisplayName\\\":\\\"Mashup\\\",\\\"Width\\\":1024,\\\"Height\\\":618,\\\"MinWidth\\\":0,\\\"MinHeight\\\":0,\\\"IgnoreWarningsInViewMashup\\\":false,\\\"ResponsiveLayout\\\":true,\\\"Title\\\":\\\"\\\",\\\"TitleBar\\\":false,\\\"TitleBarText\\\":\\\"Gadget Title Here\\\",\\\"MashupToEditGadget\\\":\\\"DefaultMashupToEditGadget\\\",\\\"EnableParameterEditing\\\":false,\\\"Columns\\\":0,\\\"Rows\\\":0,\\\"TitleBarStyle\\\":\\\"DefaultTitleBarStyle\\\",\\\"AddToDashboardButtonStyle\\\":\\\"DefaultAddToDashboardButtonStyle\\\",\\\"ConfigureGadgetButtonStyle\\\":\\\"DefaultConfigureGadgetButtonStyle\\\",\\\"BGImageRepeat\\\":\\\"no-repeat\\\",\\\"BGImageSize\\\":\\\"auto\\\",\\\"IsPrintLayout\\\":false,\\\"UseThemeForHybrids\\\":false,\\\"StyleTheme\\\":\\\"PTC Convergence Theme\\\",\\\"UseMasterTheme\\\":false,\\\"AddToDashboardButton\\\":\\\"SimplePlus\\\",\\\"ConfigureGadgetButton\\\":\\\"SimpleGear\\\",\\\"BGImage\\\":\\\"\\\",\\\"UseTheme\\\":false},\\\"Widgets\\\":[{\\\"Properties\\\":{\\\"Area\\\":\\\"UI\\\",\\\"Type\\\":\\\"flexcontainer\\\",\\\"__TypeDisplayName\\\":\\\"Responsive Container\\\",\\\"userCannotRemove\\\":true,\\\"UseTheme\\\":true,\\\"StyleProperties\\\":{},\\\"SourceURL\\\":\\\"\\\",\\\"Style\\\":\\\"DefaultContainerStyle\\\",\\\"flex-min-width\\\":\\\"\\\",\\\"flex-min-height\\\":\\\"\\\",\\\"flex-max-width\\\":\\\"\\\",\\\"flex-max-height\\\":\\\"\\\",\\\"flex-direction\\\":\\\"column\\\",\\\"align-items\\\":\\\"flex-start\\\",\\\"justify-content\\\":\\\"flex-start\\\",\\\"flex-wrap\\\":\\\"nowrap\\\",\\\"align-content\\\":\\\"flex-start\\\",\\\"flex-grow\\\":1,\\\"flex-shrink\\\":1,\\\"flex-basis\\\":\\\"auto\\\",\\\"flex-size\\\":\\\"default\\\",\\\"positioning\\\":\\\"responsive\\\",\\\"EnableExpandCollapse\\\":false,\\\"Expanded\\\":true,\\\"ShowExpandCollapseTab\\\":false,\\\"ExpandCollapseTabLocation\\\":\\\"inside\\\",\\\"Overlay\\\":false,\\\"ResponsiveLayout\\\":true,\\\"ShowDataLoading\\\":true,\\\"Visible\\\":true,\\\"Z-index\\\":10,\\\"Id\\\":\\\"flexcontainer-2\\\",\\\"DisplayName\\\":\\\"container-2\\\",\\\"LastContainer\\\":true,\\\"iconClass\\\":\\\"widgets-flexcontainer\\\"},\\\"Widgets\\\":[{\\\"Properties\\\":{\\\"Area\\\":\\\"UI\\\",\\\"Type\\\":\\\"flexcontainer\\\",\\\"__TypeDisplayName\\\":\\\"Responsive Container\\\",\\\"userCannotRemove\\\":false,\\\"UseTheme\\\":true,\\\"StyleProperties\\\":{},\\\"SourceURL\\\":\\\"\\\",\\\"Style\\\":\\\"DefaultContainerStyle\\\",\\\"flex-min-width\\\":\\\"\\\",\\\"flex-min-height\\\":\\\"85px\\\",\\\"flex-max-width\\\":\\\"\\\",\\\"flex-max-height\\\":\\\"85px\\\",\\\"flex-direction\\\":\\\"row\\\",\\\"align-items\\\":\\\"flex-start\\\",\\\"justify-content\\\":\\\"flex-start\\\",\\\"flex-wrap\\\":\\\"nowrap\\\",\\\"align-content\\\":\\\"flex-start\\\",\\\"flex-grow\\\":1,\\\"flex-shrink\\\":1,\\\"flex-basis\\\":\\\"auto\\\",\\\"flex-size\\\":\\\"fixed\\\",\\\"positioning\\\":\\\"responsive\\\",\\\"EnableExpandCollapse\\\":false,\\\"Expanded\\\":true,\\\"ShowExpandCollapseTab\\\":false,\\\"ExpandCollapseTabLocation\\\":\\\"inside\\\",\\\"Overlay\\\":false,\\\"ResponsiveLayout\\\":false,\\\"ShowDataLoading\\\":true,\\\"Visible\\\":true,\\\"Z-index\\\":10,\\\"Id\\\":\\\"flexcontainer-4\\\",\\\"DisplayName\\\":\\\"container-4\\\",\\\"LastContainer\\\":false,\\\"isLocked\\\":false,\\\"iconClass\\\":\\\"widgets-flexcontainer-fixed\\\"},\\\"Widgets\\\":[{\\\"Properties\\\":{\\\"Area\\\":\\\"UI\\\",\\\"Type\\\":\\\"flexcontainer\\\",\\\"__TypeDisplayName\\\":\\\"Responsive Container\\\",\\\"userCannotRemove\\\":false,\\\"UseTheme\\\":true,\\\"StyleProperties\\\":{}"}
{"id": "kb_000249", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["responsive", "containers", "flexcontainer", "with", "single", "centered", "container", "nested", "within", "test", "flex", "direction", "row", "column", "justify", "content", "start", "center", "end", "space"], "text": "### 1.1 Responsive Containers (flexcontainer)\n- [ ] Create a mashup with a single centered responsive container\n- [ ] Create nested responsive containers (container within container)\n- [ ] Test flex-direction: row vs column\n- [ ] Test justify-content: flex-start, center, flex-end, space-between\n- [ ] Test align-items: flex-start, center, flex-end, stretch"}
{"id": "kb_000250", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["static", "containers", "container", "with", "fixed", "positioning", "test", "absolute", "top", "left", "mix", "and", "responsive", "the", "same"], "text": "### 1.2 Static Containers\n- [ ] Create a static container with fixed positioning\n- [ ] Test absolute positioning (Top, Left properties)\n- [ ] Mix static and responsive containers in the same mashup\n\n---"}
{"id": "kb_000251", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["vertical", "alignment", "label", "aligned", "top", "verticalalignment", "flex", "start", "center", "bottom", "end"], "text": "### 2.2 Vertical Alignment\n- [ ] Label aligned top (VerticalAlignment: \"flex-start\")\n- [ ] Label aligned center (VerticalAlignment: \"center\")\n- [ ] Label aligned bottom (VerticalAlignment: \"flex-end\")"}
{"id": "kb_000252", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["binding", "with", "test", "returning", "string", "number", "boolean", "infotable", "bind", "output", "label", "display", "value", "gauge", "numeric", "grid"], "text": "### 4.1 Service Binding\n- [ ] Create a Thing with test services\n  - [ ] Service returning a STRING\n  - [ ] Service returning a NUMBER\n  - [ ] Service returning a BOOLEAN\n  - [ ] Service returning an INFOTABLE\n- [ ] Bind service output to label (display value)\n- [ ] Bind service output to gauge (numeric value)\n- [ ] Bind service output to grid (InfoTable)"}
{"id": "kb_000253", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["binding", "with", "test", "string", "number", "boolean", "bind", "label", "toggle", "button", "two", "way", "widget", "updates"], "text": "### 4.2 Property Binding\n- [ ] Create a Thing with test properties\n  - [ ] STRING property\n  - [ ] NUMBER property\n  - [ ] BOOLEAN property\n- [ ] Bind property to label\n- [ ] Bind property to toggle button\n- [ ] Test two-way binding (widget updates property)"}
{"id": "kb_000254", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["form", "layout", "vertical", "with", "text", "input", "field", "dropdown", "selector", "radio", "button", "group", "submit", "bind"], "text": "### 5.2 Form Layout\n- [ ] Create a vertical form with:\n  - [ ] Text input field\n  - [ ] Dropdown selector\n  - [ ] Radio button group\n  - [ ] Submit button\n- [ ] Bind submit button to create/update a Thing property"}
{"id": "kb_000255", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["success", "criteria", "all", "widgets", "render", "correctly", "the", "viewer", "data", "bindings", "work", "values", "display", "events", "trigger", "button", "clicks", "selections", "layout", "responsive"], "text": "## Success Criteria\n\n✅ All widgets render correctly in the mashup viewer\n✅ All data bindings work (values display correctly)\n✅ All events trigger correctly (button clicks, selections)\n✅ Layout is responsive and adapts to different screen sizes\n✅ No console errors in browser developer tools\n✅ Mashup can be saved and reopened without errors\n\n---"}
{"id": "kb_000256", "source_path": "docs/mashup_testing_todo.md", "type": "rule", "entity": "Mashup", "keywords": ["notes", "test", "each", "item", "incrementally", "don", "everything", "once", "save", "working", "examples", "for", "reference", "document", "any", "issues", "limitations", "discovered", "keep", "track"], "text": "## Notes\n\n- Test each item incrementally (don't create everything at once)\n- Save working examples for reference\n- Document any issues or limitations discovered\n- Keep track of which widget types and properties work vs. which don't"}
{"id": "kb_000257", "source_path": "docs/Service_Header_Standard.md", "type": "rule", "entity": "Service", "keywords": ["mandatory", "header", "format", "javascript", "servicename", "created", "yyyy", "authorname", "last", "modified", "description", "brief", "what", "this", "does", "inputs", "paramname", "type", "paramname2", "output"], "text": "## Mandatory Header Format\n\n```javascript\n/**\n * Service: ServiceName\n * Created: YYYY-MM-DD HH:MM by AuthorName\n * Last Modified: YYYY-MM-DD HH:MM by AuthorName\n * \n * Description:\n *   Brief description of what this service does\n * \n * Inputs:\n *   - paramName (TYPE): Description\n *   - paramName2 (TYPE): Description\n * \n * Output:\n *   - TYPE: Description of return value\n * \n * Change Log:\n *   YYYY-MM-DD - AuthorName - Initial creation\n *   YYYY-MM-DD - AuthorName - Description of changes made\n */\n```"}
{"id": "kb_000258", "source_path": "docs/Service_Header_Standard.md", "type": "rule", "entity": "Service", "keywords": ["new", "javascript", "calculatediscount", "created", "antigravity", "llm", "last", "modified", "description", "calculates", "the", "discounted", "price", "based", "original", "and", "discount", "percentage", "inputs", "originalprice"], "text": "### New Service\n```javascript\n/**\n * Service: CalculateDiscount\n * Created: 2025-11-24 16:00 by Antigravity LLM\n * Last Modified: 2025-11-24 16:00 by Antigravity LLM\n * \n * Description:\n *   Calculates the discounted price based on original price and discount percentage\n * \n * Inputs:\n *   - originalPrice (NUMBER): Original price before discount\n *   - discountPercent (NUMBER): Discount percentage (0-100)\n * \n * Output:\n *   - NUMBER: Final price after applying discount\n * \n * Change Log:\n *   2025-11-24 - Antigravity LLM - Initial creation\n */\n\nvar result = originalPrice * (1 - (discountPercent / 100));\n```"}
{"id": "kb_000259", "source_path": "docs/Service_Header_Standard.md", "type": "rule", "entity": "Service", "keywords": ["updated", "javascript", "calculatediscount", "created", "antigravity", "llm", "last", "modified", "description", "calculates", "the", "discounted", "price", "based", "original", "and", "discount", "percentage", "now", "includes"], "text": "### Updated Service\n```javascript\n/**\n * Service: CalculateDiscount\n * Created: 2025-11-24 16:00 by Antigravity LLM\n * Last Modified: 2025-11-24 16:30 by Antigravity LLM\n * \n * Description:\n *   Calculates the discounted price based on original price and discount percentage\n *   Now includes validation to prevent negative prices\n * \n * Inputs:\n *   - originalPrice (NUMBER): Original price before discount (must be > 0)\n *   - discountPercent (NUMBER): Discount percentage (0-100)\n * \n * Output:\n *   - JSON: Object with finalPrice and savings, or error message\n * \n * Change Log:\n *   2025-11-24 16:00 - Antigravity LLM - Initial creation\n *   2025-11-24 16:30 - Antigravity LLM - Added input validation and error handling\n */\n\nvar result = {};\n\nif (originalPrice <= 0) {\n    result.error = \"Original price must be greater than 0\";\n} else if (discountPercent < 0 || discountPercent > 100) {\n    result.error = \"Discount must be between 0 and 100\";\n} else {\n    result.finalPrice = originalPrice * (1 - (discountPercent / 100));\n    result.savings = originalPrice - result.finalPrice;\n}\n```"}
{"id": "kb_000260", "source_path": "docs/Service_Header_Standard.md", "type": "rule", "entity": "Service", "keywords": ["benefits", "traceability", "know", "who", "changed", "what", "and", "when", "documentation", "self", "documenting", "code", "collaboration", "team", "members", "understand", "history", "debugging", "easier", "track"], "text": "## Benefits\n\n✅ **Traceability**: Know who changed what and when  \n✅ **Documentation**: Self-documenting code  \n✅ **Collaboration**: Team members understand service history  \n✅ **Debugging**: Easier to track down when issues were introduced  \n✅ **Compliance**: Audit trail for changes"}
{"id": "kb_000261", "source_path": "docs/Service_Header_Standard.md", "type": "rule", "entity": "Service", "keywords": ["llm", "implementation", "when", "using", "servicehelper", "the", "header", "part", "servicecode", "parameter", "bash", "curl", "data", "thingname", "mything", "servicename", "myservice", "created", "nvar", "result"], "text": "## LLM Implementation\n\nWhen using ServiceHelper to create/update services, the header is part of the `serviceCode` parameter:\n\n```bash\ncurl ... --data '{\n    \"thingName\": \"MyThing\",\n    \"serviceName\": \"MyService\",\n    \"serviceCode\": \"/**\\n * Service: MyService\\n * Created: ...\\n * ...\\n */\\n\\nvar result = ...;\",\n    ...\n}'\n```\n\nNote: Use `\\n` for newlines in the JSON string."}
{"id": "kb_000262", "source_path": "docs/ServiceHelper_Success.md", "type": "rule", "entity": "Service", "keywords": ["working", "solution", "the", "servicehelper", "addservicetothing", "now", "fully", "functional", "this", "allows", "you", "add", "with", "code", "any", "via", "simple", "api", "call", "without"], "text": "## ✅ Working Solution\n\nThe `ServiceHelper.AddServiceToThing` service is now fully functional! This allows you to add services with code to any Thing via a simple REST API call, without downloading/uploading large entity definitions."}
{"id": "kb_000263", "source_path": "docs/ServiceHelper_Success.md", "type": "rule", "entity": "Service", "keywords": ["how", "works", "the", "fetches", "configuration", "converts", "parameters", "input", "proper", "javascript", "objects", "builds", "definition", "and", "implementation", "structures", "injects", "them", "into", "pushes"], "text": "## How It Works\n\nThe service:\n1. Fetches the Thing's configuration as JSON\n2. Converts the parameters input to proper JavaScript objects\n3. Builds the service definition and implementation structures\n4. Injects them into the Thing's configuration\n5. Pushes the updated configuration back to ThingWorx"}
{"id": "kb_000264", "source_path": "docs/ServiceHelper_Success.md", "type": "rule", "entity": "Service", "keywords": ["usage", "example", "bash", "curl", "location", "request", "post", "http", "servicehelper", "addservicetothing", "header", "appkey", "a7e8dd", "b19", "c0e", "b46", "c071d74f5", "accept", "application", "content"], "text": "## Usage Example\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: 59a7e8dd-6b19-4c0e-9b46-419c071d74f5' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"gemini.test-helper\",\n    \"serviceName\": \"AddNumbers\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```"}
{"id": "kb_000265", "source_path": "docs/ServiceHelper_Success.md", "type": "rule", "entity": "Service", "keywords": ["key", "implementation", "details", "uses", "stringify", "and", "parse", "handle", "parameters", "includes", "authentication", "headers", "the", "getjson", "putjson", "calls", "instead", "puttext", "for", "proper"], "text": "## Key Implementation Details\n\n- Uses `JSON.stringify()` and `JSON.parse()` to handle ThingWorx JSON parameters\n- Includes authentication headers in the `GetJSON` and `PutJSON` calls\n- Uses `PutJSON` instead of `PutText` for proper content type handling\n- Handles SSL errors for local development environments"}
{"id": "kb_000266", "source_path": "docs/ServiceHelper_Success.md", "type": "rule", "entity": "Service", "keywords": ["next", "steps", "you", "can", "now", "additional", "helper", "for", "updating", "existing", "code", "adding", "removing", "bulk", "operations", "all", "following", "the", "same", "efficient"], "text": "## Next Steps\n\nYou can now create additional helper services for:\n- Updating existing service code\n- Adding properties\n- Removing services\n- Bulk operations\n\nAll following the same efficient server-side pattern!"}
{"id": "kb_000267", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Thing", "keywords": ["base", "configuration", "all", "api", "requests", "should", "directed", "the", "server", "url", "format", "http", "host", "port", "example", "environment"], "text": "## 1. Base Configuration\n\nAll API requests should be directed to the ThingWorx server base URL.\n\n**Base URL Format:**\n`http://<server-host>:<port>/Thingworx`\n\n**Example Environment:**\n- Host: `192.168.20.3`\n- Port: `8080`"}
{"id": "kb_000268", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Thing", "keywords": ["authentication", "typically", "handled", "via", "application", "key", "appkey", "headers", "required", "your_app_key", "content", "type", "accept"], "text": "## 2. Authentication\n\nAuthentication is typically handled via an Application Key (AppKey).\n\n**Headers Required:**\n- `appKey`: `<YOUR_APP_KEY>`\n- `Content-Type`: `application/json`\n- `Accept`: `application/json`"}
{"id": "kb_000269", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Thing", "keywords": ["common", "operations", "with", "curl", "examples", "the", "following", "assume", "host", "atio", "example", "appkey", "ea56f55d", "f9e", "f11", "a7a3c6", "replace", "your", "actual", "key"], "text": "## 3. Common Operations (with cURL Examples)\n\nThe following examples assume:\n- Host: `192.168.20.3:8080`\n- Thing: `atio.example-thing`\n- AppKey: `ea56f55d-1f9e-4f11-9159-016728a7a3c6` (Replace with your actual key)"}
{"id": "kb_000270", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Property", "keywords": ["get", "retrieves", "the", "current", "value", "specific", "endpoint", "thingname", "propertyname", "curl", "example", "bash", "location", "http", "atio", "exampleint", "header", "appkey", "ea56f55d", "f9e"], "text": "#### Get a Property\nRetrieves the current value of a specific property.\n\n**Endpoint:** `GET /Things/<ThingName>/Properties/<PropertyName>`\n\n**cURL Example:**\n```bash\ncurl --location 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Properties/exampleInt' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json'\n```"}
{"id": "kb_000271", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Property", "keywords": ["set", "updates", "the", "value", "specific", "note", "that", "use", "put", "collection", "with", "body", "containing", "key", "pair", "endpoint", "thingname", "curl", "example", "bash"], "text": "#### Set a Property\nUpdates the value of a specific property. Note that we use `PUT` on the `Properties` collection with a JSON body containing the key-value pair.\n\n**Endpoint:** `PUT /Things/<ThingName>/Properties/*`\n\n**cURL Example:**\n```bash\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Properties/*' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"exampleInt\": 10\n}'\n```"}
{"id": "kb_000272", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Service", "keywords": ["execute", "runs", "defined", "endpoint", "post", "thingname", "servicename", "curl", "example", "bash", "location", "request", "http", "atio", "doubleexampleint", "header", "appkey", "ea56f55d", "f9e", "f11"], "text": "#### Execute a Service\nRuns a service defined on a Thing.\n\n**Endpoint:** `POST /Things/<ThingName>/Services/<ServiceName>`\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Services/doubleExampleInt' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json'\n```\n*Note: If the service requires parameters, include them in the `--data` JSON object.*"}
{"id": "kb_000273", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Service", "keywords": ["creating", "new", "use", "the", "creatething", "entityservices", "resource", "endpoint", "post", "resources", "parameters", "name", "thingtemplatename", "template", "inherit", "from", "genericthing", "curl", "example", "bash"], "text": "### 4.1. Creating a Thing\nTo create a new Thing, use the `CreateThing` service on the `EntityServices` resource.\n\n**Endpoint:** `POST /Resources/EntityServices/Services/CreateThing`\n\n**Parameters:**\n- `name`: Name of the new Thing.\n- `thingTemplateName`: The template to inherit from (e.g., 'GenericThing').\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewThing\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```\n*After creation, you typically need to enable the Thing using the `EnableThing` service.*"}
{"id": "kb_000274", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Service", "keywords": ["creating", "add", "definition", "specific", "not", "template", "use", "the", "addpropertydefinition", "itself", "endpoint", "post", "thingname", "parameters", "name", "type", "data", "string", "number", "boolean"], "text": "### 4.2. Creating a Property\nTo add a property definition to a specific Thing (not a template), use the `AddPropertyDefinition` service on the Thing itself.\n\n**Endpoint:** `POST /Things/<ThingName>/Services/AddPropertyDefinition`\n\n**Parameters:**\n- `name`: Property name.\n- `type`: Data type (STRING, NUMBER, BOOLEAN, etc.).\n- `description`: (Optional) Description.\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/MyNewThing/Services/AddPropertyDefinition' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewProperty\",\n    \"type\": \"STRING\",\n    \"description\": \"A property created via API\"\n}'\n```\n*Note: You may need to restart the Thing or the server for some changes to fully take effect, though usually adding a property is immediate.*"}
{"id": "kb_000275", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Service", "keywords": ["writing", "defining", "add", "new", "definition", "use", "addservicedefinition", "the", "code", "existing", "updateservicedefinition", "with", "overwrite", "parameters", "depending", "version", "but", "safer", "for", "creation"], "text": "### 4.3. Writing (Defining) a Service\nTo add a new service definition to a Thing, use `AddServiceDefinition`. To update the code of an existing service, use `UpdateServiceDefinition` (or `AddServiceDefinition` with overwrite parameters depending on version, but `Add` is safer for creation).\n\n**Endpoint:** `POST /Things/<ThingName>/Services/AddServiceDefinition`\n\n**Parameters:**\n- `name`: Service name.\n- `code`: The JavaScript code.\n- `resultType`: Return type.\n- `parameters`: JSON object defining input parameters.\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/MyNewThing/Services/AddServiceDefinition' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewService\",\n    \"description\": \"Returns a greeting\",\n    \"category\": \"\",\n    \"code\": \"var result = \\\"Hello, \\\" + name;\",\n    \"isAllowOverride\": true,\n    \"isLocalOnly\": false,\n    \"isOpen\": false,\n    \"isPrivate\": false,\n    \"isProtected\": false,\n    \"resultType\": \"STRING\",\n    \"parameters\": {\n        \"rows\": [\n            {\n                \"name\": \"name\",\n                \"baseType\": \"STRING\",\n                \"description\": \"Name to greet\",\n                \"aspects\": {}\n            }\n        ]\n    }\n}'\n```"}
{"id": "kb_000276", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Thing", "keywords": ["creating", "project", "use", "put", "request", "the", "projects", "collection", "endpoint", "curl", "example", "bash", "location", "http", "content", "type", "application", "header", "appkey", "your_app_key"], "text": "### 4.4. Creating a Project\nTo create a Project, use a `PUT` request to the `/Projects` collection endpoint.\n\n**Endpoint:** `PUT /Projects`\n\n**cURL Example:**\n```bash\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Projects?Content-Type=application/json' \\\n--header 'appKey: <YOUR_APP_KEY>' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"entityType\": \"Projects\",\n    \"name\": \"MyNewProject\",\n    \"description\": \"A new project\",\n    \"tags\": []\n}'\n```"}
{"id": "kb_000277", "source_path": "docs/ThingWorx_API_Guide.md", "type": "endpoint", "entity": "Mashup", "keywords": ["assigning", "entities", "project", "when", "creating", "entity", "mashups", "etc", "you", "can", "assign", "including", "the", "projectname", "main", "payload", "key", "example", "for", "creation"], "text": "### 4.5. Assigning Entities to a Project\nWhen creating an entity (Mashups, Things, etc.), you can assign it to a Project by including the `projectName` property in the main JSON payload.\n\n**Key Property:**\n`\"projectName\": \"<ProjectName>\"`\n\n**Example Payload (for Mashup creation):**\n```json\n{\n    \"entityType\": \"Mashups\",\n    \"name\": \"MyProjectMashup\",\n    \"projectName\": \"MyNewProject\", // Assigns this entity to 'MyNewProject'\n    \"mashupContent\": \"...\"\n}\n```\n*Note: If `projectName` is omitted, entities are typically assigned to 'PTCDefaultProject' or the system default.*"}
{"id": "kb_000278", "source_path": "docs/utils/AddServiceToThing.js", "type": "code", "entity": "Service", "keywords": ["addservicetothing", "inputs", "thingname", "string", "name", "the", "modify", "servicename", "servicecode", "javascript", "code", "for", "parameters", "parameter", "definitions", "object", "number", "resulttype", "return", "type"], "text": "// Service: AddServiceToThing\n// Inputs:\n//   - thingName (STRING): Name of the Thing to modify\n//   - serviceName (STRING): Name of the service to create\n//   - serviceCode (STRING): JavaScript code for the service\n//   - parameters (JSON): Parameter definitions as JSON object, e.g. {\"a\": \"NUMBER\", \"b\": \"STRING\"}\n//   - resultType (STRING): Return type (e.g. \"NUMBER\", \"STRING\", \"BOOLEAN\", \"INFOTABLE\", etc.)\n// Output: STRING (success message or error)\nlet result = \"\";\ntry {\n    // Get the current Thing's configuration as JSON\n    var url = \"http://localhost:8080/Thingworx/Things/\" + thingName;\n    var headers = {\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    };\n    var config = Resources[\"ContentLoaderFunctions\"].GetJSON({\n        \"url\": url,\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    //let result = config;\n\n\n    // Convert the parameters object into ThingWorx parameter definition format\n    var parameterDefinitions = {};\n    let stringParams = JSON.stringify(parameters);\n    let newJSONparams = JSON.parse(stringParams);\n\n    var paramKeys = Object.keys(newJSONparams);\n    var paramKeysLength = paramKeys.length;\n    //result = paramKeysLength;\n\n    for (var i = 0; i < paramKeysLength; i++) {\n        var paramName = paramKeys[i];\n        var paramType = parameters[paramName];\n\n        parameterDefinitions[paramName] = {\n            \"name\": paramName,\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": paramType,\n            \"ordinal\": i\n        };\n    }\n\n    // Create the service definition\n    var definition = {\n        \"isAllowOverride\": false,\n        \"isOpen\": false,\n        \"sourceType\": \"Unknown\",\n        \"parameterDefinitions\": parameterDefinitions,\n        \"name\": serviceName,\n        \"aspects\": {\n            \"isAsync\": false\n        },\n        \"isLocalOnly\": false,\n        \"description\": \"\",\n        \"isPrivate\": false,\n        \"sourceName\": \"\",\n        \"category\": \"\",\n        \"resultType\": {\n            \"name\": \"result\",\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": resultType,\n            \"ordinal\": 0\n        }\n    };\n\n    // Create the service implementation\n    var implementation = {\n        \"name\": serviceName,\n        \"description\": \"\",\n        \"handlerName\": \"Script\",\n        \"configurationTables\": {\n            \"Script\": {\n                \"isMultiRow\": false,\n                \"name\": \"Script\",\n                \"description\": \"Script\",\n                \"rows\": [{\n                    \"code\": serviceCode\n                }],\n                \"ordinal\": 0,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"code\": {\n                            \"name\": \"code\",\n                            \"aspects\": {},\n                            \"description\": \"code\",\n                            \"baseType\": \"STRING\",\n                            \"ordinal\": 0\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    // Add the service to both effectiveShape and thingShape\n    if (!config.effectiveShape.serviceDefinitions) {\n        config.effectiveShape.serviceDefinitions = {};\n    }\n    if (!config.effectiveShape.serviceImplementations) {\n        config.effectiveShape.serviceImplementations = {};\n    }\n\n    config.effectiveShape.serviceDefinitions[serviceName] = definition;\n    config.effectiveShape.serviceImplementations[serviceName] = implementation;\n\n    if (!config.thingShape.serviceDefinitions) {\n        config.thingShape.serviceDefinitions = {};\n    }\n    if (!config.thingShape.serviceImplementations) {\n        config.thingShape.serviceImplementations = {};\n    }\n\n    config.thingShape.serviceDefinitions[serviceName] = definition;\n    config.thingShape.serviceImplementations[serviceName] = implementation;\n\n    // Push the updated configuration back to Th"}
{"id": "kb_000279", "source_path": "docs/utils/UpdateMashupContent.js", "type": "code", "entity": "Mashup", "keywords": ["updatemashupcontent", "inputs", "mashupname", "string", "name", "the", "modify", "mashupcontent", "new", "stringified", "content", "for", "output", "success", "message", "error", "let", "result", "try", "construct"], "text": "// Service: UpdateMashupContent\n// Inputs:\n//   - mashupName (STRING): Name of the Mashup to modify\n//   - mashupContent (STRING): The new stringified JSON content for the mashup UI\n// Output: STRING (success message or error)\n\nlet result = \"\";\ntry {\n    // Construct the URL for the Mashup\n    // Note: Assuming localhost/default port if not specified, or relative if running on same instance.\n    // For robustness in this script, we use the full URL pattern provided in examples.\n    var url = \"http://localhost:8080/Thingworx/Mashups/\" + mashupName;\n\n    var headers = {\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    };\n\n    // 1. Get the current Mashup definition\n    var mashupDefinition = Resources[\"ContentLoaderFunctions\"].GetJSON({\n        \"url\": url,\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    // 2. Update the mashupContent\n    // The mashupContent is a stringified JSON inside the main JSON.\n    // We assume the input 'mashupContent' is already a valid stringified JSON of the UI structure.\n    mashupDefinition.mashupContent = mashupContent;\n\n    // 3. Push the updated definition back to ThingWorx\n    Resources[\"ContentLoaderFunctions\"].PutJSON({\n        \"url\": url,\n        \"content\": JSON.stringify(mashupDefinition),\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    result = \"Successfully updated content for Mashup '\" + mashupName + \"'\";\n\n} catch (error) {\n    result = \"Error updating mashup: \" + error.message;\n    logger.error(\"UpdateMashupContent failed: \" + error.message);\n}\n"}
{"id": "kb_000280", "source_path": "docs/widget_recipes.md", "type": "recipe", "entity": "Thing", "keywords": ["numeric", "input", "legacy", "numericentry", "for", "inputs", "use", "the", "widget", "type", "all", "lowercase", "crucial", "responsivelayout", "false", "width", "explicit", "value", "height", "style"], "text": "### 1. Numeric Input (legacy: `numericentry`)\nFor numeric inputs, use the **legacy** `numericentry` widget type (all lowercase).\n**Crucial Properties:**\n- `ResponsiveLayout`: `false`\n- `Width`: Explicit value (e.g., `200`)\n- `Height`: Explicit value (e.g., `30`)\n- `Style`: `\"DefaultTextBoxStyle\"`\n- `NumericEntryLabelStyle`: `\"DefaultWidgetLabelStyle\"`\n- `NumericEntryFocusStyle`: `\"DefaultFocusStyle\"`\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"numericentry\",\n        \"Id\": \"numericentry-1\", // Use lowercase prefix\n        \"Label\": \"Numeric Input\",\n        \"Value\": 0,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 200,\n        \"Height\": 30,\n        \"Style\": \"DefaultTextBoxStyle\",\n        \"NumericEntryLabelStyle\": \"DefaultWidgetLabelStyle\",\n        \"NumericEntryFocusStyle\": \"DefaultFocusStyle\"\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000281", "source_path": "docs/widget_recipes.md", "type": "recipe", "entity": "Thing", "keywords": ["radio", "button", "modern", "ptcsradio", "for", "buttons", "use", "the", "widget", "type", "crucial", "responsivelayout", "false", "recommended", "safety", "mixed", "layouts", "width", "explicit", "value"], "text": "### 2. Radio Button (modern: `ptcsradio`)\nFor radio buttons, use the `ptcsradio` widget type.\n**Crucial Properties:**\n- `ResponsiveLayout`: `false` (Recommended for safety in mixed layouts)\n- `Width`: Explicit value (e.g., `200`)\n- `Height`: Explicit value (e.g., `30`)\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcsradio\",\n        \"Id\": \"ptcsradio-1\",\n        \"Label\": \"Radio Option\",\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 200,\n        \"Height\": 30\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000282", "source_path": "docs/widget_recipes.md", "type": "recipe", "entity": "Thing", "keywords": ["other", "modern", "widgets", "ptcs", "standard", "usually", "work", "with", "responsivelayout", "true", "default", "flex", "containers", "but", "can", "constrained", "needed", "button", "ptcsbutton", "textfield"], "text": "### 3. Other Modern Widgets (`ptcs*`)\nStandard modern widgets usually work with `ResponsiveLayout: true` (default in flex containers), but can be constrained if needed.\n- **Button**: `ptcsbutton`\n- **TextField**: `ptcstextfield`"}
{"id": "kb_000283", "source_path": "docs/widget_recipes.md", "type": "recipe", "entity": "Thing", "keywords": ["toggle", "button", "ptcstogglebutton", "used", "for", "off", "switches", "state", "true", "false", "the", "value", "labelalignment", "right", "places", "text", "next", "switch", "example", "type"], "text": "### 4. Toggle Button (`ptcstogglebutton`)\nUsed for On/Off switches.\n**Properties:**\n- `State`: `true` or `false` (The value).\n- `LabelAlignment`: `\"right\"` (Places text next to switch).\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcstogglebutton\",\n        \"Id\": \"ptcstogglebutton-1\",\n        \"Label\": \"Toggle Feature\",\n        \"LabelAlignment\": \"right\",\n        \"State\": false,\n        \"Visible\": true\n    },\n    \"Widgets\": []\n}\n```"}
{"id": "kb_000284", "source_path": "docs/widget_recipes.md", "type": "recipe", "entity": "Thing", "keywords": ["slider", "ptcsslider", "for", "controls", "select", "numeric", "values", "within", "range", "crucial", "value", "current", "minimum", "maximum", "stepsize", "increment", "step", "responsivelayout", "false", "recommended"], "text": "### 5. Slider (`ptcsslider`)\nFor slider controls to select numeric values within a range.\n**Crucial Properties:**\n- `Value`: Current value (e.g., `50`)\n- `Minimum`: Minimum value (e.g., `0`)\n- `Maximum`: Maximum value (e.g., `100`)\n- `StepSize`: Increment step (e.g., `1`)\n- `ResponsiveLayout`: `false` (Recommended for consistent sizing)\n- `Width`: Explicit value (e.g., `300`)\n- `Height`: Explicit value (e.g., `50`)\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcsslider\",\n        \"Id\": \"ptcsslider-1\",\n        \"DisplayName\": \"slider-1\",\n        \"Label\": \"Slider Input\",\n        \"Value\": 50,\n        \"Minimum\": 0,\n        \"Maximum\": 100,\n        \"StepSize\": 1,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 300,\n        \"Height\": 50\n    },\n    \"Widgets\": []\n}\n```\n\n---"}
{"id": "kb_000285", "source_path": "docs/widget_recipes.md", "type": "recipe", "entity": "Mashup", "keywords": ["data", "binding", "recipe", "bind", "between", "widgets", "numeric", "entry", "value", "label", "text", "use", "the", "databindings", "array", "root", "level", "structure", "sourceid", "source"], "text": "## Data Binding Recipe\nTo bind properties between widgets (e.g., Numeric Entry Value -> Label Text), use the `DataBindings` array at the Mashup root level.\n\n**Structure:**\n- **SourceId**: ID of the source widget (e.g., `numericentry-1`).\n- **TargetId**: ID of the target widget (e.g., `ptcslabel-1`).\n- **SourceProperty**: The property to read from (e.g., `Value`).\n- **TargetProperty**: The property to write to (e.g., `LabelText`).\n- **SourceSection**: Usually `\"\"` (empty string) for widget properties, or `\"Data\"` for service results.\n- **TargetSection**: Usually `\"Properties\"`.\n\n**Example JSON (Numeric Value -> Label Text):**\n```json\n\"DataBindings\": [\n    {\n        \"Id\": \"binding-numeric-to-label\",\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",\n                \"TargetProperty\": \"LabelText\",\n                \"SourcePropertyType\": \"Property\",\n                \"TargetPropertyType\": \"Property\"\n            }\n        ],\n        \"SourceArea\": \"UI\",\n        \"SourceId\": \"numericentry-1\",\n        \"SourceSection\": \"\",\n        \"TargetArea\": \"UI\",\n        \"TargetId\": \"ptcslabel-1\",\n        \"TargetSection\": \"Properties\"\n    }\n]\n```\n\n**Example JSON (Slider Value -> Label Text):**\n```json\n\"DataBindings\": [\n    {\n        \"Id\": \"binding-slider-to-label\",\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",\n                \"TargetProperty\": \"LabelText\",\n                \"SourcePropertyType\": \"Property\",\n                \"TargetPropertyType\": \"Property\"\n            }\n        ],\n        \"SourceArea\": \"UI\",\n        \"SourceId\": \"ptcsslider-1\",\n        \"SourceSection\": \"\",\n        \"TargetArea\": \"UI\",\n        \"TargetId\": \"ptcslabel-1\",\n        \"TargetSection\": \"Properties\"\n    }\n]\n```"}
{"id": "kb_000286", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["documentation", "api", "guide", "docs", "thingworx_api_guide", "complete", "reference", "with", "curl", "examples", "developing", "developing_in_thingworx", "best", "practices", "and", "development", "workflow", "managing", "credentials", "managing_credentials"], "text": "### Documentation\n- **[ThingWorx API Guide](docs/ThingWorx_API_Guide.md)**: Complete REST API reference with cURL examples\n- **[Developing in ThingWorx](docs/Developing_in_ThingWorx.md)**: Best practices and development workflow\n- **[Managing Credentials](docs/Managing_Credentials.md)**: Secure credential handling with `.env` files\n- **[Advanced Service Management](docs/Advanced_Service_Management.md)**: Efficient service creation patterns\n- **[Service Header Standard](docs/Service_Header_Standard.md)**: Mandatory header format for all services\n- **[ServiceHelper Implementation](docs/AddServiceToThing_Code.js)**: Working code for server-side service management"}
{"id": "kb_000287", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["quick", "start", "configure", "your", "environment", "bash", "env", "example", "edit", "and", "add", "appkey", "set", "servicehelper", "one", "time", "setup", "called", "with", "template"], "text": "## 🚀 Quick Start\n\n1. **Configure your environment**:\n   ```bash\n   cp .env.example .env\n   # Edit .env and add your ThingWorx AppKey\n   ```\n\n2. **Set up ServiceHelper** (One-time setup):\n   - Create a Thing called `ServiceHelper` with template `GenericThing`\n   - Create a service called `AddServiceToThing` with inputs:\n     - `thingName` (STRING)\n     - `serviceName` (STRING)\n     - `serviceCode` (STRING)\n     - `parameters` (JSON)\n     - `resultType` (STRING)\n   - Copy the code from `docs/AddServiceToThing_Code.js` into the service\n   - Enable the `ServiceHelper` Thing\n\n3. **Use ServiceHelper to add services**:\n   ```bash\n   ./test_service_helper.sh\n   ```"}
{"id": "kb_000288", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["important", "use", "servicehelper", "for", "all", "creation", "not", "download", "entire", "definitions", "they", "are", "lines", "and", "waste", "tokens", "always", "the", "addservicetothing", "add"], "text": "### ⚠️ IMPORTANT: Use ServiceHelper for All Service Creation\n\n**DO NOT** download entire Thing definitions (they are 200k+ lines and waste tokens).\n\n**ALWAYS** use the `ServiceHelper.AddServiceToThing` service to add services with code."}
{"id": "kb_000289", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["example", "adding", "bash", "curl", "location", "request", "post", "http", "servicehelper", "addservicetothing", "header", "appkey", "your_app_key", "accept", "application", "content", "type", "data", "thingname", "mything"], "text": "### Example: Adding a Service\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: YOUR_APP_KEY' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"MyThing\",\n    \"serviceName\": \"MyService\",\n    \"serviceCode\": \"var result = input1 + input2;\",\n    \"parameters\": {\n        \"input1\": \"NUMBER\",\n        \"input2\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```"}
{"id": "kb_000290", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["workflow", "for", "creating", "with", "the", "bash", "post", "resources", "entityservices", "creatething", "body", "name", "mything", "thingtemplatename", "genericthing", "enable", "enablething", "add", "using", "servicehelper"], "text": "### Workflow for Creating Things with Services\n\n1. **Create the Thing**:\n   ```bash\n   POST /Resources/EntityServices/Services/CreateThing\n   Body: {\"name\": \"MyThing\", \"thingTemplateName\": \"GenericThing\"}\n   ```\n\n2. **Enable the Thing**:\n   ```bash\n   POST /Things/MyThing/Services/EnableThing\n   ```\n\n3. **Add Services using ServiceHelper**:\n   ```bash\n   POST /Things/ServiceHelper/Services/AddServiceToThing\n   Body: {thingName, serviceName, serviceCode, parameters, resultType}\n   ```\n\n4. **Test the Service**:\n   ```bash\n   POST /Things/MyThing/Services/MyService\n   Body: {param1: value1, param2: value2}\n   ```"}
{"id": "kb_000291", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["repository", "structure", "env", "example", "environment", "variable", "template", "gitignore", "git", "ignore", "rules", "readme", "this", "file", "config", "thingworx_config", "server", "configuration", "docs", "thingworx_api_guide"], "text": "## 📦 Repository Structure\n\n```\n.\n├── .env.example              # Environment variable template\n├── .gitignore               # Git ignore rules\n├── README.md                # This file\n├── config/\n│   └── thingworx_config.json # Server configuration\n├── docs/\n│   ├── ThingWorx_API_Guide.md\n│   ├── Developing_in_ThingWorx.md\n│   ├── Managing_Credentials.md\n│   ├── Advanced_Service_Management.md\n│   ├── ServiceHelper_Success.md\n│   └── AddServiceToThing_Code.js\n└── test_service_helper.sh   # Example usage script\n```"}
{"id": "kb_000292", "source_path": "README.md", "type": "rule", "entity": "Service", "keywords": ["benefits", "this", "approach", "token", "efficient", "small", "api", "calls", "instead", "massive", "files", "fast", "server", "side", "processing", "reusable", "one", "servicehelper", "for", "all"], "text": "## 💡 Benefits of This Approach\n\n✅ **Token Efficient**: Small API calls instead of massive JSON files  \n✅ **Fast**: Server-side processing  \n✅ **Reusable**: One ServiceHelper for all Things  \n✅ **Simple**: Clean, documented API  \n✅ **Secure**: Credentials managed via environment variables"}
{"id": "kb_000293", "source_path": "README_MVP.md", "type": "rule", "entity": "Mashup", "keywords": ["codingagent", "mvp", "phase", "prereqs", "python", "access", "instance", "appkey", "with", "permission", "and", "mashups", "setup", "windows", "powershell", "dev", "codingagentthingworx", "venv", "scripts", "activate"], "text": "﻿# CodingAgent ThingWorx MVP (Phase A + Phase B)\n\n## Prereqs\n- Python 3.10+\n- Access to a ThingWorx instance\n- A ThingWorx AppKey with permission to create/update Things and Mashups\n\n## Setup (Windows)\n`powershell\ncd C:\\dev\\CodingAgentThingworx\npython -m venv .venv\n.\\.venv\\Scripts\\Activate.ps1\npip install -r requirements.txt\ncopy .env.example .env\nnotepad .env"}
{"id": "kb_000294", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["overview", "programmatically", "analyze", "modify", "mashups", "can", "retrieve", "their", "structure", "this", "particularly", "useful", "for", "llm", "based", "workflows", "where", "agent", "needs", "understand"], "text": "## Overview\nTo programmatically analyze or modify ThingWorx Mashups, we can retrieve their structure as JSON. This is particularly useful for LLM-based workflows where an agent needs to understand or edit the UI definition."}
{"id": "kb_000295", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["request", "payload", "structure", "the", "must", "include", "entitytype", "mashups", "name", "antigravity", "test", "description", "text", "mashupcontent", "stringified", "containing", "definition", "configurationtables", "mobile", "settings"], "text": "### Request Payload Structure\nThe payload must include:\n- `entityType`: \"Mashups\"\n- `name`: The mashup name (e.g., \"antigravity.test-mu\")\n- `description`: Description text\n- `mashupContent`: **Stringified JSON** containing the UI definition\n- `configurationTables`: Mobile settings configuration\n- `aspects`: Mashup type and responsive settings\n- `projectName`: Usually \"PTCDefaultProject\""}
{"id": "kb_000296", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["example", "creating", "simple", "important", "this", "uses", "the", "correct", "modern", "structure", "with", "flexcontainer", "and", "ptcslabel", "javascript", "const", "payload", "entitytype", "mashups", "name"], "text": "### Example: Creating a Simple Mashup\n⚠️ **Important**: This example uses the **correct modern structure** with `flexcontainer` and `ptcslabel`.\n\n```javascript\nconst payload = {\n    \"entityType\": \"Mashups\",\n    \"name\": \"antigravity.test-mu\",\n    \"description\": \"Test mashup created by Antigravity Agent\",\n    \"configurationTables\": {\n        \"MobileSettings\": {\n            \"description\": \"\",\n            \"isMultiRow\": false,\n            \"name\": \"MobileSettings\",\n            \"isHidden\": true,\n            \"dataShape\": { /* ... mobile settings schema ... */ },\n            \"rows\": [{ /* ... default mobile settings ... */ }]\n        }\n    },\n    \"designTimePermissions\": {\"Delete\": [], \"Read\": [], \"Update\": [], \"Create\": []},\n    \"runTimePermissions\": {\"permissions\": []},\n    \"tags\": [],\n    \"aspects\": {\n        \"mashupType\": \"mashup\",\n        \"isResponsive\": true,\n        \"isFlex\": true\n    },\n    \"mashupContent\": JSON.stringify({\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                /* ... other UI properties ... */\n            },\n            \"Widgets\": [\n                // ⚠️ CRITICAL: Always wrap widgets in a flexcontainer!\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-2\",\n                        \"DisplayName\": \"container-2\",\n                        \"flex-direction\": \"row\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // ⚠️ Use modern widget types like ptcslabel, not Label!\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"__TypeDisplayName\": \"Label\",\n                                \"Id\": \"ptcslabel-3\",\n                                \"DisplayName\": \"ptcs-label-3\",\n                                \"LabelText\": \"Hello World\",\n                                \"HorizontalAlignment\": \"left\",\n                                \"VerticalAlignment\": \"flex-start\",\n                                \"UseTheme\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": { /* ... session data source ... */ },\n            \"UserExtensions\": { /* ... user extensions data source ... */ }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    }),\n    \"projectName\": \"PTCDefaultProject\"\n};\n```"}
{"id": "kb_000297", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["common", "mistakes", "avoid", "using", "legacy", "widget", "types", "like", "label", "instead", "ptcslabel", "widgets", "won", "render", "placing", "directly", "the", "root", "without", "flexcontainer"], "text": "### ⚠️ Common Mistakes to Avoid\n1. **Using legacy widget types** like `Label` instead of `ptcslabel` - widgets won't render!\n2. **Placing widgets directly in the mashup root** without a `flexcontainer` - layout will break!\n3. **Forgetting flex properties** like `justify-content` and `align-items` for centering.\n4. **Using `Text` property** instead of `LabelText` for `ptcslabel` widgets."}
{"id": "kb_000298", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["call", "example", "javascript", "var", "url", "http", "mashups", "mqtt", "test", "headers", "appkey", "a7e8dd", "b19", "c0e", "b46", "c071d74f5", "accept", "application", "content", "type"], "text": "### Service Call Example\n```javascript\nvar url = \"http://192.168.20.3:8080/Thingworx/Mashups/mqtt.Test-mu\";\nvar headers = {\n    \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n    \"Accept\": \"application/json\",\n    \"Content-Type\": \"application/json\"\n};\n\nvar mashupDefinition = Resources[\"ContentLoaderFunctions\"].GetJSON({\n    \"url\": url,\n    \"headers\": headers,\n    \"ignoreSSLErrors\": true\n});\n```"}
{"id": "kb_000299", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["key", "structure", "mashupcontent", "the", "most", "critical", "part", "returned", "type", "string", "stringified", "purpose", "contains", "actual", "definition", "including", "widgets", "layout", "and", "bindings"], "text": "### Key Structure: `mashupContent`\nThe most critical part of the returned JSON is the `mashupContent` key.\n- **Type**: String (Stringified JSON)\n- **Purpose**: Contains the actual UI definition, including widgets, layout, and bindings.\n- **Usage**: An LLM can parse this string, modify the UI structure (e.g., add a button, change a label), stringify it back, and update the Mashup."}
{"id": "kb_000300", "source_path": "research_mashup_structure.md", "type": "rule", "entity": "Mashup", "keywords": ["updating", "the", "you", "would", "modify", "mashupcontent", "fetched", "definition", "and", "use", "contentloaderfunctions", "putjson", "send", "back", "javascript", "mashupdefinition", "resources", "url", "content", "stringify"], "text": "## Updating a Mashup\nTo update the mashup, you would modify the `mashupContent` property of the fetched definition and use `ContentLoaderFunctions.PutJSON` to send it back.\n\n```javascript\n// ... modify mashupDefinition.mashupContent ...\n\nResources[\"ContentLoaderFunctions\"].PutJSON({\n    \"url\": url,\n    \"content\": JSON.stringify(mashupDefinition),\n    \"headers\": headers,\n    \"ignoreSSLErrors\": true\n});\n```"}
{"id": "kb_000301", "source_path": "research_service_generation.md", "type": "rule", "entity": "Mashup", "keywords": ["overview", "optimize", "llm", "token", "usage", "and", "enable", "dynamic", "system", "modification", "can", "use", "meta", "these", "are", "designed", "modify", "other", "entities", "mashups"], "text": "## Overview\nTo optimize LLM token usage and enable dynamic system modification, we can use \"Meta-Services\" in ThingWorx. These are services designed to create or modify other entities (Things, Services, Mashups) programmatically."}
{"id": "kb_000302", "source_path": "research_service_generation.md", "type": "rule", "entity": "Service", "keywords": ["benefits", "token", "efficiency", "instead", "the", "llm", "generating", "full", "verbose", "for", "definition", "every", "time", "can", "generate", "compact", "call", "meta", "abstraction", "complex"], "text": "## Benefits\n- **Token Efficiency**: Instead of the LLM generating the full verbose JSON for a Thing definition every time, it can generate a compact call to a meta-service.\n- **Abstraction**: Complex ThingWorx API details (headers, URL structures) are hidden within the meta-service."}
{"id": "kb_000303", "source_path": "research_service_generation.md", "type": "rule", "entity": "Service", "keywords": ["addservicetothing", "adds", "new", "javascript", "existing", "file", "docs", "utils", "usage", "llm", "generates", "call", "like", "this", "mymetathing", "thingname", "targetthing", "servicename", "newfeature", "servicecode"], "text": "### 1. `AddServiceToThing`\nAdds a new JavaScript service to an existing Thing.\n- **File**: `docs/utils/AddServiceToThing.js`\n- **Usage**:\n  ```javascript\n  // LLM generates a call like this:\n  Things[\"MyMetaThing\"].AddServiceToThing({\n      thingName: \"TargetThing\",\n      serviceName: \"NewFeature\",\n      serviceCode: \"var x = 1; result = x + 1;\",\n      parameters: {\"input1\": \"NUMBER\"},\n      resultType: \"NUMBER\"\n  });\n  ```"}
{"id": "kb_000304", "source_path": "research_service_generation.md", "type": "rule", "entity": "Mashup", "keywords": ["updatemashupcontent", "updates", "the", "structure", "mashupcontent", "file", "docs", "utils", "usage", "javascript", "llm", "generates", "call", "like", "this", "mymetathing", "mashupname", "mqtt", "test", "resourceid"], "text": "### 2. `UpdateMashupContent`\nUpdates the UI structure (`mashupContent`) of a Mashup.\n- **File**: `docs/utils/UpdateMashupContent.js`\n- **Usage**:\n  ```javascript\n  // LLM generates a call like this:\n  Things[\"MyMetaThing\"].UpdateMashupContent({\n      mashupName: \"mqtt.Test-mu\",\n      mashupContent: \"{\\\"resourceId\\\":\\\"...\\\",\\\"root\\\":{...}}\" // New UI JSON\n  });\n  ```"}
