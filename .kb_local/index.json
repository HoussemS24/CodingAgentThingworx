[
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Advanced ThingWorx Service Management",
    "content": "# Advanced ThingWorx Service Management",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "The Problem with Direct API Service Creation",
    "content": "## The Problem with Direct API Service Creation\n\nThe `AddServiceDefinition` API endpoint only creates an **empty** service shell. To add actual code, we need to use one of these approaches:",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Approach 1: Server-Side Service (Recommended - Most Efficient)",
    "content": "## Approach 1: Server-Side Service (Recommended - Most Efficient)\n\nCreate a helper Thing with a service that modifies other Things. This avoids downloading/uploading large entity definitions.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Step 1: Create a ServiceHelper Thing",
    "content": "### Step 1: Create a ServiceHelper Thing\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"ServiceHelper\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Step 2: Add a Service to ServiceHelper",
    "content": "### Step 2: Add a Service to ServiceHelper\n\nCreate a service called `AddServiceToThing` that takes:\n- `thingName`: Target Thing name\n- `serviceName`: Service to create\n- `serviceCode`: JavaScript code\n- `parameters`: Parameter definitions (JSON)\n- `resultType`: Return type\n\nThis service would use the ContentLoaderFunctions pattern to modify the target Thing.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Step 3: Call the Helper",
    "content": "### Step 3: Call the Helper\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"gemini.test-helper\",\n    \"serviceName\": \"AddNumbers\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Approach 2: XML Export/Import (More Efficient than JSON)",
    "content": "## Approach 2: XML Export/Import (More Efficient than JSON)\n\nThingWorx supports XML entity exports which are more compact.\n\n```bash",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Export as XML",
    "content": "# Export as XML\ncurl --location 'http://192.168.20.3:8080/Thingworx/Things/gemini.test-helper' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Accept: application/xml' \\\n--output thing.xml",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Modify thing.xml locally (smaller file than JSON)",
    "content": "# Modify thing.xml locally (smaller file than JSON)",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Import back",
    "content": "# Import back\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Things/gemini.test-helper' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/xml' \\\n--data @thing.xml\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Approach 3: ThingWorx Extension (For Complex Scenarios)",
    "content": "## Approach 3: ThingWorx Extension (For Complex Scenarios)\n\nFor production use, create a Java extension that provides a proper service creation API.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Recommendation for LLM Usage",
    "content": "## Recommendation for LLM Usage\n\n**Use Approach 1** - Create a single `ServiceHelper` Thing with reusable services that can:\n- Add services to any Thing\n- Update service code\n- Add properties\n- Etc.\n\nThis minimizes token usage because:\n- Small, focused API calls\n- No large entity definitions to process\n- Reusable helper services\n- All heavy lifting happens server-side",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Developing in ThingWorx: A Guide for LLMs",
    "content": "# Developing in ThingWorx: A Guide for LLMs\n\nThis guide outlines the workflow and best practices for developing solutions within the ThingWorx platform via the API.",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "1. Core Concepts",
    "content": "## 1. Core Concepts\n\n- **Thing**: A digital representation of a physical object or system.\n- **ThingTemplate**: A blueprint for Things. All Things inherit from a Template.\n- **ThingShape**: A reusable collection of properties and services that can be implemented by multiple Templates.\n- **Service**: A function written in JavaScript (Rhino engine) that runs on the server.\n- **Property**: A variable stored on a Thing (e.g., temperature, status).",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "2. Development Workflow",
    "content": "## 2. Development Workflow",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 1: Define the Model",
    "content": "### Step 1: Define the Model\nBefore writing code, define the data model.\n1. Identify the entities (Things).\n2. Determine their Properties (state).\n3. Determine their Services (behavior).",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 2: Create/Update Entities",
    "content": "### Step 2: Create/Update Entities\nUse the API to create Things or update their definitions.\n- Use `EntityServices` to create new Things.\n- Ensure Things are enabled (`EnableThing` service) after creation.",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 3: Implement Services",
    "content": "### Step 3: Implement Services\nServices are the core logic.\n- Language: JavaScript (Rhino ES5/ES6 compat).\n- **Important**: ThingWorx JS is synchronous and server-side.\n- Access Properties: `me.PropertyName`\n- Call other Services: `me.OtherService()` or `Things[\"OtherThing\"].Service()`\n\n**Example Service Code:**\n```javascript\n// Input: temperature (NUMBER)\n// Output: STRING\n\nvar result = \"Normal\";\nif (temperature > 100) {\n    result = \"Overheat\";\n    // Log to Application Log\n    logger.warn(\"Thing \" + me.name + \" is overheating!\");\n}\nreturn result;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 4: Testing",
    "content": "### Step 4: Testing\nTest services by executing them via the REST API (`POST` request).\n- Verify the output matches expectations.\n- Check the `ApplicationLog` in ThingWorx for errors (`logger.info`, `logger.error`).",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "3. Best Practices for LLMs",
    "content": "## 3. Best Practices for LLMs\n\n1. **Idempotency**: When writing scripts to update Things, try to check if the Thing exists first.\n2. **Error Handling**: Wrap critical logic in `try/catch` blocks within the JavaScript service code.\n3. **Logging**: Use `logger.info()` liberally to help debug remote execution.\n4. **Small Services**: Keep services focused on a single task. Compose complex logic by calling multiple smaller services.\n5. **Security**: Do not hardcode credentials in service code. Use `ConfigurationTables` or `Password` properties if needed.",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "4. Common Tasks",
    "content": "## 4. Common Tasks\n\n**Searching for a Thing:**\nUse `SearchThings` on `SearchFunctions` resource if you don't know the exact name.\n\n**Restarting a Thing:**\nThings generally don't need \"restarting\", but if you update a Template, you may need to restart the Thing to propagate changes (rare, usually automatic). Restarting the *Server* is a separate admin task.",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "LLM Instructions: ThingWorx Service Creation",
    "content": "# LLM Instructions: ThingWorx Service Creation",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "\u26a0\ufe0f CRITICAL: Token-Efficient Service Management",
    "content": "## \u26a0\ufe0f CRITICAL: Token-Efficient Service Management\n\nWhen working with ThingWorx, **NEVER** download entire Thing definitions. They are 200,000+ lines and will consume excessive tokens.",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "\u2705 ALWAYS Use ServiceHelper",
    "content": "## \u2705 ALWAYS Use ServiceHelper\n\nUse the `ServiceHelper.AddServiceToThing` service for all service creation tasks.",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Standard Workflow",
    "content": "## Standard Workflow",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "1. Create a Thing",
    "content": "### 1. Create a Thing\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"ThingName\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "2. Enable the Thing",
    "content": "### 2. Enable the Thing\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ThingName/Services/EnableThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "3. Add Services (Use ServiceHelper)",
    "content": "### 3. Add Services (Use ServiceHelper)\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"ThingName\",\n    \"serviceName\": \"ServiceName\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "4. Test the Service",
    "content": "### 4. Test the Service\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ThingName/Services/ServiceName' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"a\": 10,\n    \"b\": 20\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Parameter Types",
    "content": "## Parameter Types\n\nCommon ThingWorx base types:\n- `STRING`\n- `NUMBER`\n- `INTEGER`\n- `LONG`\n- `BOOLEAN`\n- `DATETIME`\n- `LOCATION`\n- `JSON`\n- `INFOTABLE`",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Service Code Examples",
    "content": "## Service Code Examples",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Simple Calculation",
    "content": "### Simple Calculation\n```javascript\nvar result = a + b;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Conditional Logic",
    "content": "### Conditional Logic\n```javascript\nvar result = \"Normal\";\nif (temperature > 100) {\n    result = \"Overheat\";\n    logger.warn(\"Temperature too high!\");\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Calling Other Services",
    "content": "### Calling Other Services\n```javascript\nvar otherResult = me.OtherService({param: value});\nvar result = otherResult + 10;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Accessing Properties",
    "content": "### Accessing Properties\n```javascript\nvar currentValue = me.PropertyName;\nme.PropertyName = newValue;\nvar result = currentValue;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Service Header Format",
    "content": "## Service Header Format\n\n**MANDATORY**: Every service MUST include a header comment block with change information (similar to git commits).",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Header Template",
    "content": "### Header Template\n```javascript\n/**\n * Service: ServiceName\n * Created: YYYY-MM-DD HH:MM by AuthorName\n * Last Modified: YYYY-MM-DD HH:MM by AuthorName\n * \n * Description:\n *   Brief description of what this service does\n * \n * Inputs:\n *   - paramName (TYPE): Description\n *   - paramName2 (TYPE): Description\n * \n * Output:\n *   - TYPE: Description of return value\n * \n * Change Log:\n *   YYYY-MM-DD - AuthorName - Initial creation\n *   YYYY-MM-DD - AuthorName - Description of changes made\n */\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Example with Header",
    "content": "### Example with Header\n```javascript\n/**\n * Service: SolveQuadratic\n * Created: 2025-11-24 15:37 by Antigravity LLM\n * Last Modified: 2025-11-24 15:37 by Antigravity LLM\n * \n * Description:\n *   Solves quadratic equations using the quadratic formula\n *   Formula: ax^2 + bx + c = 0\n *   Solutions: x = (-b \u00b1 sqrt(b^2 - 4ac)) / 2a\n * \n * Inputs:\n *   - a (NUMBER): Coefficient of x^2\n *   - b (NUMBER): Coefficient of x\n *   - c (NUMBER): Constant term\n * \n * Output:\n *   - JSON: Object containing solution1, solution2, discriminant, and message/error\n * \n * Change Log:\n *   2025-11-24 - Antigravity LLM - Initial creation with error handling\n */\n\nvar discriminant = (b * b) - (4 * a * c);\nvar result = {};\n// ... rest of code\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "When Updating Services",
    "content": "### When Updating Services\nWhen modifying an existing service:\n1. Update the \"Last Modified\" line\n2. Add a new entry to the Change Log\n3. Keep all previous change log entries\n\nExample update:\n```javascript\n/**\n * Service: CalculateTotal\n * Created: 2025-11-20 10:00 by Developer1\n * Last Modified: 2025-11-24 15:00 by Antigravity LLM\n * \n * Description:\n *   Calculates total with tax and discount\n * \n * Change Log:\n *   2025-11-20 - Developer1 - Initial creation\n *   2025-11-22 - Developer2 - Added discount logic\n *   2025-11-24 - Antigravity LLM - Fixed tax calculation rounding error\n */\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Best Practices",
    "content": "## Best Practices\n\n1. \u2705 **Use ServiceHelper** - Always use for service creation\n2. \u2705 **Small Services** - Keep services focused on single tasks\n3. \u2705 **Error Handling** - Use try/catch in complex services\n4. \u2705 **Logging** - Use `logger.info()`, `logger.warn()`, `logger.error()`\n5. \u2705 **Test Incrementally** - Test each service after creation",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "\u274c What NOT to Do",
    "content": "## \u274c What NOT to Do\n\n- \u274c Don't download Thing definitions with `GET /Things/ThingName`\n- \u274c Don't use `AddServiceDefinition` (creates empty services only)\n- \u274c Don't try to upload modified Thing JSON files\n- \u274c Don't hardcode credentials in service code",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Environment Variables",
    "content": "## Environment Variables\n\nAlways source credentials from `.env.example`:\n```bash\nsource .env.example\necho $THINGWORX_APP_KEY\necho $THINGWORX_BASE_URL\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Troubleshooting",
    "content": "## Troubleshooting\n\n**Service not found after creation?**\n- Restart the Thing: `POST /Things/ThingName/Services/RestartThing`\n\n**Authentication errors?**\n- Verify AppKey is correct\n- Check Thing permissions\n\n**Service execution errors?**\n- Check ApplicationLog in ThingWorx\n- Verify parameter types match\n- Check service code syntax",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Managing Credentials Securely",
    "content": "# Managing Credentials Securely\n\nYou asked if you can use **GitHub Secrets** for local development. The short answer is **no, not directly**.\n\nGitHub Secrets are designed for **GitHub Actions** (CI/CD pipelines) and are not automatically synced to your local machine or your colleagues' machines for security reasons.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Recommended Solution: Environment Variables (`.env`)",
    "content": "## Recommended Solution: Environment Variables (`.env`)\n\nThe standard industry practice for sharing configuration without sharing secrets publicly is to use **Environment Variables** loaded from a `.env` file.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "How it works",
    "content": "### How it works\n\n1.  **The `.env` file**: This file contains your secrets (like `THINGWORX_APP_KEY`).\n2.  **Git Ignore**: We add `.env` to `.gitignore` so it is **never** committed to the repository.\n3.  **The `.env.example` file**: We commit a template file (e.g., `.env.example`) that lists the required variables but leaves the values empty or with placeholders.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Setup Instructions for You and Your Colleagues",
    "content": "### Setup Instructions for You and Your Colleagues\n\n1.  **Clone the repo**.\n2.  **Create your local secret file**:\n    Copy `.env.example` to a new file named `.env`.\n    ```bash\n    cp .env.example .env\n    ```\n3.  **Fill in your secrets**:\n    Open `.env` and paste your actual App Key.\n    ```properties\n    THINGWORX_APP_KEY=your-actual-uuid-key-here\n    ```\n4.  **Run your code**:\n    Your application code (or LLM script) should be written to read from these environment variables.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Example: Reading Credentials in Node.js",
    "content": "### Example: Reading Credentials in Node.js\n\nIf you are writing a Node.js script, use the `dotenv` package:\n\n```javascript\nrequire('dotenv').config();\n\nconst appKey = process.env.THINGWORX_APP_KEY;\nconst baseUrl = process.env.THINGWORX_BASE_URL || config.thingworxServer.baseUrl;\n\n// Now use appKey in your headers\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Example: Reading Credentials in Python",
    "content": "### Example: Reading Credentials in Python\n\n```python\nimport os\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\napp_key = os.getenv(\"THINGWORX_APP_KEY\")\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Sharing with Colleagues",
    "content": "## Sharing with Colleagues\n\nTo share the secret key with colleagues:\n1.  Use a secure channel (Password Manager, encrypted chat, 1Password, LastPass).\n2.  Do **not** send it via email or Slack if possible.\n3.  They will paste it into their own local `.env` file.",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Successfully Implemented: Server-Side Service Management",
    "content": "# Successfully Implemented: Server-Side Service Management",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "\u2705 Working Solution",
    "content": "## \u2705 Working Solution\n\nThe `ServiceHelper.AddServiceToThing` service is now fully functional! This allows you to add services with code to any Thing via a simple REST API call, without downloading/uploading large entity definitions.",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "How It Works",
    "content": "## How It Works\n\nThe service:\n1. Fetches the Thing's configuration as JSON\n2. Converts the parameters input to proper JavaScript objects\n3. Builds the service definition and implementation structures\n4. Injects them into the Thing's configuration\n5. Pushes the updated configuration back to ThingWorx",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Usage Example",
    "content": "## Usage Example\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: 59a7e8dd-6b19-4c0e-9b46-419c071d74f5' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"gemini.test-helper\",\n    \"serviceName\": \"AddNumbers\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Benefits",
    "content": "## Benefits\n\n\u2705 **Token Efficient**: No large JSON files in LLM context  \n\u2705 **Fast**: Server-side processing  \n\u2705 **Reusable**: One helper service for all Things  \n\u2705 **Simple**: Clean API interface",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Key Implementation Details",
    "content": "## Key Implementation Details\n\n- Uses `JSON.stringify()` and `JSON.parse()` to handle ThingWorx JSON parameters\n- Includes authentication headers in the `GetJSON` and `PutJSON` calls\n- Uses `PutJSON` instead of `PutText` for proper content type handling\n- Handles SSL errors for local development environments",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Next Steps",
    "content": "## Next Steps\n\nYou can now create additional helper services for:\n- Updating existing service code\n- Adding properties\n- Removing services\n- Bulk operations\n\nAll following the same efficient server-side pattern!",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Service Header Standard",
    "content": "# Service Header Standard",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Overview",
    "content": "## Overview\n\nAll ThingWorx services created or modified by LLMs MUST include a standardized header comment block with change tracking information (similar to git commits).",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Mandatory Header Format",
    "content": "## Mandatory Header Format\n\n```javascript\n/**\n * Service: ServiceName\n * Created: YYYY-MM-DD HH:MM by AuthorName\n * Last Modified: YYYY-MM-DD HH:MM by AuthorName\n * \n * Description:\n *   Brief description of what this service does\n * \n * Inputs:\n *   - paramName (TYPE): Description\n *   - paramName2 (TYPE): Description\n * \n * Output:\n *   - TYPE: Description of return value\n * \n * Change Log:\n *   YYYY-MM-DD - AuthorName - Initial creation\n *   YYYY-MM-DD - AuthorName - Description of changes made\n */\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Header Components",
    "content": "## Header Components",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "1. Service Identification",
    "content": "### 1. Service Identification\n- **Service**: The exact name of the service\n- **Created**: Initial creation timestamp and author\n- **Last Modified**: Most recent modification timestamp and author",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "2. Description",
    "content": "### 2. Description\n- Clear explanation of what the service does\n- Include formulas, algorithms, or business logic if relevant\n- Keep it concise but informative",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "3. Inputs",
    "content": "### 3. Inputs\n- List all input parameters\n- Include data type and description for each\n- Note any constraints or special requirements",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "4. Output",
    "content": "### 4. Output\n- Specify the return type\n- Describe what the output represents\n- For complex types (JSON, INFOTABLE), describe the structure",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "5. Change Log",
    "content": "### 5. Change Log\n- **Chronological list** of all changes\n- Format: `YYYY-MM-DD - AuthorName - Description`\n- Keep ALL previous entries (don't delete history)\n- Be specific about what changed",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Examples",
    "content": "## Examples",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "New Service",
    "content": "### New Service\n```javascript\n/**\n * Service: CalculateDiscount\n * Created: 2025-11-24 16:00 by Antigravity LLM\n * Last Modified: 2025-11-24 16:00 by Antigravity LLM\n * \n * Description:\n *   Calculates the discounted price based on original price and discount percentage\n * \n * Inputs:\n *   - originalPrice (NUMBER): Original price before discount\n *   - discountPercent (NUMBER): Discount percentage (0-100)\n * \n * Output:\n *   - NUMBER: Final price after applying discount\n * \n * Change Log:\n *   2025-11-24 - Antigravity LLM - Initial creation\n */\n\nvar result = originalPrice * (1 - (discountPercent / 100));\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Updated Service",
    "content": "### Updated Service\n```javascript\n/**\n * Service: CalculateDiscount\n * Created: 2025-11-24 16:00 by Antigravity LLM\n * Last Modified: 2025-11-24 16:30 by Antigravity LLM\n * \n * Description:\n *   Calculates the discounted price based on original price and discount percentage\n *   Now includes validation to prevent negative prices\n * \n * Inputs:\n *   - originalPrice (NUMBER): Original price before discount (must be > 0)\n *   - discountPercent (NUMBER): Discount percentage (0-100)\n * \n * Output:\n *   - JSON: Object with finalPrice and savings, or error message\n * \n * Change Log:\n *   2025-11-24 16:00 - Antigravity LLM - Initial creation\n *   2025-11-24 16:30 - Antigravity LLM - Added input validation and error handling\n */\n\nvar result = {};\n\nif (originalPrice <= 0) {\n    result.error = \"Original price must be greater than 0\";\n} else if (discountPercent < 0 || discountPercent > 100) {\n    result.error = \"Discount must be between 0 and 100\";\n} else {\n    result.finalPrice = originalPrice * (1 - (discountPercent / 100));\n    result.savings = originalPrice - result.finalPrice;\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Benefits",
    "content": "## Benefits\n\n\u2705 **Traceability**: Know who changed what and when  \n\u2705 **Documentation**: Self-documenting code  \n\u2705 **Collaboration**: Team members understand service history  \n\u2705 **Debugging**: Easier to track down when issues were introduced  \n\u2705 **Compliance**: Audit trail for changes",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "LLM Implementation",
    "content": "## LLM Implementation\n\nWhen using ServiceHelper to create/update services, the header is part of the `serviceCode` parameter:\n\n```bash\ncurl ... --data '{\n    \"thingName\": \"MyThing\",\n    \"serviceName\": \"MyService\",\n    \"serviceCode\": \"/**\\n * Service: MyService\\n * Created: ...\\n * ...\\n */\\n\\nvar result = ...;\",\n    ...\n}'\n```\n\nNote: Use `\\n` for newlines in the JSON string.",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "ThingWorx REST API Guide for LLMs",
    "content": "# ThingWorx REST API Guide for LLMs\n\nThis guide provides instructions on how to interact with the ThingWorx server using its REST API. This is intended for LLMs or developers automating tasks.",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "1. Base Configuration",
    "content": "## 1. Base Configuration\n\nAll API requests should be directed to the ThingWorx server base URL.\n\n**Base URL Format:**\n`http://<server-host>:<port>/Thingworx`\n\n**Example Environment:**\n- Host: `192.168.20.3`\n- Port: `8080`",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "2. Authentication",
    "content": "## 2. Authentication\n\nAuthentication is typically handled via an Application Key (AppKey).\n\n**Headers Required:**\n- `appKey`: `<YOUR_APP_KEY>`\n- `Content-Type`: `application/json`\n- `Accept`: `application/json`",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "3. Common Operations (with cURL Examples)",
    "content": "## 3. Common Operations (with cURL Examples)\n\nThe following examples assume:\n- Host: `192.168.20.3:8080`\n- Thing: `atio.example-thing`\n- AppKey: `ea56f55d-1f9e-4f11-9159-016728a7a3c6` (Replace with your actual key)",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "3.1. Properties",
    "content": "### 3.1. Properties\n\n#### Get a Property\nRetrieves the current value of a specific property.\n\n**Endpoint:** `GET /Things/<ThingName>/Properties/<PropertyName>`\n\n**cURL Example:**\n```bash\ncurl --location 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Properties/exampleInt' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json'\n```\n\n#### Set a Property\nUpdates the value of a specific property. Note that we use `PUT` on the `Properties` collection with a JSON body containing the key-value pair.\n\n**Endpoint:** `PUT /Things/<ThingName>/Properties/*`\n\n**cURL Example:**\n```bash\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Properties/*' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"exampleInt\": 10\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "3.2. Services",
    "content": "### 3.2. Services\n\n#### Execute a Service\nRuns a service defined on a Thing.\n\n**Endpoint:** `POST /Things/<ThingName>/Services/<ServiceName>`\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Services/doubleExampleInt' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json'\n```\n*Note: If the service requires parameters, include them in the `--data` JSON object.*",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4. Entity Management",
    "content": "## 4. Entity Management",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.1. Creating a Thing",
    "content": "### 4.1. Creating a Thing\nTo create a new Thing, use the `CreateThing` service on the `EntityServices` resource.\n\n**Endpoint:** `POST /Resources/EntityServices/Services/CreateThing`\n\n**Parameters:**\n- `name`: Name of the new Thing.\n- `thingTemplateName`: The template to inherit from (e.g., 'GenericThing').\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewThing\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```\n*After creation, you typically need to enable the Thing using the `EnableThing` service.*",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.2. Creating a Property",
    "content": "### 4.2. Creating a Property\nTo add a property definition to a specific Thing (not a template), use the `AddPropertyDefinition` service on the Thing itself.\n\n**Endpoint:** `POST /Things/<ThingName>/Services/AddPropertyDefinition`\n\n**Parameters:**\n- `name`: Property name.\n- `type`: Data type (STRING, NUMBER, BOOLEAN, etc.).\n- `description`: (Optional) Description.\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/MyNewThing/Services/AddPropertyDefinition' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewProperty\",\n    \"type\": \"STRING\",\n    \"description\": \"A property created via API\"\n}'\n```\n*Note: You may need to restart the Thing or the server for some changes to fully take effect, though usually adding a property is immediate.*",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.3. Writing (Defining) a Service",
    "content": "### 4.3. Writing (Defining) a Service\nTo add a new service definition to a Thing, use `AddServiceDefinition`. To update the code of an existing service, use `UpdateServiceDefinition` (or `AddServiceDefinition` with overwrite parameters depending on version, but `Add` is safer for creation).\n\n**Endpoint:** `POST /Things/<ThingName>/Services/AddServiceDefinition`\n\n**Parameters:**\n- `name`: Service name.\n- `code`: The JavaScript code.\n- `resultType`: Return type.\n- `parameters`: JSON object defining input parameters.\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/MyNewThing/Services/AddServiceDefinition' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewService\",\n    \"description\": \"Returns a greeting\",\n    \"category\": \"\",\n    \"code\": \"var result = \\\"Hello, \\\" + name;\",\n    \"isAllowOverride\": true,\n    \"isLocalOnly\": false,\n    \"isOpen\": false,\n    \"isPrivate\": false,\n    \"isProtected\": false,\n    \"resultType\": \"STRING\",\n    \"parameters\": {\n        \"rows\": [\n            {\n                \"name\": \"name\",\n                \"baseType\": \"STRING\",\n                \"description\": \"Name to greet\",\n                \"aspects\": {}\n            }\n        ]\n    }\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.4. Creating a Project",
    "content": "### 4.4. Creating a Project\nTo create a Project, use a `PUT` request to the `/Projects` collection endpoint.\n\n**Endpoint:** `PUT /Projects`\n\n**cURL Example:**\n```bash\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Projects?Content-Type=application/json' \\\n--header 'appKey: <YOUR_APP_KEY>' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"entityType\": \"Projects\",\n    \"name\": \"MyNewProject\",\n    \"description\": \"A new project\",\n    \"tags\": []\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.5. Assigning Entities to a Project",
    "content": "### 4.5. Assigning Entities to a Project\nWhen creating an entity (Mashups, Things, etc.), you can assign it to a Project by including the `projectName` property in the main JSON payload.\n\n**Key Property:**\n`\"projectName\": \"<ProjectName>\"`\n\n**Example Payload (for Mashup creation):**\n```json\n{\n    \"entityType\": \"Mashups\",\n    \"name\": \"MyProjectMashup\",\n    \"projectName\": \"MyNewProject\", // Assigns this entity to 'MyNewProject'\n    \"mashupContent\": \"...\"\n}\n```\n*Note: If `projectName` is omitted, entities are typically assigned to 'PTCDefaultProject' or the system default.*",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Mashup Creation Recipes",
    "content": "# Mashup Creation Recipes\n\nThis document collects proven recipes for programmatically creating ThingWorx Mashups. These recipes are designed to be used by agents or developers to quickly generate correct Mashup structures.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 1: Two-Column Responsive Layout",
    "content": "## Recipe 1: Two-Column Responsive Layout\n\nThis recipe creates a responsive Mashup with two side-by-side columns, each containing a centered label.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   Demonstrates correct nesting of `flexcontainer` widgets.\n*   Shows how to use `flex-direction: row` vs `column`.\n*   Uses modern `ptcslabel` widgets.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Row] --> Left[Left Container<br/>Column]\n    Root --> Right[Right Container<br/>Column]\n    Left --> Label1[Label: Hello]\n    Right --> Label2[Label: World]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Root Container\nThe root container holds the two columns. It uses `row` direction to place them side-by-side.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"row\", // Horizontal layout\n        \"align-items\": \"center\",\n        \"justify-content\": \"space-around\", // Space out columns\n        \"flex-grow\": 1,\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```\n\n#### 2. Child Containers (Columns)\nEach child container holds content (ex. a label). It uses `column` direction (default vertical stacking) and centers its content.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"column\",\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\", // Center content vertically\n        \"flex-grow\": 1, // fill available space\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script as a template to create this layout. Remember to update `MASHUP_NAME`.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.hello-world-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Hello World Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"row\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"space-around\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Container 1 (Left)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-1\",\n                                \"DisplayName\": \"container-hello\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-hello\",\n                                        \"DisplayName\": \"lblHello\",\n                                        \"LabelText\": \"Hello\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        },\n                        // Container 2 (Right)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-2\",\n                                \"DisplayName\": \"container-world\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-world\",\n                                        \"DisplayName\": \"lblWorld\",\n                                        \"LabelText\": \"World\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    // Construct Payload\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Recipe Created Mashup\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                     \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Send Request\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 2: Vertical Stacked Layout",
    "content": "## Recipe 2: Vertical Stacked Layout\n\nThis recipe creates a responsive Mashup with two stacked containers (one above the other), each containing a centered label.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   Demonstrates vertical stacking using `flex-direction: column` on the root.\n*   Shows how to structure simple dashboard-like vertical sections.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Column] --> Top[Top Container<br/>Column]\n    Root --> Bottom[Bottom Container<br/>Column]\n    Top --> Label1[Label: Hello]\n    Bottom --> Label2[Label: World]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Root Container\nThe root container uses `column` direction to stack children vertically.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"column\", // Vertical layout\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\",\n        \"flex-grow\": 1,\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script as a template to create this layout. Remember to update `MASHUP_NAME`.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.hello-world-vertical-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Hello World Vertical Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"column\", // Vertical Stacking\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Container 1 (Top)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-top\",\n                                \"DisplayName\": \"container-hello\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-hello\",\n                                        \"DisplayName\": \"lblHello\",\n                                        \"LabelText\": \"Hello\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        },\n                        // Container 2 (Bottom)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-bottom\",\n                                \"DisplayName\": \"container-world\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-world\",\n                                        \"DisplayName\": \"lblWorld\",\n                                        \"LabelText\": \"World\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Hello World Vertical Mashup\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                     \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 3: Complex Fixed Sidebar Layout",
    "content": "## Recipe 3: Complex Fixed Sidebar Layout\n\nThis recipe demonstrates a more advanced layout commonly used for applications: A main workspace flanked by fixed-width static sidebars (e.g., for navigation or tool panels).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Mixing Static & Responsive**: Shows how to keep sidebars fixed while the center content grows.\n*   **Strict Flex Sizing**: Demonstrates the use of explicit `flex-min-width` and `flex-max-width` to force containers to adhere to specific pixel dimensions.\n*   **Empty Static Containers**: Shows configuration for structural containers that may be populated dynamically at runtime or used for spacing.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Row] --> Left[Left Container<br/>Fixed 150px]\n    Root --> Middle[Middle Container<br/>Flexible Column]\n    Root --> Right[Right Container<br/>Fixed 150px]\n    \n    Middle --> Top[Top Inner<br/>Start Helper]\n    Middle --> Bottom[Bottom Inner<br/>End Helper]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Fixed Sidebar Containers\nTo force a container to be exactly 150px wide and **never** resize, you must use a combination of standard properties and strict flex properties.\n\n**Critical Properties**:\n*   `ResponsiveLayout`: `false` (Treats internal layout as static canvas, good for fixed tools).\n*   `flex-grow`: `0` (Do not grow).\n*   `flex-shrink`: `0` (Do not shrink).\n*   `flex-basis`: `\"150px\"` (Initial size).\n*   `flex-min-width`: `\"150px\"` (Hard floor).\n*   `flex-max-width`: `\"150px\"` (Hard ceiling).\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"Id\": \"flexcontainer-left\",\n        \"DisplayName\": \"FixedSidebar\",\n        \"ResponsiveLayout\": false, // Static internal\n        \"Width\": 150,\n        \"MinWidth\": 150,\n        \"MaxWidth\": 150,\n        // STRICT FLEX LOCKING\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"150px\",\n        \"flex-min-width\": \"150px\",\n        \"flex-max-width\": \"150px\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script to generate the complex layout.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.complex-layout-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Complex Layout Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-row\",\n                        \"flex-direction\": \"row\", // Horizontal main layout\n                        \"align-items\": \"stretch\",\n                        \"justify-content\": \"flex-start\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // 1. LEFT CONTAINER (Fixed 150px, Static)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-left\",\n                                \"DisplayName\": \"container-left-fixed\",\n                                // \"Static\" internal behavior\n                                \"ResponsiveLayout\": false,\n                                \"Width\": 150,\n                                \"MinWidth\": 150,\n                                \"MaxWidth\": 150,\n                                // Strict Flex Fixed sizing\n                                \"flex-grow\": 0,\n                                \"flex-shrink\": 0,\n                                \"flex-basis\": \"150px\",\n                                \"flex-min-width\": \"150px\",\n                                \"flex-max-width\": \"150px\",\n                                \"Style\": \"DefaultContainerStyle\"\n                            },\n                            \"Widgets\": [] // Empty as requested\n                        },\n                        // 2. MIDDLE CONTAINER (Flexible, Vertical Stack)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-middle\",\n                                \"DisplayName\": \"container-middle-flex\",\n                                \"flex-direction\": \"column\", // Vertical stack inside\n                                \"align-items\": \"stretch\",\n                                \"justify-content\": \"flex-start\",\n                                \"flex-grow\": 1, // Take remaining space\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                // Top Inner (Hello)\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"flexcontainer\",\n                                        \"Id\": \"flexcontainer-mid-top\",\n                                        \"DisplayName\": \"container-hello\",\n                                        \"flex-direction\": \"column\",\n                                        \"align-items\": \"center\",\n                                        \"justify-content\": \"center\",\n                                        \"flex-grow\": 1,\n                                        \"ResponsiveLayout\": true\n                                    },\n                                    \"Widgets\": [\n                                        {\n                                            \"Properties\": {\n                                                \"Type\": \"ptcslabel\",\n                                                \"Id\": \"ptcslabel-hello\",\n                                                \"LabelText\": \"Hello\",\n                                                \"Visible\": true\n                                            },\n                                            \"Widgets\": []\n                                        }\n                                    ]\n                                },\n                                // Bottom Inner (World)\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"flexcontainer\",\n                                        \"Id\": \"flexcontainer-mid-bottom\",\n                                        \"DisplayName\": \"container-world\",\n                                        \"flex-direction\": \"column\",\n                                        \"align-items\": \"center\",\n                                        \"justify-content\": \"center\",\n                                        \"flex-grow\": 1,\n                                        \"ResponsiveLayout\": true\n                                    },\n                                    \"Widgets\": [\n                                        {\n                                            \"Properties\": {\n                                                \"Type\": \"ptcslabel\",\n                                                \"Id\": \"ptcslabel-world\",\n                                                \"LabelText\": \"World\",\n                                                \"Visible\": true\n                                            },\n                                            \"Widgets\": []\n                                        }\n                                    ]\n                                }\n                            ]\n                        },\n                        // 3. RIGHT CONTAINER (Fixed 150px, Static)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-right\",\n                                \"DisplayName\": \"container-right-fixed\",\n                                // \"Static\" internal behavior\n                                \"ResponsiveLayout\": false,\n                                \"Width\": 150,\n                                \"MinWidth\": 150,\n                                \"MaxWidth\": 150,\n                                // Strict Flex Fixed sizing\n                                \"flex-grow\": 0,\n                                \"flex-shrink\": 0,\n                                \"flex-basis\": \"150px\",\n                                \"flex-min-width\": \"150px\",\n                                \"flex-max-width\": \"150px\",\n                                \"Style\": \"DefaultContainerStyle\"\n                            },\n                            \"Widgets\": [] // Empty as requested\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    // DELETE existing mashup first to avoid 409\n    try {\n        console.log(`Deleting existing Mashup (if any): ${MASHUP_NAME}...`);\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: {\n                'appKey': APP_KEY,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        });\n    } catch (e) {\n        // Ignore delete errors\n    }\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Complex Layout Mashup (Left/Right Fixed Static 150px, Center Split)\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                     \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 4: Border Layout (Holy Grail)",
    "content": "## Recipe 4: Border Layout (Holy Grail)\n\nThis recipe implements a classic \"Holy Grail\" or \"Border Layout\": Header, Footer, Left Sidebar, Right Sidebar, and a flexible Center content area.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Full Application Layout**: Typical dashboard structure.\n*   **Nested Flex Stacks**: Uses a vertical stack for the main structure (Header / Middle / Footer) and a horizontal stack for the middle section (Left / Center / Right).\n*   **Fixed Dimension Containers**: Demonstrates locking height for headers/footers and width for sidebars.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Column] --> Top[Top Container<br/>Fixed Height 100px]\n    Root --> Middle[Middle Row<br/>Flexible Row]\n    Root --> Bottom[Bottom Container<br/>Fixed Height 100px]\n    \n    Middle --> Left[Left Sidebar<br/>Fixed Width 100px]\n    Middle --> Center[Center Content<br/>Flexible Column]\n    Middle --> Right[Right Sidebar<br/>Fixed Width 100px]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Header/Footer (Fixed Height)\nTo fix vertical height, use `MinHeight`, `MaxHeight`, and matching flex properties.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"ResponsiveLayout\": false,\n        \"Height\": 100,\n        \"MinHeight\": 100,\n        \"MaxHeight\": 100,\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"100px\",\n        \"flex-min-height\": \"100px\",\n        \"flex-max-height\": \"100px\"\n    },\n    \"Widgets\": []\n}\n```\n\n#### 2. Sidebars (Fixed Width)\nSame concept but using Width properties.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"ResponsiveLayout\": false,\n        \"Width\": 100,\n        \"MinWidth\": 100,\n        \"MaxWidth\": 100,\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"100px\",\n        \"flex-min-width\": \"100px\",\n        \"flex-max-width\": \"100px\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 5: Using a Master Mashup",
    "content": "## Recipe 5: Using a Master Mashup\n\nYou can assign a **Master Mashup** to your new Mashup to inherit common header, footer, or navigation elements.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Usage",
    "content": "### Usage\nTo specify a Master Mashup, add the `\"Master\"` property to the root `UI` -> `Properties` object in your JSON definition.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "JSON Snippet",
    "content": "### JSON Snippet\n```javascript\n\"UI\": {\n    \"Properties\": {\n        \"Id\": \"mashup-root\",\n        \"Type\": \"mashup\",\n        \"ResponsiveLayout\": true,\n        \"Title\": \"My Mashup with Master\",\n        // ... other properties ...\n        \"Master\": \"antigravity.Master-mm\" // Add this line!\n    },\n    \"Widgets\": [ ... ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Important Notes",
    "content": "### Important Notes\n*   **Name Validation**: Ensure the Master Mashup name (`antigravity.Master-mm` in the example) exists on the server *before* you create your child mashup, otherwise creation might fail or the mashup will be broken.\n*   **Layout Inheritance**: Your mashup's content will be injected into the `Content` placeholder of the Master Mashup.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 6: Integrating Thing Services into Mashups",
    "content": "## Recipe 6: Integrating Thing Services into Mashups\n\nThis recipe demonstrates how to add services from external Things to your Mashup, making them available for data binding, event handling, and service invocation.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **External Service Integration**: Shows how to register services from Things in the Mashup's Data section.\n*   **Service Configuration**: Explains the structure and properties needed to properly configure Thing services.\n*   **Real-World Example**: Uses the `ServiceHelper` Thing with its `Rechner` service as a practical example.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "When to Use",
    "content": "### When to Use\nUse this pattern when you need to:\n*   Call services from Things in response to user actions (e.g., button clicks)\n*   Bind Thing service results to UI widgets (e.g., display calculation results)\n*   Access Thing properties or methods from within the Mashup\n*   Create interactive dashboards that communicate with backend Things",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Data Section Structure",
    "content": "### Data Section Structure\n\nThe `Data` section of a Mashup contains all external data sources. By default, every Mashup includes `Session` and `UserExtensions`. To add Thing services, you add a new entry for each Thing.\n\n#### Basic Structure\n```javascript\n\"Data\": {\n    \"Session\": { ... },           // Always present\n    \"UserExtensions\": { ... },    // Always present\n    \"YourThingName\": {            // Add your Thing here\n        \"DataName\": \"YourThingName\",\n        \"EntityName\": \"YourThingName\",\n        \"EntityType\": \"Things\",   // Critical: Must be \"Things\" for Thing entities\n        \"Id\": \"YourThingName\",\n        \"Services\": [ ... ]       // Array of services to register\n    }\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Adding a Thing as a Data Source",
    "content": "### Adding a Thing as a Data Source\n\nTo add a Thing to your Mashup, you need to specify:\n\n| Property | Description | Example |\n|----------|-------------|---------|\n| `DataName` | Display name for the data source | `\"ServiceHelper\"` |\n| `EntityName` | Exact name of the Thing on the server | `\"ServiceHelper\"` |\n| `EntityType` | Type of entity - **must be `\"Things\"`** | `\"Things\"` |\n| `Id` | Unique identifier within the Mashup | `\"ServiceHelper\"` |\n| `Services` | Array of service definitions | `[{ ... }]` |\n\n> [!IMPORTANT]\n> The `EntityType` must be exactly `\"Things\"` (case-sensitive) for Thing entities. Other entity types include `\"Session\"`, `\"UserExtensions\"`, `\"Resources\"`, etc.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Registering Services",
    "content": "### Registering Services\n\nEach service in the `Services` array must be configured with the following properties:\n\n```javascript\n{\n    \"Id\": \"UniqueServiceId\",        // Unique ID for this service instance\n    \"Name\": \"ServiceName\",          // Exact name of the service on the Thing\n    \"Characteristic\": \"Services\",   // Always \"Services\" for service calls\n    \"Target\": \"ServiceName\",        // Same as Name - the service to invoke\n    \"APIMethod\": \"post\",            // HTTP method - always \"post\" for services\n    \"RefreshInterval\": 0,           // Auto-refresh interval in ms (0 = manual only)\n    \"Parameters\": {}                // Service parameters (if any)\n}\n```\n\n#### Service Properties Explained\n\n*   **Id**: A unique identifier for this service within the Mashup. Can be descriptive (e.g., `\"RechnerService\"`) or match the service name.\n*   **Name**: The exact name of the service as defined on the Thing. **Case-sensitive**.\n*   **Characteristic**: Always set to `\"Services\"` when registering a service.\n*   **Target**: The service method to call. Typically the same as `Name`.\n*   **APIMethod**: Always `\"post\"` for service invocations.\n*   **RefreshInterval**: How often to auto-refresh the service (in milliseconds). Set to `0` for manual invocation only.\n*   **Parameters**: An object containing default parameter values. Can be empty `{}` if parameters will be bound dynamically.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: ServiceHelper with Rechner Service",
    "content": "### Complete Example: ServiceHelper with Rechner Service\n\nThis example shows how to add the `Rechner` service from the `ServiceHelper` Thing.\n\n```javascript\nconst mashupContent = {\n    \"UI\": {\n        \"Properties\": {\n            \"Id\": \"mashup-root\",\n            \"Type\": \"mashup\",\n            \"ResponsiveLayout\": true,\n            \"Width\": 1024,\n            \"Height\": 618,\n            \"Style\": \"DefaultMashupStyle\",\n            \"StyleTheme\": \"PTC Convergence Theme\",\n            \"Title\": \"Service Helper Mashup\",\n            \"Area\": \"Mashup\",\n            \"__TypeDisplayName\": \"Mashup\",\n            \"Visible\": true,\n            \"Z-index\": 10,\n            \"Top\": 0,\n            \"Left\": 0\n        },\n        \"Widgets\": [\n            {\n                \"Properties\": {\n                    \"Type\": \"flexcontainer\",\n                    \"__TypeDisplayName\": \"Responsive Container\",\n                    \"Id\": \"flexcontainer-root\",\n                    \"DisplayName\": \"root-container\",\n                    \"flex-direction\": \"column\",\n                    \"align-items\": \"center\",\n                    \"justify-content\": \"center\",\n                    \"flex-grow\": 1,\n                    \"ResponsiveLayout\": true,\n                    \"LastContainer\": true\n                },\n                \"Widgets\": []\n            }\n        ]\n    },\n    \"Data\": {\n        \"Session\": {\n            \"DataName\": \"Session\",\n            \"EntityName\": \"\",\n            \"EntityType\": \"Session\",\n            \"Id\": \"session\",\n            \"Services\": [{\n                \"Id\": \"SessionInterface\",\n                \"Name\": \"GetGlobalSessionValues\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"GetGlobalSessionValues\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }]\n        },\n        \"UserExtensions\": {\n            \"DataName\": \"UserExtensions\",\n            \"EntityName\": \"\",\n            \"EntityType\": \"UserExtensions\",\n            \"Id\": \"UserExtensions\",\n            \"Services\": [{\n                \"Id\": \"UserExtensionInterface\",\n                \"Name\": \"GetCurrentUserExtensionProperties\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"GetCurrentUserExtensionProperties\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }]\n        },\n        // ===== ADD YOUR THING HERE =====\n        \"ServiceHelper\": {\n            \"DataName\": \"ServiceHelper\",\n            \"EntityName\": \"ServiceHelper\",      // Exact Thing name on server\n            \"EntityType\": \"Things\",             // Must be \"Things\"\n            \"Id\": \"ServiceHelper\",\n            \"Services\": [{\n                \"Id\": \"RechnerService\",         // Unique ID for this service\n                \"Name\": \"Rechner\",              // Exact service name (case-sensitive)\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}                // Add parameters if needed\n            }]\n        }\n    },\n    \"Events\": [],\n    \"DataBindings\": [],\n    \"mashupType\": \"mashup\"\n};\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Adding Multiple Services from the Same Thing",
    "content": "### Adding Multiple Services from the Same Thing\n\nYou can register multiple services from the same Thing by adding more entries to the `Services` array:\n\n```javascript\n\"ServiceHelper\": {\n    \"DataName\": \"ServiceHelper\",\n    \"EntityName\": \"ServiceHelper\",\n    \"EntityType\": \"Things\",\n    \"Id\": \"ServiceHelper\",\n    \"Services\": [\n        {\n            \"Id\": \"RechnerService\",\n            \"Name\": \"Rechner\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"Rechner\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        },\n        {\n            \"Id\": \"AnotherService\",\n            \"Name\": \"AnotherServiceName\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"AnotherServiceName\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        }\n    ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Adding Multiple Things",
    "content": "### Adding Multiple Things\n\nTo add services from multiple Things, add separate entries in the `Data` section:\n\n```javascript\n\"Data\": {\n    \"Session\": { ... },\n    \"UserExtensions\": { ... },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [ ... ]\n    },\n    \"AnotherThing\": {\n        \"DataName\": \"AnotherThing\",\n        \"EntityName\": \"AnotherThing\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"AnotherThing\",\n        \"Services\": [ ... ]\n    }\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Service Parameters",
    "content": "### Service Parameters\n\nIf your service requires parameters, you can specify default values in the `Parameters` object:\n\n```javascript\n{\n    \"Id\": \"CalculateService\",\n    \"Name\": \"Calculate\",\n    \"Characteristic\": \"Services\",\n    \"Target\": \"Calculate\",\n    \"APIMethod\": \"post\",\n    \"RefreshInterval\": 0,\n    \"Parameters\": {\n        \"input1\": 10,\n        \"input2\": 20,\n        \"operation\": \"add\"\n    }\n}\n```\n\n> [!NOTE]\n> Parameters can also be bound dynamically from UI widgets using Data Bindings. The values in the `Parameters` object serve as defaults.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Using the Service in the Mashup",
    "content": "### Using the Service in the Mashup\n\nOnce registered, the service can be:\n1. **Invoked by Events**: Bind a button's `Clicked` event to the service\n2. **Bound to Widgets**: Bind service output to labels, grids, or other display widgets\n3. **Chained with Other Services**: Use the output of one service as input to another\n\nThese bindings are configured in the `Events` and `DataBindings` sections of the Mashup JSON.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!WARNING]\n> **Case Sensitivity**: Thing names and service names are case-sensitive. `\"ServiceHelper\"` is different from `\"servicehelper\"`.\n\n> [!WARNING]\n> **EntityType**: Always use `\"Things\"` (capital T) for Thing entities. Using `\"Thing\"` or `\"things\"` will fail.\n\n> [!CAUTION]\n> **Thing Existence**: Ensure the Thing exists on the server before creating the Mashup. If the Thing doesn't exist, the Mashup will be created but the service will not be available.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Script Example",
    "content": "### Full Script Example\n\nSee [create_service_helper_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_service_helper_mashup.js) for a complete working example that creates a Mashup with the ServiceHelper Thing and Rechner service.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 7: Interactive Mashups with Service Bindings and Events",
    "content": "## Recipe 7: Interactive Mashups with Service Bindings and Events\n\nThis recipe demonstrates how to create fully interactive mashups that bind UI widgets to service parameters, invoke services on button clicks, and display service results. This is essential for creating functional applications.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Complete Interactivity**: Shows how to create mashups where user actions trigger service calls\n*   **Data Flow**: Demonstrates bidirectional data flow between UI and services\n*   **Event Handling**: Explains how to bind button clicks to service invocations\n*   **Real Example**: Uses a working calculator mashup as reference",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "When to Use",
    "content": "### When to Use\nUse this pattern when you need to:\n*   Create forms that submit data to services\n*   Build calculators or data processors\n*   Implement search or filter functionality\n*   Create any mashup where user input triggers backend processing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview: The Three Key Components",
    "content": "### Overview: The Three Key Components\n\n1. **Service Integration** (Recipe 6): Add the Thing and its service to the Data section\n2. **Data Bindings**: Connect UI widgets to service parameters and outputs\n3. **Event Bindings**: Trigger service execution on user actions (e.g., button clicks)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Binding Structure",
    "content": "### Event Binding Structure\n\nEvents bind user actions (like button clicks) to service invocations. The structure is different from DataBindings.\n\n#### Event Binding Format\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"unique-event-id\",\n        \"EventTriggerArea\": \"UI\",              // Where the event originates\n        \"EventHandlerArea\": \"Data\",            // Where the handler is (service)\n        \"EventTriggerSection\": \"\",             // Empty for UI widgets\n        \"EventTriggerId\": \"button-widget-id\",  // Widget that triggers the event\n        \"EventTriggerEvent\": \"Clicked\",        // Event type (Clicked, Changed, etc.)\n        \"EventHandlerId\": \"ThingName\",         // Thing name from Data section\n        \"EventHandlerService\": \"ServiceName\"   // Service to invoke\n    }\n]\n```\n\n#### Key Properties\n\n| Property | Description | Example |\n|----------|-------------|---------|\n| `EventTriggerArea` | Where event originates (`\"UI\"` or `\"Data\"`) | `\"UI\"` |\n| `EventHandlerArea` | Where handler is located (`\"Data\"` or `\"UI\"`) | `\"Data\"` |\n| `EventTriggerId` | ID of widget triggering event | `\"ptcsbutton-calculate\"` |\n| `EventTriggerEvent` | Type of event | `\"Clicked\"`, `\"Changed\"`, `\"SelectedRowsChanged\"` |\n| `EventHandlerId` | Thing name (matches Data section key) | `\"ServiceHelper\"` |\n| `EventHandlerService` | Service name to invoke | `\"Rechner\"` |\n\n> [!IMPORTANT]\n> Event bindings use `EventTrigger*` and `EventHandler*` properties, **not** `Source*` and `Target*` like DataBindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "DataBinding Structure for Service Parameters",
    "content": "### DataBinding Structure for Service Parameters\n\nDataBindings connect UI widget values to service input parameters. This is how you pass user input to services.\n\n#### Service Parameter Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"widget-id\",           // UI widget ID\n        \"SourceArea\": \"UI\",\n        \"SourceSection\": \"\",\n        \"SourceDetails\": \"\",\n        \"TargetArea\": \"Data\",\n        \"TargetSection\": \"ThingName\",      // Thing name from Data section\n        \"TargetId\": \"ServiceName\",         // Service name\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",              // Widget property\n                \"SourcePropertyType\": \"Property\",\n                \"SourcePropertyBaseType\": \"NUMBER\",     // Widget data type\n                \"TargetProperty\": \"parameterName\",      // Service parameter name\n                \"TargetPropertyType\": \"Parameter\",      // \u26a0\ufe0f MUST be \"Parameter\"\n                \"TargetPropertyBaseType\": \"NUMBER\"      // Service parameter type\n            }\n        ]\n    }\n]\n```\n\n#### Critical Properties for Service Parameters\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `TargetArea` | `\"Data\"` | Service is in Data section |\n| `TargetSection` | Thing name | Matches key in Data section |\n| `TargetId` | Service name | The service to bind to |\n| `TargetPropertyType` | **`\"Parameter\"`** | \u26a0\ufe0f Critical: Identifies service input parameter |\n| `TargetPropertyBaseType` | Match service type | `\"NUMBER\"`, `\"STRING\"`, `\"BOOLEAN\"`, etc. |\n\n> [!WARNING]\n> **TargetPropertyType MUST be `\"Parameter\"`** for service input parameters. Using `\"Property\"` will not work.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "DataBinding Structure for Service Outputs",
    "content": "### DataBinding Structure for Service Outputs\n\nDataBindings also connect service results back to UI widgets for display.\n\n#### Service Output Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"ServiceName\",         // Service name\n        \"SourceArea\": \"Data\",\n        \"SourceSection\": \"ThingName\",      // Thing name from Data section\n        \"SourceDetails\": \"AllData\",        // \u26a0\ufe0f MUST be \"AllData\" for service results\n        \"TargetArea\": \"UI\",\n        \"TargetSection\": \"\",\n        \"TargetId\": \"widget-id\",           // UI widget ID\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"resultFieldName\",    // Service output field name\n                \"SourcePropertyType\": \"Field\",          // \u26a0\ufe0f MUST be \"Field\"\n                \"SourcePropertyBaseType\": \"NUMBER\",     // Service output type\n                \"TargetProperty\": \"LabelText\",          // Widget property\n                \"TargetPropertyType\": \"property\",       // lowercase \"property\"\n                \"TargetPropertyBaseType\": \"STRING\"      // Widget property type\n            }\n        ]\n    }\n]\n```\n\n#### Critical Properties for Service Outputs\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `SourceArea` | `\"Data\"` | Service is in Data section |\n| `SourceSection` | Thing name | Matches key in Data section |\n| `SourceId` | Service name | The service providing output |\n| `SourceDetails` | **`\"AllData\"`** | \u26a0\ufe0f Required for service results |\n| `SourcePropertyType` | **`\"Field\"`** | \u26a0\ufe0f Critical: Identifies service output field |\n\n> [!WARNING]\n> **SourcePropertyType MUST be `\"Field\"`** for service outputs. Using `\"Property\"` will not work.\n\n> [!IMPORTANT]\n> **SourceDetails MUST be `\"AllData\"`** for service output bindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: Calculator Mashup",
    "content": "### Complete Example: Calculator Mashup\n\nThis example shows a fully functional calculator that:\n1. Takes two numeric inputs (Zahl A and Zahl B)\n2. Invokes the ServiceHelper.Rechner service when button is clicked\n3. Displays the result in a label\n\n#### Data Section\n\n```javascript\n\"Data\": {\n    \"Session\": { /* ... standard ... */ },\n    \"UserExtensions\": { /* ... standard ... */ },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [{\n            \"Id\": \"RechnerService\",\n            \"Name\": \"Rechner\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"Rechner\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        }]\n    }\n}\n```\n\n#### UI Widgets\n\n```javascript\n\"Widgets\": [\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-a\",\n            \"Label\": \"Zahl A:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-b\",\n            \"Label\": \"Zahl B:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcsbutton\",\n            \"Id\": \"ptcsbutton-calculate\",\n            \"Label\": \"Berechnen\"\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcslabel\",\n            \"Id\": \"ptcslabel-result\",\n            \"LabelText\": \"value ergebnis\"\n        }\n    }\n]\n```\n\n#### Events: Button Click \u2192 Service Invocation\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"event-button-invoke-rechner\",\n        \"EventTriggerArea\": \"UI\",\n        \"EventHandlerArea\": \"Data\",\n        \"EventTriggerSection\": \"\",\n        \"EventTriggerId\": \"ptcsbutton-calculate\",\n        \"EventTriggerEvent\": \"Clicked\",\n        \"EventHandlerId\": \"ServiceHelper\",\n        \"EventHandlerService\": \"Rechner\"\n    }\n]\n```\n\n#### DataBindings: Input A \u2192 Service Parameter a\n\n```javascript\n{\n    \"Id\": \"binding-input-a-to-service\",\n    \"SourceId\": \"numericentry-a\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"Value\",\n            \"SourcePropertyType\": \"Property\",\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"a\",\n            \"TargetPropertyType\": \"Parameter\",      // \u26a0\ufe0f Parameter for service input\n            \"TargetPropertyBaseType\": \"NUMBER\"\n        }\n    ]\n}\n```\n\n#### DataBindings: Input B \u2192 Service Parameter b\n\n```javascript\n{\n    \"Id\": \"binding-input-b-to-service\",\n    \"SourceId\": \"numericentry-b\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"Value\",\n            \"SourcePropertyType\": \"Property\",\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"b\",\n            \"TargetPropertyType\": \"Parameter\",      // \u26a0\ufe0f Parameter for service input\n            \"TargetPropertyBaseType\": \"NUMBER\"\n        }\n    ]\n}\n```\n\n#### DataBindings: Service Output \u2192 Label\n\n```javascript\n{\n    \"Id\": \"binding-service-result-to-label\",\n    \"SourceId\": \"Rechner\",\n    \"SourceArea\": \"Data\",\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",                     // \u26a0\ufe0f Required for service output\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"ptcslabel-result\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"result\",\n            \"SourcePropertyType\": \"Field\",          // \u26a0\ufe0f Field for service output\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"LabelText\",\n            \"TargetPropertyType\": \"property\",\n            \"TargetPropertyBaseType\": \"STRING\"\n        }\n    ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Differences Summary",
    "content": "### Critical Differences Summary\n\n| Aspect | Service Parameter Binding | Service Output Binding |\n|--------|--------------------------|------------------------|\n| **Direction** | UI \u2192 Service | Service \u2192 UI |\n| **SourceArea** | `\"UI\"` | `\"Data\"` |\n| **TargetArea** | `\"Data\"` | `\"UI\"` |\n| **TargetPropertyType** | **`\"Parameter\"`** | `\"property\"` |\n| **SourcePropertyType** | `\"Property\"` | **`\"Field\"`** |\n| **SourceDetails** | `\"\"` | **`\"AllData\"`** |\n| **TargetSection** | Thing name | `\"\"` |\n| **SourceSection** | `\"\"` | Thing name |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "BaseType Matching",
    "content": "### BaseType Matching\n\nBaseTypes must be compatible between source and target:\n\n| Widget Type | Widget Property | BaseType | Service Parameter Type |\n|-------------|----------------|----------|----------------------|\n| `numericentry` | `Value` | `NUMBER` | `NUMBER` \u2705 |\n| `ptcstextfield` | `Text` | `STRING` | `STRING` \u2705 |\n| `ptcscheckbox` | `Checked` | `BOOLEAN` | `BOOLEAN` \u2705 |\n\n> [!NOTE]\n> Type conversions are allowed (e.g., NUMBER \u2192 STRING for display in labels), but matching types is preferred for service parameters.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Event Types",
    "content": "### Common Event Types\n\n| Widget | Event Name | Description |\n|--------|-----------|-------------|\n| `ptcsbutton` | `Clicked` | Button was clicked |\n| `ptcstextfield` | `Changed` | Text value changed |\n| `numericentry` | `Changed` | Numeric value changed |\n| `ptcsgrid` | `SelectedRowsChanged` | Grid selection changed |\n| `ptcscheckbox` | `Changed` | Checkbox state changed |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Wrong PropertyType for Parameters**: Using `TargetPropertyType: \"Property\"` instead of `\"Parameter\"` for service inputs will fail silently. The binding will appear in the mashup but won't work.\n\n> [!CAUTION]\n> **Wrong PropertyType for Outputs**: Using `SourcePropertyType: \"Property\"` instead of `\"Field\"` for service outputs will fail. Service results won't be displayed.\n\n> [!CAUTION]\n> **Missing AllData**: Forgetting `SourceDetails: \"AllData\"` for service output bindings will prevent results from being displayed.\n\n> [!CAUTION]\n> **BaseType Mismatch**: Binding a STRING widget to a NUMBER parameter without proper conversion may cause errors. Always match BaseTypes or ensure compatible conversions.\n\n> [!WARNING]\n> **Event Structure Confusion**: Don't use `SourceId`/`TargetId` in Events. Use `EventTriggerId`/`EventHandlerId` instead.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Add Service to Data Section** (Recipe 6)\n   - Define Thing with EntityType: \"Things\"\n   - Register service in Services array\n\n2. **Create UI Widgets**\n   - Input widgets (numericentry, ptcstextfield, etc.)\n   - Action widget (ptcsbutton)\n   - Output widgets (ptcslabel, etc.)\n\n3. **Bind Inputs to Service Parameters**\n   - SourceArea: \"UI\"\n   - TargetArea: \"Data\"\n   - TargetPropertyType: **\"Parameter\"**\n   - Match BaseTypes\n\n4. **Bind Service Outputs to Display Widgets**\n   - SourceArea: \"Data\"\n   - TargetArea: \"UI\"\n   - SourcePropertyType: **\"Field\"**\n   - SourceDetails: **\"AllData\"**\n\n5. **Add Event to Trigger Service**\n   - EventTriggerArea: \"UI\"\n   - EventHandlerArea: \"Data\"\n   - EventTriggerEvent: \"Clicked\"\n   - EventHandlerService: Service name",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Working Example",
    "content": "### Full Working Example\n\nSee [create_calculator_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_calculator_mashup.js) for a complete, working implementation of an interactive calculator mashup with all bindings and events properly configured.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference Checklist",
    "content": "### Quick Reference Checklist\n\nWhen creating interactive mashups with service bindings:\n\n- [ ] Service added to Data section (Recipe 6)\n- [ ] UI input widgets created\n- [ ] UI output widgets created\n- [ ] Action button created\n- [ ] Input \u2192 Parameter bindings use `TargetPropertyType: \"Parameter\"`\n- [ ] Output bindings use `SourcePropertyType: \"Field\"`\n- [ ] Output bindings include `SourceDetails: \"AllData\"`\n- [ ] BaseTypes match between source and target\n- [ ] Event binding uses `EventTrigger*` and `EventHandler*` properties\n- [ ] Event points to correct Thing and Service names",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 8: Service Chaining with ServiceInvokeCompleted",
    "content": "## Recipe 8: Service Chaining with ServiceInvokeCompleted\n\nThis recipe demonstrates how to chain multiple services together, where one service's completion automatically triggers another service, with the first service's output feeding into the second service's input. This enables complex multi-step processing workflows.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Automated Workflows**: Create multi-step processing without user intervention\n*   **Service Orchestration**: Chain services together for complex calculations\n*   **Event-Driven Architecture**: Use ServiceInvokeCompleted to trigger subsequent actions\n*   **Data Pipeline**: Pass data through multiple processing stages",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "When to Use",
    "content": "### When to Use\nUse this pattern when you need to:\n*   Perform multi-step calculations (e.g., calculate sum, then multiply result)\n*   Create data processing pipelines\n*   Implement sequential business logic\n*   Chain validation and processing steps\n*   Build complex workflows with multiple service calls",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview: Service Chaining Flow",
    "content": "### Overview: Service Chaining Flow\n\n```mermaid\ngraph LR\n    A[User Input] --> B[Service 1]\n    B -->|ServiceInvokeCompleted| C[Service 2]\n    C --> D[Display Result]\n    B -.Output.-> C\n```\n\n1. User provides input and triggers first service\n2. First service executes with user input\n3. **ServiceInvokeCompleted** event fires when first service completes\n4. Second service is automatically invoked\n5. Second service receives first service's output as input\n6. Final result is displayed to user",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "ServiceInvokeCompleted Event",
    "content": "### ServiceInvokeCompleted Event\n\nThe `ServiceInvokeCompleted` event is a special event that fires automatically when a service finishes execution. This is the key to service chaining.\n\n#### Event Properties\n\n| Property | Description |\n|----------|-------------|\n| Event Name | `ServiceInvokeCompleted` |\n| Trigger | Fires after service execution completes |\n| Availability | Available on all service invocations |\n| Use Case | Triggering subsequent services or UI updates |\n\n> [!IMPORTANT]\n> `ServiceInvokeCompleted` is automatically triggered by ThingWorx when a service finishes. You don't invoke it manually.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Data-to-Data Event Binding",
    "content": "### Data-to-Data Event Binding\n\nWhen chaining services, both the event trigger and handler are in the Data area (not UI).\n\n#### Event Binding Format for Service Chaining\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"unique-event-id\",\n        \"EventTriggerArea\": \"Data\",              // \u26a0\ufe0f Data, not UI\n        \"EventHandlerArea\": \"Data\",              // \u26a0\ufe0f Data, not UI\n        \"EventTriggerSection\": \"ThingName\",      // \u26a0\ufe0f Required for Data events\n        \"EventTriggerId\": \"FirstServiceName\",    // Service that completes\n        \"EventTriggerEvent\": \"ServiceInvokeCompleted\",\n        \"EventHandlerId\": \"ThingName\",           // Can be same or different Thing\n        \"EventHandlerService\": \"SecondServiceName\"  // Service to invoke\n    }\n]\n```\n\n#### Key Differences from UI-to-Service Events\n\n| Property | UI-to-Service Event | Service-to-Service Event |\n|----------|-------------------|------------------------|\n| `EventTriggerArea` | `\"UI\"` | **`\"Data\"`** |\n| `EventHandlerArea` | `\"Data\"` | **`\"Data\"`** |\n| `EventTriggerSection` | `\"\"` (empty) | **Thing name** (required) |\n| `EventTriggerEvent` | `\"Clicked\"`, `\"Changed\"`, etc. | **`\"ServiceInvokeCompleted\"`** |\n| `EventTriggerId` | Widget ID | **Service name** |\n\n> [!WARNING]\n> **EventTriggerSection is REQUIRED** for Data area events. It must contain the Thing name.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Service-to-Service DataBinding",
    "content": "### Service-to-Service DataBinding\n\nTo pass data from one service to another, bind the first service's output to the second service's input parameter.\n\n#### Service Output \u2192 Service Parameter Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"FirstServiceName\",        // Service providing output\n        \"SourceArea\": \"Data\",\n        \"SourceSection\": \"ThingName\",\n        \"SourceDetails\": \"AllData\",            // \u26a0\ufe0f Required for service outputs\n        \"TargetArea\": \"Data\",                  // \u26a0\ufe0f Data, not UI\n        \"TargetSection\": \"ThingName\",          // Can be same or different Thing\n        \"TargetId\": \"SecondServiceName\",       // Service receiving input\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"outputFieldName\",     // First service output\n                \"SourcePropertyType\": \"Field\",           // \u26a0\ufe0f Field for service output\n                \"SourcePropertyBaseType\": \"NUMBER\",\n                \"TargetProperty\": \"inputParameterName\",  // Second service input\n                \"TargetPropertyType\": \"Parameter\",       // \u26a0\ufe0f Parameter for service input\n                \"TargetPropertyBaseType\": \"NUMBER\"\n            }\n        ]\n    }\n]\n```\n\n#### Critical Properties for Service-to-Service Binding\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `SourceArea` | `\"Data\"` | First service is in Data section |\n| `TargetArea` | **`\"Data\"`** | \u26a0\ufe0f Second service is also in Data section |\n| `SourcePropertyType` | `\"Field\"` | Service output field |\n| `TargetPropertyType` | `\"Parameter\"` | Service input parameter |\n| `SourceDetails` | `\"AllData\"` | Required for service outputs |\n\n> [!IMPORTANT]\n> Both SourceArea and TargetArea are `\"Data\"` for service-to-service bindings. This is different from UI-to-Service or Service-to-UI bindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: Chained Calculator",
    "content": "### Complete Example: Chained Calculator\n\nThis example chains two services:\n1. **Rechner**: Takes two inputs (a, b), returns their sum as result\n2. **Rechner2**: Takes one input (c), returns c * 2 as result\n\n**Flow**: User inputs A and B \u2192 Rechner calculates (A + B) \u2192 Rechner2 calculates (result * 2) \u2192 Display final result\n\n#### Data Section: Two Services\n\n```javascript\n\"Data\": {\n    \"Session\": { /* ... standard ... */ },\n    \"UserExtensions\": { /* ... standard ... */ },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [\n            {\n                \"Id\": \"RechnerService\",\n                \"Name\": \"Rechner\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            },\n            {\n                \"Id\": \"Rechner2Service\",\n                \"Name\": \"Rechner2\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner2\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }\n        ]\n    }\n}\n```\n\n#### UI Widgets\n\n```javascript\n\"Widgets\": [\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-a\",\n            \"Label\": \"Zahl A:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-b\",\n            \"Label\": \"Zahl B:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcsbutton\",\n            \"Id\": \"ptcsbutton-calculate\",\n            \"Label\": \"Berechnen\"\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcslabel\",\n            \"Id\": \"ptcslabel-result\",\n            \"LabelText\": \"value ergebnis\"\n        }\n    }\n]\n```\n\n#### Event 1: Button Click \u2192 Rechner Service\n\n```javascript\n{\n    \"Id\": \"event-button-invoke-rechner\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"ptcsbutton-calculate\",\n    \"EventTriggerEvent\": \"Clicked\",\n    \"EventHandlerId\": \"ServiceHelper\",\n    \"EventHandlerService\": \"Rechner\"\n}\n```\n\n#### Event 2: Rechner Complete \u2192 Rechner2 Service (Service Chaining)\n\n```javascript\n{\n    \"Id\": \"event-rechner-complete-invoke-rechner2\",\n    \"EventTriggerArea\": \"Data\",                    // \u26a0\ufe0f Data area\n    \"EventHandlerArea\": \"Data\",                    // \u26a0\ufe0f Data area\n    \"EventTriggerSection\": \"ServiceHelper\",        // \u26a0\ufe0f Thing name required\n    \"EventTriggerId\": \"Rechner\",                   // First service\n    \"EventTriggerEvent\": \"ServiceInvokeCompleted\", // \u26a0\ufe0f Completion event\n    \"EventHandlerId\": \"ServiceHelper\",\n    \"EventHandlerService\": \"Rechner2\"              // Second service\n}\n```\n\n#### DataBinding 1: Input A \u2192 Rechner.a\n\n```javascript\n{\n    \"Id\": \"binding-input-a-to-rechner\",\n    \"SourceId\": \"numericentry-a\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"a\",\n        \"TargetPropertyType\": \"Parameter\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```\n\n#### DataBinding 2: Input B \u2192 Rechner.b\n\n```javascript\n{\n    \"Id\": \"binding-input-b-to-rechner\",\n    \"SourceId\": \"numericentry-b\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"b\",\n        \"TargetPropertyType\": \"Parameter\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```\n\n#### DataBinding 3: Rechner.result \u2192 Rechner2.c (Service-to-Service)\n\n```javascript\n{\n    \"Id\": \"binding-rechner-result-to-rechner2-c\",\n    \"SourceId\": \"Rechner\",\n    \"SourceArea\": \"Data\",                          // \u26a0\ufe0f Data area\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",\n    \"TargetArea\": \"Data\",                          // \u26a0\ufe0f Data area (not UI)\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner2\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"result\",\n        \"SourcePropertyType\": \"Field\",             // \u26a0\ufe0f Service output\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"c\",\n        \"TargetPropertyType\": \"Parameter\",         // \u26a0\ufe0f Service input\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```\n\n#### DataBinding 4: Rechner2.result \u2192 Label\n\n```javascript\n{\n    \"Id\": \"binding-rechner2-result-to-label\",\n    \"SourceId\": \"Rechner2\",\n    \"SourceArea\": \"Data\",\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"ptcslabel-result\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"result\",\n        \"SourcePropertyType\": \"Field\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"LabelText\",\n        \"TargetPropertyType\": \"property\",\n        \"TargetPropertyBaseType\": \"STRING\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Execution Flow Diagram",
    "content": "### Execution Flow Diagram\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant Button\n    participant Rechner\n    participant Rechner2\n    participant Label\n    \n    User->>Button: Click \"Berechnen\"\n    Button->>Rechner: Invoke with a, b\n    Note over Rechner: Calculate a + b\n    Rechner-->>Rechner: ServiceInvokeCompleted\n    Rechner->>Rechner2: Auto-invoke with result as c\n    Note over Rechner2: Calculate c * 2\n    Rechner2->>Label: Display final result\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Summary Table",
    "content": "### Binding Summary Table\n\n| Binding | Source | Target | Type | Purpose |\n|---------|--------|--------|------|---------|\n| 1 | UI (Input A) | Rechner.a | UI \u2192 Data | User input to first service |\n| 2 | UI (Input B) | Rechner.b | UI \u2192 Data | User input to first service |\n| 3 | Rechner.result | Rechner2.c | **Data \u2192 Data** | **Service chaining** |\n| 4 | Rechner2.result | UI (Label) | Data \u2192 UI | Display final result |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Summary Table",
    "content": "### Event Summary Table\n\n| Event | Trigger | Handler | Purpose |\n|-------|---------|---------|---------|\n| 1 | Button Click (UI) | Rechner (Data) | User initiates process |\n| 2 | Rechner Complete (Data) | Rechner2 (Data) | **Automatic service chaining** |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Differences: UI-to-Service vs Service-to-Service",
    "content": "### Critical Differences: UI-to-Service vs Service-to-Service\n\n| Aspect | UI-to-Service | Service-to-Service |\n|--------|--------------|-------------------|\n| **Event Trigger Area** | `\"UI\"` | **`\"Data\"`** |\n| **Event Handler Area** | `\"Data\"` | **`\"Data\"`** |\n| **Event Trigger Section** | `\"\"` (empty) | **Thing name (required)** |\n| **Event Trigger Event** | `\"Clicked\"`, `\"Changed\"` | **`\"ServiceInvokeCompleted\"`** |\n| **DataBinding Source Area** | `\"UI\"` | **`\"Data\"`** |\n| **DataBinding Target Area** | `\"Data\"` | **`\"Data\"`** |\n| **Trigger Type** | User action | **Automatic (event-driven)** |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Multi-Step Calculations**\n   - Calculate subtotal \u2192 Calculate tax \u2192 Calculate total\n   - Perform operation \u2192 Validate result \u2192 Format output\n\n2. **Data Processing Pipelines**\n   - Fetch data \u2192 Transform data \u2192 Store data\n   - Parse input \u2192 Validate \u2192 Process \u2192 Return result\n\n3. **Sequential Validation**\n   - Validate format \u2192 Validate business rules \u2192 Save\n   - Check permissions \u2192 Verify data \u2192 Execute action\n\n4. **Conditional Workflows**\n   - Service 1 determines path \u2192 Service 2A or 2B executes\n   - Calculate score \u2192 Trigger appropriate action based on score",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Missing EventTriggerSection**: For Data area events, EventTriggerSection MUST contain the Thing name. Leaving it empty will cause the event to fail.\n\n> [!CAUTION]\n> **Wrong Event Areas**: Both EventTriggerArea and EventHandlerArea must be `\"Data\"` for service-to-service events. Using `\"UI\"` will not work.\n\n> [!CAUTION]\n> **Wrong Binding Areas**: For service-to-service DataBindings, both SourceArea and TargetArea must be `\"Data\"`. Don't use `\"UI\"` for either.\n\n> [!WARNING]\n> **Circular Dependencies**: Be careful not to create circular service chains (Service A \u2192 Service B \u2192 Service A). This will cause infinite loops.\n\n> [!WARNING]\n> **Missing AllData**: Service output bindings always need `SourceDetails: \"AllData\"`, even for service-to-service bindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Register Both Services** (Recipe 6)\n   - Add both services to the same Thing in Data section\n   - Or add services from different Things\n\n2. **Create UI Widgets**\n   - Input widgets for first service parameters\n   - Button to trigger first service\n   - Output widget for final result\n\n3. **Bind UI to First Service**\n   - Input widgets \u2192 First service parameters\n   - Button click \u2192 First service invocation\n\n4. **Chain Services with Event**\n   - First service ServiceInvokeCompleted \u2192 Second service invocation\n   - EventTriggerArea: \"Data\"\n   - EventTriggerSection: Thing name\n\n5. **Bind Service Output to Service Input**\n   - First service output \u2192 Second service parameter\n   - SourceArea: \"Data\", TargetArea: \"Data\"\n   - SourcePropertyType: \"Field\", TargetPropertyType: \"Parameter\"\n\n6. **Bind Final Output to UI**\n   - Second service output \u2192 Display widget\n   - Standard service-to-UI binding",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Working Example",
    "content": "### Full Working Example\n\nSee [create_chained_calculator_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_chained_calculator_mashup.js) for a complete, working implementation of a chained calculator mashup with proper service chaining and all bindings correctly configured.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference Checklist",
    "content": "### Quick Reference Checklist\n\nWhen creating service chaining mashups:\n\n- [ ] Both services registered in Data section\n- [ ] UI inputs bound to first service parameters\n- [ ] Button click event triggers first service\n- [ ] ServiceInvokeCompleted event added for first service\n- [ ] ServiceInvokeCompleted event uses `EventTriggerArea: \"Data\"`\n- [ ] ServiceInvokeCompleted event includes `EventTriggerSection: \"ThingName\"`\n- [ ] Service-to-service binding uses `SourceArea: \"Data\"` and `TargetArea: \"Data\"`\n- [ ] Service output uses `SourcePropertyType: \"Field\"`\n- [ ] Service input uses `TargetPropertyType: \"Parameter\"`\n- [ ] Service output binding includes `SourceDetails: \"AllData\"`\n- [ ] BaseTypes match throughout the chain\n- [ ] Final service output bound to UI display widget\n- [ ] No circular dependencies in service chain\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 9: Creating Mashup Parameters",
    "content": "## Recipe 9: Creating Mashup Parameters\n\n**Objective**: Create mashup parameters that allow external data to be passed into a mashup.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nMashup parameters enable mashups to receive input values from external sources (e.g., when embedded in other mashups or opened with URL parameters). Parameters can be created via the REST API, though some configuration options require specific property mappings that differ from intuitive naming.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Configuration Mappings \u2705",
    "content": "### Configuration Mappings \u2705\n\nThrough empirical testing, the following mappings have been established for the German ThingWorx UI:\n\n#### 1. \"Zu Erinnerungen hinzuf\u00fcgen\" (Add to Memories)\nThis checkbox in the UI maps to the **`isMandatory`** property in the JSON definition.\n- Checkbox Checked = `isMandatory: \"true\"`\n- Checkbox Unchecked = `isMandatory: \"false\"`\n\n> [!NOTE]\n> The `isLocalProperty` attribute does **not** control this setting, despite the naming similarity.\n\n#### 2. Binding Directions (Bindungsrichtung)\nThe mapping between the UI terms and the JSON values is as follows:\n\n| UI Term (German) | UI Meaning | JSON Value |\n|------------------|------------|------------|\n| **Quelle**       | Source     | `\"IN\"`     |\n| **Ziel**         | Target     | `\"OUT\"`    |\n| **Beide**        | Both       | `\"BOTH\"`   |\n\n> [!IMPORTANT]\n> This mapping (`Quelle` -> `IN`, `Ziel` -> `OUT`) appears counter-intuitive but has been verified in practice. \"Source\" parameters act as Inputs (`IN`) to the Mashup, while \"Target\" parameters act as Outputs (`OUT`) from the Mashup.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Structure",
    "content": "### Parameter Structure\n\nParameters must be defined in **two locations** for them to appear in the configuration dialog:\n\n1. **`parameterDefinitions`** - At the mashup entity level\n   - `isMandatory` must be a **String** (`\"true\"`/`\"false\"`) here.\n2. **`_currentParameterDefs`** - Inside `mashupContent.UI.Properties`\n   - `isMandatory` must be a **Boolean** (`true`/`false`) here.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: Adding Parameters to a Mashup",
    "content": "### Complete Example: Adding Parameters to a Mashup\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"MyMashup\";\n\nasync function addMashupParameters() {\n    console.log(`Adding parameters to mashup: ${MASHUP_NAME}...`);\n\n    // Step 1: Get current mashup\n    const getResponse = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n        method: 'GET',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        }\n    });\n\n    if (!getResponse.ok) {\n        console.error(`Failed to get mashup: ${getResponse.status}`);\n        return;\n    }\n\n    const mashup = await getResponse.json();\n    const mashupContent = JSON.parse(mashup.mashupContent);\n    \n    // Step 2: Define parameters in parameterDefinitions\n    // Note: isMandatory is a STRING here\n    mashup.parameterDefinitions = {\n        \"InputValue\": {\n            \"name\": \"InputValue\",\n            \"description\": \"Input value (Source/Quelle)\",\n            \"baseType\": \"INTEGER\",\n            \"ordinal\": 0,\n            \"aspects\": {\n                \"bindingDirection\": \"IN\",    // Quelle\n                \"isMandatory\": \"true\"        // Zu Erinnerungen hinzuf\u00fcgen = CHECKED\n            }\n        },\n        \"OutputValue\": {\n            \"name\": \"OutputValue\",\n            \"description\": \"Output value (Target/Ziel)\",\n            \"baseType\": \"STRING\",\n            \"ordinal\": 1,\n            \"aspects\": {\n                \"bindingDirection\": \"OUT\",   // Ziel\n                \"isMandatory\": \"false\"       // Zu Erinnerungen hinzuf\u00fcgen = UNCHECKED\n            }\n        },\n        \"BiDirValue\": {\n            \"name\": \"BiDirValue\",\n            \"description\": \"Bidirectional value (Both/Beide)\",\n            \"baseType\": \"BOOLEAN\",\n            \"ordinal\": 2,\n            \"aspects\": {\n                \"bindingDirection\": \"BOTH\",  // Beide\n                \"isMandatory\": \"true\"        // Zu Erinnerungen hinzuf\u00fcgen = CHECKED\n            }\n        }\n    };\n    \n    // Step 3: Add parameters to _currentParameterDefs in mashupContent\n    // Note: isMandatory is a BOOLEAN here\n    mashupContent.UI.Properties._currentParameterDefs = [\n        {\n            \"ParameterName\": \"InputValue\",\n            \"BaseType\": \"INTEGER\",\n            \"Description\": \"Input value (Source/Quelle)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"IN\",\n                \"isMandatory\": true\n            }\n        },\n        {\n            \"ParameterName\": \"OutputValue\",\n            \"BaseType\": \"STRING\",\n            \"Description\": \"Output value (Target/Ziel)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"OUT\",\n                \"isMandatory\": false\n            }\n        },\n        {\n            \"ParameterName\": \"BiDirValue\",\n            \"BaseType\": \"BOOLEAN\",\n            \"Description\": \"Bidirectional value (Both/Beide)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"BOTH\",\n                \"isMandatory\": true\n            }\n        }\n    ];\n    \n    // Step 4: Update mashupContent\n    mashup.mashupContent = JSON.stringify(mashupContent);\n\n    // Step 5: Save mashup\n    const updateResponse = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(mashup)\n    });\n\n    if (!updateResponse.ok) {\n        const text = await updateResponse.text();\n        console.error(`Failed to update mashup: ${updateResponse.status}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Parameters added successfully!`);\n    }\n}\n\naddMashupParameters();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checklist for Success",
    "content": "### Checklist for Success\n\n- [ ] Use `isMandatory` to control \"Zu Erinnerungen hinzuf\u00fcgen\" (Persistence).\n- [ ] Use `IN` for \"Quelle\" (Source) binding direction.\n- [ ] Use `OUT` for \"Ziel\" (Target) binding direction.\n- [ ] Use `BOTH` for \"Beide\" (Both) binding direction.\n- [ ] Use **String** values (`\"true\"`) in `parameterDefinitions` but **Boolean** values (`true`) in `_currentParameterDefs`.\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 4: Mashup with Logout Function",
    "content": "## Recipe 4: Mashup with Logout Function\n\nThis recipe creates a Mashup that includes a \"Logout\" function, allowing the user to sign out of the ThingWorx session.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Session Management**: Demonstrates how to properly implement a Logout function.\n*   **Special Widget**: Uses the `logoutfunction` widget type (not a Data Service).\n*   **UI-to-UI Binding**: Shows the correct way to bind a button click to a UI function widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n1.  **Logout Function Widget**: A special widget in the `Widgets` list (not `Data` section).\n2.  **Button**: A standard button to trigger the event.\n3.  **Binding**: Connects `Clicked` event of the button to the `Logout` service of the function widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Logout Function Widget\nThe Logout function is actually a **Widget** in the UI definition, **not** a service in the Data section.\n\n```javascript\n{\n    \"Properties\": {\n        \"Area\": \"UI\",\n        \"Type\": \"logoutfunction\",\n        \"__TypeDisplayName\": \"Logout-Function\",\n        \n        // Option A: Redirect to URL\n        \"RedirectTo\": \"url\",\n        \"URL\": \"https://www.atio.de/\",\n        \n        // Option B: Redirect to Mashup\n        // \"RedirectTo\": \"Mashup\",\n        // \"LogoutTargetMashup\": \"tk.taskManager-mu\",\n        \n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Id\": \"logoutfunction-abmelden\",\n        \"DisplayName\": \"AbmeldenFunktion\",\n        \"ResponsiveLayout\": false\n    },\n#### Configuration Options\n\n*   **Redirect to URL**: Set `RedirectTo` to `\"url\"` and provide the destination in `URL` property (e.g. `https://www.atio.de/`).\n*   **Redirect to Mashup**: Set `RedirectTo` to `\"Mashup\"` and provide the target mashup name in `LogoutTargetMashup` property (e.g. `tk.taskManager-mu`).\n\n\n#### 2. Event Binding (Crucial)\nThe binding must link the Button's `Clicked` event to the Logout Function's `Logout` service.\n**Important**: Both `EventTriggerArea` and `EventHandlerArea` must be set to `\"UI\"`.\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"binding-event-logout-12345\",\n        \"EventTriggerArea\": \"UI\",\n        \"EventHandlerArea\": \"UI\", // IMPORTANT: Target is in UI Area\n        \"EventTriggerSection\": \"\",\n        \"EventTriggerId\": \"ptcsbutton-logout\", // Button ID\n        \"EventTriggerEvent\": \"Clicked\",\n        \"EventHandlerId\": \"logoutfunction-abmelden\", // Logout Widget ID\n        \"EventHandlerService\": \"Logout\"\n    }\n]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script to create a mashup with a functional Logout button.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.logout-mashup\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Logout Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"__TypeDisplayName\": \"Button\",\n                                \"Id\": \"ptcsbutton-logout\",\n                                \"DisplayName\": \"btnAbmelden\",\n                                \"Label\": \"Abmelden\",\n                                \"ButtonType\": \"primary\",\n                                \"UseTheme\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // The Logout Function Widget\n                {\n                    \"Properties\": {\n                        \"Area\": \"UI\",\n                        \"Type\": \"logoutfunction\",\n                        \"__TypeDisplayName\": \"Logout-Function\",\n                        \n                        // Option A: Redirect to URL\n                        \"RedirectTo\": \"url\",\n                        \"URL\": \"https://www.atio.de/\",\n                        \n                        // Option B: Redirect to Mashup\n                        // \"RedirectTo\": \"Mashup\",\n                        // \"LogoutTargetMashup\": \"tk.taskManager-mu\",\n                        \n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"Id\": \"logoutfunction-abmelden\",\n                        \"DisplayName\": \"AbmeldenFunktion\",\n                        \"Description\": \"Funktion zum Abmelden\",\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"LogoutTargetMashup\": \"\"\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [\n            {\n                \"Id\": \"binding-event-logout-\" + Math.floor(Math.random() * 1000000),\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerArea\": \"UI\", // IMPORTANT: Target is in UI Area\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerId\": \"ptcsbutton-logout\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventHandlerId\": \"logoutfunction-abmelden\",\n                \"EventHandlerService\": \"Logout\"\n            }\n        ],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Mashup with Logout Function\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // DELETE existing mashup first\n    try {\n        console.log(`Deleting existing Mashup (if any): ${MASHUP_NAME}...`);\n        const delRes = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: {\n                'appKey': APP_KEY,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        });\n        await new Promise(resolve => setTimeout(resolve, 2000));\n    } catch (e) {\n        // Ignore delete errors\n    }\n\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 5: Status Messages (Legacy)",
    "content": "## Recipe 5: Status Messages (Legacy)\n\nThis recipe demonstrates how to implement status/toast messages using the `statusmessage` widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **User Feedback**: Show ephemeral success, warning, or error messages (Toasts).\n*   **Legacy Note**: The `statusmessage` widget is marked as \"Legacy\" in modern ThingWorx, but remains the standard method for simple toast notifications when not using custom web components. Despite the warning, it is fully functional.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Configuration",
    "content": "### Widget Configuration\nThe `statusmessage` widget is an invisible function widget. It does not appear visually until triggered.\n\n**Key Properties:**\n*   `Type`: `\"statusmessage\"`\n*   `MessageType`: Determines the style (icon/color).\n    *   `\"info\"`: Information (Blue/Neutral)\n    *   `\"warn\"`: Warning (Yellow/Orange)\n    *   `\"error\"`: Error (Red)\n*   `Message`: The text to display.\n*   `Area`: `\"UI\"` (Crucial for binding to UI buttons).\n\n**Key Services:**\n*   `ShowMessage`: The service that triggers the toaster to appear. This **must** be bound to an event (e.g., `Clicked` from a button) to make the message visible.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Binding",
    "content": "### Event Binding\nTo trigger the message, bind a source event (like a Button's `Clicked` event) to the `ShowMessage` service of the status widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script to create a simple mashup with buttons triggering different status messages.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.status-message-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Status Message Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"ResponsiveLayout\": true\n                    },\n                    \"Widgets\": [\n                        // Button to trigger Info\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"Id\": \"btn-info\",\n                                \"Label\": \"Show Info\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Status Function: Info\n                        {\n                            \"Properties\": {\n                                \"Type\": \"statusmessage\", // Legacy Widget\n                                \"__TypeDisplayName\": \"Status Message\",\n                                \"Id\": \"StatusInfo\",\n                                \"Area\": \"UI\",\n                                \"MessageType\": \"info\",\n                                \"Message\": \"This is an information message.\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Events\": [\n            {\n                \"EventTriggerId\": \"btn-info\",\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerId\": \"StatusInfo\",\n                \"EventHandlerService\": \"ShowMessage\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"binding-show-info\"\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    // Standard Payload wrapper...\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n    \n    // Idempotency: Delete first\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY, 'Accept': 'application/json' }\n        });\n        await new Promise(r => setTimeout(r, 1000));\n    } catch(e) {}\n\n    // Create\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson`;\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created.`);\n    } else {\n        console.error(`Error: ${response.status}`);\n    }\n}\n\ncreateMashup();\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 10: Navigation Functions",
    "content": "## Recipe 10: Navigation Functions\n\n**Objective**: Create navigation functions that can open target mashups in different window modes (new window, replace, popup, modal popup, fullscreen).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nNavigation functions are UI widgets that provide mashup navigation capabilities. They are used to navigate from one mashup to another with different display modes.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties",
    "content": "### Critical Properties\n\n> [!CAUTION]\n> The property name is **`TargetWindowType`** (NOT `TargetWindow`!). Using the wrong property name will result in all functions defaulting to \"new\" window mode.\n\n> [!IMPORTANT]\n> All `TargetWindowType` values **must be lowercase**. Capitalized values will not work correctly.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Navigation Function Widget Structure",
    "content": "### Navigation Function Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"navigationfunction\",\n        \"Id\": \"navigationfunction-id\",\n        \"DisplayName\": \"MyNavigation\",\n        \"Area\": \"UI\",\n        \n        // Target mashup configuration\n        \"TargetMashup\": \"target.mashup-name\",\n        \"TargetWindowType\": \"new\",  // CRITICAL: lowercase value!\n        \"MissingMashupMessage\": \"Error: Mashup not found\",\n        \n        // Popup-specific properties (for popup and modal-popup types)\n        \"PopupTitle\": \"My Popup Title\",\n        \"PopupWidth\": 800,   // 0 = auto\n        \"PopupHeight\": 600,  // 0 = auto\n        \"PopupScrollbar\": \"auto\",\n        \"CloseButton\": true,\n        \"ClickOutsideToClose\": false,\n        \n        // Standard properties\n        \"ReloadOnReplace\": false,\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"_currentParameterDefs\": []\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Window Types (TargetWindowType)",
    "content": "### Window Types (TargetWindowType)\n\nAll values **must be lowercase**:\n\n| Value | Display Name | Behavior |\n|-------|--------------|----------|\n| `\"new\"` | Neu | Opens mashup in a new browser window/tab |\n| `\"replace\"` | Ersetzen | Replaces the current mashup in the same window |\n| `\"popup\"` | Popup | Opens mashup in a non-modal popup window |\n| `\"modal-popup\"` | Modales Popup | Opens mashup in a modal popup (note the hyphen!) |\n| `\"fullscreen\"` | Vollbild | Opens mashup in fullscreen mode |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Popup Configuration Properties",
    "content": "### Popup Configuration Properties\n\nThese properties apply to `\"popup\"` and `\"modal-popup\"` window types:\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `PopupTitle` | STRING | `\"\"` | Title displayed in the popup window |\n| `PopupWidth` | NUMBER | `0` | Width in pixels (0 = auto-size) |\n| `PopupHeight` | NUMBER | `0` | Height in pixels (0 = auto-size) |\n| `PopupScrollbar` | STRING | `\"auto\"` | Scrollbar behavior: `\"auto\"`, `\"visible\"`, `\"hidden\"` |\n| `CloseButton` | BOOLEAN | `true` | Show close button in popup |\n| `ClickOutsideToClose` | BOOLEAN | `false` | Allow closing by clicking outside (modal-popup only) |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Binding",
    "content": "### Event Binding\n\nNavigation functions are triggered via the `Navigate` service:\n\n```javascript\n{\n    \"EventTriggerId\": \"button-id\",\n    \"EventTriggerEvent\": \"Clicked\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventTriggerSection\": \"\",\n    \"EventHandlerId\": \"navigationfunction-id\",\n    \"EventHandlerService\": \"Navigate\",\n    \"EventHandlerArea\": \"UI\",\n    \"Id\": \"event-binding-id\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\nThis example creates a mashup with 5 buttons, each using a different navigation type:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.navigation-demo\";\n\nasync function createNavigationMashup() {\n    console.log(`Creating Navigation Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Navigation Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Buttons\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-new\", \"Label\": \"New Window\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-replace\", \"Label\": \"Replace\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-popup\", \"Label\": \"Popup\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-modal\", \"Label\": \"Modal Popup\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-full\", \"Label\": \"Fullscreen\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        \n                        // Navigation Functions - CRITICAL: Use TargetWindowType (not TargetWindow!)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavNew\",\n                                \"DisplayName\": \"NavNew\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"new\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavReplace\",\n                                \"DisplayName\": \"NavReplace\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"replace\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavPopup\",\n                                \"DisplayName\": \"NavPopup\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"popup\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                // Popup-specific configuration\n                                \"PopupTitle\": \"My Popup Window\",\n                                \"PopupWidth\": 800,\n                                \"PopupHeight\": 600,\n                                \"PopupScrollbar\": \"auto\",\n                                \"CloseButton\": true,\n                                \"ClickOutsideToClose\": false,\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavModal\",\n                                \"DisplayName\": \"NavModal\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"modal-popup\",  // IMPORTANT: hyphen!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                // Modal popup configuration\n                                \"PopupTitle\": \"Modal Popup\",\n                                \"PopupWidth\": 800,\n                                \"PopupHeight\": 600,\n                                \"PopupScrollbar\": \"auto\",\n                                \"CloseButton\": true,\n                                \"ClickOutsideToClose\": false,\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavFullscreen\",\n                                \"DisplayName\": \"NavFullscreen\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"fullscreen\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [\n            {\n                \"EventTriggerId\": \"btn-new\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavNew\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-new\"\n            },\n            {\n                \"EventTriggerId\": \"btn-replace\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavReplace\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-replace\"\n            },\n            {\n                \"EventTriggerId\": \"btn-popup\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavPopup\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-popup\"\n            },\n            {\n                \"EventTriggerId\": \"btn-modal\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavModal\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-modal\"\n            },\n            {\n                \"EventTriggerId\": \"btn-full\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavFullscreen\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-fullscreen\"\n            }\n        ],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Navigation Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        }\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Navigation mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateNavigationMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Wrong Property Name**: Using `\"TargetWindow\"` instead of `\"TargetWindowType\"` will cause all navigation functions to default to \"new\" window mode, regardless of the value set.\n\n> [!CAUTION]\n> **Uppercase Values**: Values like `\"New\"`, `\"Replace\"`, `\"Popup\"` will not work. Always use lowercase: `\"new\"`, `\"replace\"`, `\"popup\"`.\n\n> [!CAUTION]\n> **Modal Popup Hyphen**: The modal popup type is `\"modal-popup\"` (with hyphen), not `\"modalpopup\"` or `\"modal\"`. This is the most common mistake.\n\n> [!WARNING]\n> **Popup Size**: Setting `PopupWidth` and `PopupHeight` to `0` means auto-size. The popup will size based on content. For fixed sizes, specify pixel values.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Navigation Function Widget**\n   - Set `Type: \"navigationfunction\"`\n   - Set `Area: \"UI\"`\n   - Configure `TargetMashup` with target mashup name\n\n2. **Set Window Type** (CRITICAL)\n   - Use property name: `TargetWindowType` (not `TargetWindow`!)\n   - Use lowercase value: `\"new\"`, `\"replace\"`, `\"popup\"`, `\"modal-popup\"`, or `\"fullscreen\"`\n\n3. **Configure Popup Properties** (for popup types only)\n   - Set `PopupTitle` for custom window title\n   - Set `PopupWidth` and `PopupHeight` for custom sizing (0 = auto)\n   - Configure `CloseButton` and `ClickOutsideToClose` as needed\n\n4. **Add Standard Properties**\n   - Include all required properties from example above\n   - `_currentParameterDefs: []` is required\n\n5. **Create Event Binding**\n   - Bind trigger event (e.g., Button `Clicked`) to navigation function's `Navigate` service\n   - Both `EventTriggerArea` and `EventHandlerArea` must be `\"UI\"`",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference Table",
    "content": "### Quick Reference Table\n\n| Property | Required | Example Value | Notes |\n|----------|----------|---------------|-------|\n| `Type` | \u2705 | `\"navigationfunction\"` | Widget type |\n| `Area` | \u2705 | `\"UI\"` | Must be UI |\n| `TargetMashup` | \u2705 | `\"mashup.name-mu\"` | Target mashup name |\n| `TargetWindowType` | \u2705 | `\"modal-popup\"` | **MUST be lowercase!** |\n| `PopupTitle` | \u26aa | `\"My Popup\"` | Only for popup types |\n| `PopupWidth` | \u26aa | `800` | Only for popup types (0=auto) |\n| `PopupHeight` | \u26aa | `600` | Only for popup types (0=auto) |\n| `CloseButton` | \u26aa | `true` | Show close button |\n| `MissingMashupMessage` | \u26aa | `\"Error\"` | Error message text |\n\n\u2705 = Required  |  \u26aa = Optional\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 11: AutoRefresh Function",
    "content": "## Recipe 11: AutoRefresh Function\n\n**Objective**: Create an autorefreshfunction widget that periodically triggers events for automatic data updates in dashboards and live monitoring displays.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `autorefreshfunction` is a function widget that provides periodic auto-refresh capabilities. It triggers a `Refresh` event at regular intervals, which can be used to invoke services and update data automatically without user intervention.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties",
    "content": "### Critical Properties\n\n> [!IMPORTANT]\n> The `RefreshInterval` represents seconds and can be set as a string or number. A value of `\"5\"` means the function triggers every 5 seconds.\n\n> [!TIP]\n> The `AutoRefresh` property can be bound to a toggle button, allowing users to enable/disable auto-refresh dynamically.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"autorefreshfunction\",\n        \"Id\": \"autorefreshfunction-id\",\n        \"DisplayName\": \"MyAutoRefresh\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"autorefreshfunction\",\n        \n        // Configuration\n        \"RefreshInterval\": \"5\",      // Interval in seconds\n        \"AutoRefresh\": true,          // Enable/disable auto-refresh\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Type` | STRING | - | Must be `\"autorefreshfunction\"` |\n| `Id` | STRING | - | Unique identifier for the widget |\n| `Area` | STRING | `\"UI\"` | Must be `\"UI\"` |\n| `RefreshInterval` | STRING/NUMBER | `\"0\"` | Interval in seconds between refresh triggers |\n| `AutoRefresh` | BOOLEAN | `false` | Enable/disable automatic refreshing |\n| `ShowDataLoading` | BOOLEAN | `true` | Show loading indicator |\n| `Visible` | BOOLEAN | `true` | Widget visibility |\n| `ResponsiveLayout` | BOOLEAN | `false` | Use responsive layout |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Inputs (Bindable Properties)",
    "content": "### Inputs (Bindable Properties)\n\nThe autorefreshfunction has two bindable input properties:\n\n#### 1. AutoRefresh (BOOLEAN)\n\nControls whether the function is actively refreshing.\n\n**Usage:**\n- Can be bound to toggle buttons for user control\n- Can be bound to boolean Thing properties\n- Dynamically enables/disables the refresh cycle\n\n**Example Binding:**\n```javascript\n{\n    \"Id\": \"binding-toggle-to-autorefresh\",\n    \"SourceId\": \"ptcstogglebutton-1\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"autorefreshfunction-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetProperty\": \"AutoRefresh\",\n        \"TargetPropertyType\": \"Property\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```\n\n#### 2. RefreshInterval (STRING/NUMBER)\n\nSets the interval in seconds between refresh events.\n\n**Usage:**\n- Can be bound to numeric input fields\n- Can be bound to Thing properties\n- Allows dynamic interval adjustment",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Outputs (Events)",
    "content": "### Outputs (Events)\n\n#### Refresh Event\n\nThe `Refresh` event is triggered periodically based on the `RefreshInterval` setting.\n\n**Usage:**\n- Bind to service invocations for automatic data updates\n- Typical targets: `GetPropertyValues`, `QueryPropertyHistory`, custom services\n- Enables real-time dashboard updates\n\n**Example Event Binding:**\n```javascript\n{\n    \"Id\": \"event-autorefresh-to-service\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"autorefreshfunction-id\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Things_MyThing\",\n    \"EventHandlerService\": \"GetPropertyValues\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Live Dashboards**\n   - Auto-update charts and gauges with latest values\n   - Typical interval: 5-10 seconds\n\n2. **Real-Time Monitoring**\n   - Monitor equipment status\n   - Track sensor readings\n   - Typical interval: 1-5 seconds\n\n3. **User-Controlled Refresh**\n   - Toggle button to enable/disable auto-refresh\n   - Saves resources when monitoring isn't needed\n\n4. **Property History Updates**\n   - Automatically fetch latest historical data\n   - Update time series charts",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\nThis example creates a mashup with a toggle button that controls an autorefresh function:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.autorefresh-demo\";\n\nasync function createMashup() {\n    console.log(`Creating AutoRefresh Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"AutoRefresh Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Toggle Button for controlling auto-refresh\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-autorefresh\",\n                                \"DisplayName\": \"toggle-refresh\",\n                                \"Label\": \"Enable Auto-Refresh\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label to show last update time\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-status\",\n                                \"LabelText\": \"Waiting for data...\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // AutoRefresh Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"autorefreshfunction\",\n                        \"Id\": \"autorefresh-main\",\n                        \"DisplayName\": \"MainRefresh\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"autorefreshfunction\",\n                        \"RefreshInterval\": \"5\",\n                        \"AutoRefresh\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [\n            // Bind Refresh event to service (example)\n            {\n                \"Id\": \"evt-refresh-data\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerArea\": \"Data\",\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerId\": \"autorefresh-main\",\n                \"EventTriggerEvent\": \"Refresh\",\n                \"EventHandlerId\": \"session\",\n                \"EventHandlerService\": \"GetGlobalSessionValues\"\n            }\n        ],\n        \"DataBindings\": [\n            // Bind toggle button to AutoRefresh property\n            {\n                \"Id\": \"binding-toggle-autorefresh\",\n                \"SourceId\": \"toggle-autorefresh\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"autorefresh-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"AutoRefresh\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"AutoRefresh Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 AutoRefresh mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Patterns",
    "content": "### Binding Patterns\n\n#### Pattern 1: Toggle Button \u2192 AutoRefresh\n\n**Purpose**: User control over auto-refresh\n\n```javascript\n{\n    \"SourceArea\": \"UI\",\n    \"TargetArea\": \"UI\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",           // Toggle button state\n        \"TargetProperty\": \"AutoRefresh\",     // AutoRefresh enable/disable\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```\n\n#### Pattern 2: Refresh Event \u2192 Service\n\n**Purpose**: Periodic data updates\n\n```javascript\n{\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerEvent\": \"Refresh\",          // Periodic trigger\n    \"EventHandlerService\": \"GetPropertyValues\"  // Data service\n}\n```\n\n#### Pattern 3: Multiple Services on Refresh\n\n**Purpose**: Update multiple data sources simultaneously\n\n```javascript\n// Event 1\n{\n    \"EventTriggerId\": \"autorefresh-main\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Thing1\",\n    \"EventHandlerService\": \"GetPropertyValues\"\n},\n// Event 2\n{\n    \"EventTriggerId\": \"autorefresh-main\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Thing2\",\n    \"EventHandlerService\": \"QueryPropertyHistory\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Performance Considerations**\n> - Use longer intervals (10+ seconds) for expensive services\n> - Use shorter intervals (1-5 seconds) for lightweight property reads\n> - Always provide user control via toggle button to disable when not needed\n\n> [!WARNING]\n> **Avoid Excessive Refresh Rates**\n> - Very short intervals (<1 second) can overload the server\n> - Consider the cost of the services being invoked\n> - Balance real-time needs with system performance\n\n> [!IMPORTANT]\n> **Initial State**\n> - Set `AutoRefresh: true` for immediate start\n> - Set `AutoRefresh: false` to require user activation\n> - Consider user experience and resource usage",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Forgetting Event Bindings**: The autorefreshfunction only triggers the `Refresh` event. You must bind this event to service invocations for it to do anything useful.\n\n> [!CAUTION]\n> **Wrong Area**: The autorefreshfunction must be in the UI area (`Area: \"UI\"`), not the Data area, even though it typically triggers data services.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create AutoRefresh Function**\n   - Set `Type: \"autorefreshfunction\"`\n   - Set `Area: \"UI\"`\n   - Configure `RefreshInterval` (in seconds)\n   - Set `AutoRefresh` to initial state (true/false)\n\n2. **Add User Control (Optional)**\n   - Add toggle button widget\n   - Bind toggle button `State` to autorefresh `AutoRefresh` property\n   - UI \u2192 UI data binding\n\n3. **Bind Refresh Event**\n   - Bind `Refresh` event to service(s)\n   - UI \u2192 Data event binding\n   - Can bind to multiple services\n\n4. **Test Intervals**\n   - Start with longer intervals during development\n   - Optimize based on update requirements\n   - Monitor server load",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `autorefreshfunction` | Function widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **Refresh Interval** | `\"5\"` | Seconds (string or number) |\n| **Auto Refresh** | `true`/`false` | Enable/disable |\n| **Refresh Event** | `Refresh` | Triggered periodically |\n| **Toggle Binding** | State \u2192 AutoRefresh | User control |\n| **Service Binding** | Refresh \u2192 Service | Data updates |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Input/Output Summary",
    "content": "### Input/Output Summary\n\n**INPUTS (Bindable Properties):**\n- `AutoRefresh` (BOOLEAN): Enable/disable automatic refresh\n- `RefreshInterval` (STRING/NUMBER): Interval in seconds\n\n**OUTPUTS (Events):**\n- `Refresh`: Triggered every `RefreshInterval` seconds when `AutoRefresh` is true\n\n**Typical Data Flow:**\n```\nToggle Button (State) \u2192 AutoRefresh Function (AutoRefresh Property)\n                              \u2193\n                    AutoRefresh Function (Refresh Event)\n                              \u2193\n                         Thing Services\n                              \u2193\n                         UI Widgets (via data bindings)\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 12: Event Router Function",
    "content": "## Recipe 12: Event Router Function\n\n**Objective**: Create an eventsrouter widget that routes events based on multiple input values, enabling conditional navigation and dynamic behavior.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `eventsrouter` is a function widget that provides event routing capabilities based on input values. It creates dynamic properties (Input1, Input2, ..., InputN) based on configuration and can route events to different handlers depending on the combination of input values.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties",
    "content": "### Critical Properties\n\n> [!IMPORTANT]\n> The `NumberOfInputs` property is a **string**, not a number. Use `\"3\"` instead of `3`.\n\n> [!IMPORTANT]\n> The `DataType` property determines the type of **all** inputs. All inputs will have the same data type.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"Id\": \"eventsrouter-id\",\n        \"DisplayName\": \"MyEventRouter\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Ereignis-Router\",\n        \n        // Configuration\n        \"NumberOfInputs\": \"3\",       // Number of inputs (as string)\n        \"DataType\": \"BOOLEAN\",       // Data type for all inputs\n        \"DataShape\": \"\",             // DataShape name (only for INFOTABLE)\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Type` | STRING | - | Must be `\"eventsrouter\"` |\n| `Id` | STRING | - | Unique identifier for the widget |\n| `Area` | STRING | `\"UI\"` | Must be `\"UI\"` |\n| `NumberOfInputs` | STRING | `\"1\"` | Number of inputs (as string, e.g., \"3\") |\n| `DataType` | STRING | `\"STRING\"` | Data type for all inputs |\n| `DataShape` | STRING | `\"\"` | DataShape name (only for INFOTABLE type) |\n| `ShowDataLoading` | BOOLEAN | `true` | Show loading indicator |\n| `Visible` | BOOLEAN | `true` | Widget visibility |\n| `ResponsiveLayout` | BOOLEAN | `false` | Use responsive layout |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Dynamic Input Properties",
    "content": "### Dynamic Input Properties\n\nBased on the `NumberOfInputs` property, the event router automatically creates input properties:\n\n**Example: NumberOfInputs = \"3\"**\n- Creates: `Input1`, `Input2`, `Input3`\n- All inputs have the type specified in `DataType`\n\n**Example: NumberOfInputs = \"5\"**\n- Creates: `Input1`, `Input2`, `Input3`, `Input4`, `Input5`",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Supported Data Types",
    "content": "### Supported Data Types\n\n| DataType | Description | Common Sources |\n|----------|-------------|----------------|\n| `BOOLEAN` | True/False values | Toggle buttons, checkboxes |\n| `STRING` | Text values | Text fields, dropdowns |\n| `NUMBER` | Numeric values (decimal) | Numeric entries, sliders |\n| `INTEGER` | Whole number values | Integer inputs |\n| `INFOTABLE` | Data tables | Grids, data services |\n| `DATETIME` | Date/time values | Date pickers |\n| `JSON` | JSON objects | Custom widgets |\n\n> [!TIP]\n> For `INFOTABLE` data type, you must also specify the `DataShape` property.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Inputs (Bindable Properties)",
    "content": "### Inputs (Bindable Properties)\n\nThe event router's inputs are dynamically created based on configuration:\n\n**Input Properties:**\n- Property names: `Input1`, `Input2`, ..., `InputN` (where N = NumberOfInputs)\n- All inputs share the same `DataType`\n- Can be bound to any widget property with matching type\n\n**Example Binding (BOOLEAN):**\n```javascript\n{\n    \"Id\": \"binding-toggle-to-router\",\n    \"SourceId\": \"toggle-button-1\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"eventsrouter-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetProperty\": \"Input1\",          // Dynamic input property\n        \"TargetPropertyType\": \"Property\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Outputs (Events)",
    "content": "### Outputs (Events)\n\nThe event router triggers events based on the combination of input values:\n\n**Event Routing:**\n- Routes to different event handlers based on input state\n- Supports conditional navigation\n- Enables complex decision logic\n\n**Example Event Binding:**\n```javascript\n{\n    \"Id\": \"event-router-action\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"UI\",  // or \"Data\" for services\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"eventsrouter-id\",\n    \"EventTriggerEvent\": \"RouteSelected\",  // Event name depends on configuration\n    \"EventHandlerId\": \"navigation-function-id\",\n    \"EventHandlerService\": \"Navigate\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Conditional Navigation**\n   - Different mashups based on user selections\n   - Navigate to different views based on toggle states\n\n2. **Multi-Condition Actions**\n   - Trigger different services based on multiple inputs\n   - Complex form validation\n\n3. **Dynamic Behavior**\n   - Show/hide panels based on combinations\n   - Enable/disable features based on states\n\n4. **User Preference Routing**\n   - Route to different experiences based on user settings\n   - Personalized workflows",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\nThis example creates a mashup with 3 toggle buttons controlling an event router:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.eventrouter-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Event Router Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Event Router Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Toggle Button 1\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-1\",\n                                \"DisplayName\": \"toggle-1\",\n                                \"Label\": \"Option 1\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Toggle Button 2\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-2\",\n                                \"DisplayName\": \"toggle-2\",\n                                \"Label\": \"Option 2\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Toggle Button 3\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-3\",\n                                \"DisplayName\": \"toggle-3\",\n                                \"Label\": \"Option 3\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Event Router\n                {\n                    \"Properties\": {\n                        \"Type\": \"eventsrouter\",\n                        \"Id\": \"router-main\",\n                        \"DisplayName\": \"MainRouter\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Ereignis-Router\",\n                        \"NumberOfInputs\": \"3\",\n                        \"DataType\": \"BOOLEAN\",\n                        \"DataShape\": \"\",\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [\n            // Bind toggle 1 to Input1\n            {\n                \"Id\": \"binding-toggle1-input1\",\n                \"SourceId\": \"toggle-1\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"router-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"Input1\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            },\n            // Bind toggle 2 to Input2\n            {\n                \"Id\": \"binding-toggle2-input2\",\n                \"SourceId\": \"toggle-2\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"router-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"Input2\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            },\n            // Bind toggle 3 to Input3\n            {\n                \"Id\": \"binding-toggle3-input3\",\n                \"SourceId\": \"toggle-3\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"router-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"Input3\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Event Router Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Event Router mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Patterns",
    "content": "### Binding Patterns\n\n#### Pattern 1: Toggle Buttons \u2192 Event Router\n\n**Purpose**: User control via multiple toggles\n\n```javascript\n{\n    \"SourceArea\": \"UI\",\n    \"TargetArea\": \"UI\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",           // Toggle button state\n        \"TargetProperty\": \"Input1\",          // Router input (dynamic)\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```\n\n#### Pattern 2: Text Fields \u2192 Event Router (STRING)\n\n**Purpose**: Route based on text values\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"NumberOfInputs\": \"2\",\n        \"DataType\": \"STRING\",  // String inputs\n        \"DataShape\": \"\"\n    }\n}\n\n// Binding\n{\n    \"SourceProperty\": \"Text\",              // Text field value\n    \"TargetProperty\": \"Input1\",\n    \"SourcePropertyBaseType\": \"STRING\",\n    \"TargetPropertyBaseType\": \"STRING\"\n}\n```\n\n#### Pattern 3: Numeric Inputs \u2192 Event Router\n\n**Purpose**: Route based on numeric thresholds\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"NumberOfInputs\": \"3\",\n        \"DataType\": \"NUMBER\",  // Numeric inputs\n        \"DataShape\": \"\"\n    }\n}\n\n// Binding\n{\n    \"SourceProperty\": \"Value\",             // Numeric entry value\n    \"TargetProperty\": \"Input1\",\n    \"SourcePropertyBaseType\": \"NUMBER\",\n    \"TargetPropertyBaseType\": \"NUMBER\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Keep It Simple**\n> - Start with 2-3 inputs for clarity\n> - Use descriptive DisplayNames for the router\n> - Document the routing logic in mashup description\n\n> [!TIP]\n> **Consistent Data Types**\n> - All inputs must be the same type\n> - Match source widget types to router DataType\n> - Use type conversion widgets if needed\n\n> [!WARNING]\n> **Input Numbering**\n> - Inputs are named Input1, Input2, etc. (starting at 1, not 0)\n> - Must bind to exact property names (case-sensitive)\n> - NumberOfInputs cannot be changed after binding without recreating bindings",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **NumberOfInputs as String**: The `NumberOfInputs` property must be a string (`\"3\"`), not a number (`3`). Using a number will cause errors.\n\n> [!CAUTION]\n> **Mismatched Data Types**: All bindings to the event router must match the `DataType` property. Binding a STRING source to a BOOLEAN router will fail.\n\n> [!CAUTION]\n> **Wrong Input Names**: Input properties are `Input1`, `Input2`, etc. Common mistakes:\n> - \u274c `input1` (lowercase)\n> - \u274c `Input_1` (underscore)\n> - \u274c `Input0` (zero-based)\n> - \u2705 `Input1` (correct)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Event Router**\n   - Set `Type: \"eventsrouter\"`\n   - Set `Area: \"UI\"`\n   - Configure `NumberOfInputs` (as string)\n   - Set `DataType` for all inputs\n   - Set `DataShape` (only for INFOTABLE)\n\n2. **Add Source Widgets**\n   - Create widgets matching the DataType\n   - Toggle buttons for BOOLEAN\n   - Text fields for STRING\n   - Numeric entries for NUMBER\n\n3. **Bind Sources to Inputs**\n   - Create data bindings for each input\n   - UI \u2192 UI binding pattern\n   - Match property types exactly\n\n4. **Configure Event Routing**\n   - Bind router events to handlers\n   - Set up conditional navigation\n   - Test different input combinations",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `eventsrouter` | Function widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **NumberOfInputs** | `\"3\"` | String (not number!) |\n| **DataType** | `\"BOOLEAN\"` | All inputs same type |\n| **Input Names** | `Input1`, `Input2`, ... | Dynamic properties |\n| **Binding Type** | UI \u2192 UI | Source widgets to router |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Input/Output Summary",
    "content": "### Input/Output Summary\n\n**INPUTS (Dynamic Properties):**\n- Created automatically based on `NumberOfInputs`\n- Named: `Input1`, `Input2`, `Input3`, ..., `InputN`\n- Type: Specified by `DataType` property\n- Example: 3 BOOLEAN inputs for 3 toggle buttons\n\n**OUTPUTS (Events):**\n- Routed events based on input combinations\n- Can trigger navigation, services, or UI changes\n- Event names depend on router configuration\n\n  **Typical Data Flow:**\n```\nToggle Buttons (State) \u2192 Event Router (Input1, Input2, Input3)\n                              \u2193\n                     Event Router Logic\n                              \u2193\n                    Routed Event Triggered\n                              \u2193\n              Navigation / Services / UI Changes\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 13: Validator Function",
    "content": "## Recipe 13: Validator Function\n\n**Objective**: Create a validator widget that evaluates expressions based on parameters, enabling validation logic and conditional behavior.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `validator` is a function widget that evaluates JavaScript expressions with parameters. It's commonly used for input validation, conditional logic, and expression evaluation. The validator can automatically evaluate expressions when parameter values change.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties and Common Pitfalls",
    "content": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Must Be a String**: The most critical pitfall is that `DefaultValue` in parameter definitions must be a **string**, not a number. Use `\"1\"` instead of `1`, even for NUMBER types.\n\n> [!CAUTION]\n> **Property Name is PascalCase**: The property name is `DefaultValue` (capital D and V), **NOT** `defaultValue` (camelCase). Using the wrong case will cause the default value to be ignored.\n\n> [!WARNING]\n> **Zero Value Issue**: Using `\"0\"` as DefaultValue may be interpreted as null/empty in some cases. It's safer to use `\"1\"` or another non-zero value for NUMBER types when a default is required.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"validator\",\n        \"Id\": \"validator-id\",\n        \"DisplayName\": \"MyValidator\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Validierer\",\n        \"Width\": 200,\n        \"Height\": 28,\n        \n        // Expression to evaluate\n        \"Expression\": \"Age >= 18 && Age <= 65;\\n\",\n        \n        // Checkboxes\n        \"AutoEvaluate\": true,    // Automatisch auswerten\n        \"Output\": true,          // Ausdruck (enables expression output)\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \n        // Parameter definitions\n        \"_currentParameterDefs\": [\n            {\n                \"ParameterName\": \"Age\",\n                \"Description\": \"Alter\",          // Tooltip\n                \"DefaultValue\": \"1\",             // MUST be string!\n                \"BaseType\": \"NUMBER\",\n                \"bindingDirection\": \"Target\",\n                \"bindingType\": \"Property\",\n                \"isBindingTarget\": true,\n                \"isBindingSource\": false,\n                \"shown\": true\n            }\n        ]\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | \u2705 | Must be `\"validator\"` |\n| `Id` | STRING | \u2705 | Unique identifier |\n| `Area` | STRING | \u2705 | Must be `\"UI\"` |\n| `Expression` | STRING | \u2705 | JavaScript expression to evaluate |\n| `AutoEvaluate` | BOOLEAN | \u26aa | Auto-evaluate when parameters change |\n| `Output` | BOOLEAN | \u26aa | Enable expression output (Ausdruck checkbox) |\n| `Width` | NUMBER | \u26aa | Widget width (typically 200) |\n| `Height` | NUMBER | \u26aa | Widget height (typically 28) |\n| `_currentParameterDefs` | ARRAY | \u26aa | Parameter definitions |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Definition Structure",
    "content": "### Parameter Definition Structure\n\nEach parameter in `_currentParameterDefs` has the following structure:\n\n```javascript\n{\n    \"ParameterName\": \"Age\",           // Parameter name (used in Expression)\n    \"Description\": \"Alter\",           // Tooltip text\n    \"DefaultValue\": \"1\",              // \u26a0\ufe0f MUST be STRING, even for NUMBER!\n    \"BaseType\": \"NUMBER\",             // Data type: NUMBER, STRING, BOOLEAN, etc.\n    \"bindingDirection\": \"Target\",     // \"Target\", \"Source\", or \"Both\"\n    \"bindingType\": \"Property\",        // Usually \"Property\"\n    \"isBindingTarget\": true,          // Can receive data bindings\n    \"isBindingSource\": false,         // Can provide data bindings\n    \"shown\": true                     // Visible in UI\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Properties Detail",
    "content": "### Parameter Properties Detail\n\n| Property | Type | Description | Example |\n|----------|------|-------------|---------|\n| `ParameterName` | STRING | Variable name in expression | `\"Age\"` |\n| `Description` | STRING | Tooltip text | `\"Alter\"` |\n| `DefaultValue` | **STRING** | Default value (always string!) | `\"1\"`, `\"Hello\"`, `\"true\"` |\n| `BaseType` | STRING | Data type | `\"NUMBER\"`, `\"STRING\"`, `\"BOOLEAN\"` |\n| `bindingDirection` | STRING | Binding direction | `\"Target\"`, `\"Source\"`, `\"Both\"` |\n| `bindingType` | STRING | Binding type | `\"Property\"` |\n| `isBindingTarget` | BOOLEAN | Can receive bindings | `true` |\n| `isBindingSource` | BOOLEAN | Can provide bindings | `false` |\n| `shown` | BOOLEAN | Visible in parameter list | `true` |\n\n> [!IMPORTANT]\n> **DefaultValue Type Conversion**: Even though `BaseType` might be `NUMBER` or `BOOLEAN`, the `DefaultValue` must always be a **string**. ThingWorx will convert it to the appropriate type.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Expression Format",
    "content": "### Expression Format\n\nThe `Expression` property contains JavaScript code:\n\n**Valid Expression Examples:**\n```javascript\n// Age validation\n\"Age >= 18 && Age <= 65;\\n\"\n\n// String validation\n\"Name.length > 0 && Name.length < 50;\\n\"\n\n// Boolean logic\n\"IsActive && !IsDeleted;\\n\"\n\n// Complex expression\n\"(Age >= 18 || HasPermission) && Status === 'Active';\\n\"\n```\n\n> [!TIP]\n> Always end expressions with `;\\n` (semicolon and newline). This is the standard format used by ThingWorx.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checkbox Settings",
    "content": "### Checkbox Settings\n\n**AutoEvaluate:**\n- `true`: Expression evaluates automatically when parameters change\n- `false`: Expression must be triggered manually\n\n**Output (Ausdruck):**\n- `true`: Expression result is available as output\n- `false`: Expression result is not exposed",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Input Validation**\n   - Validate age ranges\n   - Check string lengths\n   - Verify numeric bounds\n\n2. **Conditional Logic**\n   - Enable/disable buttons based on conditions\n   - Show/hide sections based on rules\n   - Filter data based on criteria\n\n3. **Business Rules**\n   - Validate business logic\n   - Check constraints\n   - Enforce requirements\n\n4. **Expression Evaluation**\n   - Calculate derived values\n   - Combine multiple conditions\n   - Complex decision logic",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.validator-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Validator Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Validator Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Numeric input for Age\n                        {\n                            \"Properties\": {\n                                \"Type\": \"numericentry\",\n                                \"Id\": \"input-age\",\n                                \"Label\": \"Age:\",\n                                \"Value\": 1,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label to show validation result\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-result\",\n                                \"LabelText\": \"Enter age to validate\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Validator Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"validator\",\n                        \"Id\": \"age-validator\",\n                        \"DisplayName\": \"AgeValidator\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Validierer\",\n                        \"Width\": 200,\n                        \"Height\": 28,\n                        \"Expression\": \"Age >= 18 && Age <= 65;\\n\",\n                        \"AutoEvaluate\": true,\n                        \"Output\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"_currentParameterDefs\": [\n                            {\n                                \"ParameterName\": \"Age\",\n                                \"Description\": \"Alter\",\n                                \"DefaultValue\": \"1\",      // String, not number!\n                                \"BaseType\": \"NUMBER\",\n                                \"bindingDirection\": \"Target\",\n                                \"bindingType\": \"Property\",\n                                \"isBindingTarget\": true,\n                                \"isBindingSource\": false,\n                                \"shown\": true\n                            }\n                        ]\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [\n            // Bind numeric input to validator parameter\n            {\n                \"Id\": \"binding-input-to-validator\",\n                \"SourceId\": \"input-age\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"age-validator\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"Value\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"NUMBER\",\n                    \"TargetProperty\": \"Age\",      // Parameter name\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"NUMBER\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Validator Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Validator mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Pattern: Input \u2192 Validator Parameter",
    "content": "### Binding Pattern: Input \u2192 Validator Parameter\n\n**Purpose**: Bind user input to validator parameters for validation\n\n```javascript\n{\n    \"SourceId\": \"numeric-input-id\",\n    \"TargetId\": \"validator-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",           // Input value\n        \"TargetProperty\": \"Age\",             // Parameter name from validator\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Use Descriptive Parameter Names**\n> - Use clear names that match your domain (Age, Price, Quantity)\n> - These names appear in the expression and in the UI\n> - Make them easy to understand for future maintenance\n\n> [!TIP]\n> **Provide Meaningful Descriptions**\n> - The Description field shows as tooltip\n> - Help users understand what each parameter does\n> - Include units or expected ranges if applicable\n\n> [!TIP]\n> **Test Expressions Before Deployment**\n> - Use simple test cases to verify logic\n> - Consider edge cases (min/max values)\n> - Test with invalid inputs",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue as Number**: The most common mistake:\n> - \u274c Wrong: `\"DefaultValue\": 1` (number)\n> - \u274c Wrong: `\"defaultValue\": \"1\"` (wrong property name)\n> - \u2705 Correct: `\"DefaultValue\": \"1\"` (string with PascalCase)\n\n> [!CAUTION]\n> **Zero Values**: Using `\"0\"` as default can cause issues:\n> - May be interpreted as null/empty\n> - Safer to use `\"1\"` or another non-zero default\n> - Or use empty string `\"\"` if zero is not critical\n\n> [!CAUTION]\n> **Expression Syntax**: Common expression mistakes:\n> - Missing semicolon at end: `Age >= 18` \u274c\n> - Correct: `Age >= 18;\\n` \u2705\n> - Using `=` instead of `===`: `Status = \"Active\"` \u274c\n> - Correct: `Status === \"Active\"` \u2705\n\n> [!CAUTION]\n> **Parameter Name Mismatch**: Parameter name in definition must exactly match usage in expression:\n> - Definition: `\"ParameterName\": \"Age\"`\n> - Expression must use: `Age` (exact match, case-sensitive)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Troubleshooting Guide",
    "content": "### Troubleshooting Guide\n\n**Problem: Default value not showing**\n- \u2705 Check: Is it `DefaultValue` (PascalCase)?\n- \u2705 Check: Is the value a string (`\"1\"` not `1`)?\n- \u2705 Try: Use non-zero value like `\"1\"` instead of `\"0\"`\n\n**Problem: Expression not evaluating**\n- \u2705 Check: Is `AutoEvaluate` set to `true`?\n- \u2705 Check: Does expression end with `;\\n`?\n- \u2705 Check: Are parameter names spelled correctly?\n\n**Problem: Parameter not bindable**\n- \u2705 Check: Is `isBindingTarget` set to `true`?\n- \u2705 Check: Is `bindingDirection` set to `\"Target\"` or `\"Both\"`?\n- \u2705 Check: Is `shown` set to `true`?",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Validator Widget**\n   - Set `Type: \"validator\"`\n   - Set `Area: \"UI\"`\n   - Define unique `Id` and `DisplayName`\n\n2. **Configure Expression**\n   - Write JavaScript expression\n   - End with `;\\n`\n   - Use parameter names exactly as defined\n\n3. **Define Parameters**\n   - Add to `_currentParameterDefs` array\n   - Set `ParameterName` (used in expression)\n   - Set `Description` (tooltip)\n   - Set `DefaultValue` as **STRING** (critical!)\n   - Set `BaseType` appropriately\n\n4. **Set Checkboxes**\n   - `AutoEvaluate: true` for automatic validation\n   - `Output: true` to expose result\n\n5. **Create Bindings**\n   - Bind input widgets to validator parameters\n   - UI \u2192 UI binding pattern\n   - Match parameter names exactly",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `validator` | Validation/expression widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **DefaultValue** | `\"1\"` | String! PascalCase! |\n| **Expression Format** | `Age >= 18;\\n` | End with ;\\n |\n| **AutoEvaluate** | `true`/`false` | Auto-evaluation |\n| **Output** | `true`/`false` | Expression output |\n| **Parameter Binding** | Input \u2192 Validator | UI \u2192 UI binding |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Lessons Learned",
    "content": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **DefaultValue Type Issue** \u26a0\ufe0f\n   - First attempt used `defaultValue: 0` (camelCase number)\n   - This was silently ignored by ThingWorx\n   - Correct: `DefaultValue: \"1\"` (PascalCase string)\n\n2. **Zero Value Problem** \u26a0\ufe0f\n   - Using `\"0\"` as default may not work reliably\n   - ThingWorx may interpret it as null/empty\n   - Better to use `\"1\"` or non-zero values\n\n3. **Case Sensitivity** \u26a0\ufe0f\n   - Property name is `DefaultValue`, not `defaultValue`\n   - Parameter names in expressions are case-sensitive\n   - All property names must match exactly\n\n**Typical Data Flow:**\n```\nUser Input (Value) \u2192 Validator Parameter (Age)\n                              \u2193\n                    Expression Evaluation\n                              \u2193\n                      Validator Output\n                              \u2193\n                    UI Actions / Validation\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 14: Expression Function",
    "content": "## Recipe 14: Expression Function\n\n**Objective**: Create an expression widget that evaluates JavaScript expressions with parameters, enabling complex logic, calculations, and data transformations.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `expression` is a function widget that evaluates JavaScript code with custom parameters. Unlike the validator widget which is focused on validation logic, the expression widget is designed for general-purpose expression evaluation, calculations, and data transformation. It provides more control over output types and data change behavior.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties and Common Pitfalls",
    "content": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Must Be a String**: Just like the validator, the `DefaultValue` in parameter definitions must be a **string**, not a number. Use `\"2\"` instead of `2`, even for NUMBER types.\n\n> [!CAUTION]\n> **Property Name is PascalCase**: The property name is `DefaultValue` (capital D and V), **NOT** `defaultValue` (camelCase).\n\n> [!IMPORTANT]\n> **Widget Type Discovery**: The widget type is `\"expression\"`, with German display name `\"Ausdruck\"`. When searching for examples, be aware of potential naming variations.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"expression\",\n        \"Id\": \"expression-id\",\n        \"DisplayName\": \"MyExpression\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Ausdruck\",\n        \"Width\": 200,\n        \"Height\": 28,\n        \n        // JavaScript expression code\n        \"Expression\": \"if(age>18) {result = \\\"vollj\u00e4hrig\\\"}\\n\",\n        \n        // Checkbox settings\n        \"AutoEvaluate\": true,        // Automatisch auswerten\n        \"FireOnFirstValue\": true,    // Bei erstem Wert ausl\u00f6sen\n        \n        // Data and output configuration\n        \"DataChangeType\": \"NEVER\",   // NEVER, VALUE, or ALWAYS\n        \"OutputBaseType\": \"BOOLEAN\", // Output data type\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \n        // Parameter definitions\n        \"_currentParameterDefs\": [\n            {\n                \"ParameterName\": \"age\",\n                \"Description\": \"alter\",          // Tooltip\n                \"DefaultValue\": \"2\",             // MUST be string!\n                \"BaseType\": \"NUMBER\",\n                \"bindingDirection\": \"Target\",\n                \"bindingType\": \"Property\",\n                \"isBindingTarget\": true,\n                \"isBindingSource\": false,\n                \"shown\": true\n            }\n        ]\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | \u2705 | Must be `\"expression\"` |\n| `Id` | STRING | \u2705 | Unique identifier |\n| `Area` | STRING | \u2705 | Must be `\"UI\"` |\n| `Expression` | STRING | \u2705 | JavaScript code to evaluate |\n| `AutoEvaluate` | BOOLEAN | \u26aa | Auto-evaluate when parameters change |\n| `FireOnFirstValue` | BOOLEAN | \u26aa | Trigger on first value received |\n| `DataChangeType` | STRING | \u26aa | When to propagate changes |\n| `OutputBaseType` | STRING | \u26aa | Output data type |\n| `Width` | NUMBER | \u26aa | Widget width (typically 200) |\n| `Height` | NUMBER | \u26aa | Widget height (typically 28) |\n| `_currentParameterDefs` | ARRAY | \u26aa | Parameter definitions |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Expression Property",
    "content": "### Expression Property\n\nThe `Expression` property contains JavaScript code that is evaluated:\n\n**Key Points:**\n- Use parameter names exactly as defined in `_currentParameterDefs`\n- Assign result to the `result` variable\n- Can include complex logic with if/else, loops, etc.\n- Can perform calculations and string operations\n\n**Example Expressions:**\n\n```javascript\n// Simple conditional\n\"if(age>18) {result = \\\"vollj\u00e4hrig\\\"}\\n\"\n\n// Calculation\n\"result = price * quantity * (1 + taxRate);\\n\"\n\n// Multiple conditions\n\"if(age < 18) {\\n  result = \\\"minor\\\";\\n} else if(age < 65) {\\n  result = \\\"adult\\\";\\n} else {\\n  result = \\\"senior\\\";\\n}\\n\"\n\n// Boolean logic\n\"result = (status === 'active' && balance > 0);\\n\"\n\n// String concatenation\n\"result = firstName + ' ' + lastName;\\n\"\n```\n\n> [!TIP]\n> End expressions with `\\n` (newline). This is the standard format used by ThingWorx.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checkbox Settings",
    "content": "### Checkbox Settings\n\n#### AutoEvaluate (Automatisch auswerten)\n\n- **`true`**: Expression evaluates automatically when any parameter value changes\n- **`false`**: Expression must be triggered manually (e.g., via button click)\n\n**Use `true` when:**\n- Real-time calculation is needed\n- Output should update as user types\n- Live validation or feedback\n\n**Use `false` when:**\n- Calculation is expensive\n- User should control when to evaluate\n- Batch processing is preferred\n\n#### FireOnFirstValue (Bei erstem Wert ausl\u00f6sen)\n\n- **`true`**: Expression executes immediately when the first value is received\n- **`false`**: Expression waits for subsequent value changes\n\n**Use `true` when:**\n- Initial calculation is needed on page load\n- Default values should be processed\n\n**Use `false` when:**\n- Only user-initiated changes should trigger evaluation\n- Initial state should remain unchanged",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "DataChangeType (Datei\u00e4nderungstyp)",
    "content": "### DataChangeType (Datei\u00e4nderungstyp)\n\nControls when data changes are propagated:\n\n| Value | Description | Use Case |\n|-------|-------------|----------|\n| `\"NEVER\"` | No automatic propagation | Manual control of updates |\n| `\"VALUE\"` | Propagate when value changes | Normal reactive behavior |\n| `\"ALWAYS\"` | Always propagate | Force updates even if value unchanged |\n\n> [!TIP]\n> Use `\"NEVER\"` when you want to control data flow manually, `\"VALUE\"` for standard reactive updates, and `\"ALWAYS\"` only when guaranteed updates are needed.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "OutputBaseType (Ausgabe-Basistyp)",
    "content": "### OutputBaseType (Ausgabe-Basistyp)\n\nDefines the data type of the expression result:\n\n| Type | Description | Example Result |\n|------|-------------|----------------|\n| `\"BOOLEAN\"` | True/False | `true`, `false` |\n| `\"STRING\"` | Text | `\"vollj\u00e4hrig\"`, `\"Hello\"` |\n| `\"NUMBER\"` | Decimal number | `42.5`, `3.14` |\n| `\"INTEGER\"` | Whole number | `42`, `100` |\n| `\"DATETIME\"` | Date/time | Date objects |\n| `\"JSON\"` | JSON object | `{\"key\": \"value\"}` |\n| `\"INFOTABLE\"` | Data table | ThingWorx InfoTable |\n\n> [!IMPORTANT]\n> The `OutputBaseType` should match the type of value assigned to `result` in your expression. Mismatches may cause type conversion errors.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Configuration",
    "content": "### Parameter Configuration\n\nParameters work exactly like validator widget parameters:\n\n```javascript\n{\n    \"ParameterName\": \"age\",           // Variable name in Expression\n    \"Description\": \"alter\",           // Tooltip text\n    \"DefaultValue\": \"2\",              // \u26a0\ufe0f STRING, not number!\n    \"BaseType\": \"NUMBER\",             // Data type\n    \"bindingDirection\": \"Target\",     // Target, Source, or Both\n    \"bindingType\": \"Property\",\n    \"isBindingTarget\": true,\n    \"isBindingSource\": false,\n    \"shown\": true\n}\n```\n\n**See Recipe 13 (Validator Function) for detailed parameter documentation.**",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Calculations**\n   - Price calculations with tax\n   - Discount computations\n   - Mathematical formulas\n   - Unit conversions\n\n2. **Data Transformations**\n   - String concatenation\n   - Date formatting\n   - Case conversion\n   - Data normalization\n\n3. **Conditional Logic**\n   - Age-based categorization\n   - Status determination\n   - Eligibility checks\n   - Dynamic text generation\n\n4. **Complex Business Logic**\n   - Multi-step calculations\n   - Decision trees\n   - Rule evaluation\n   - Score computation",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.expression-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Expression Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Expression Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Numeric input\n                        {\n                            \"Properties\": {\n                                \"Type\": \"numericentry\",\n                                \"Id\": \"input-age\",\n                                \"Label\": \"Age:\",\n                                \"Value\": 2,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label for result\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-result\",\n                                \"LabelText\": \"Result will appear here\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Expression Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"expression\",\n                        \"Id\": \"age-expression\",\n                        \"DisplayName\": \"AgeExpression\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Ausdruck\",\n                        \"Width\": 200,\n                        \"Height\": 28,\n                        \"Expression\": \"if(age>18) {result = \\\"vollj\u00e4hrig\\\"}\\n\",\n                        \"AutoEvaluate\": true,\n                        \"FireOnFirstValue\": true,\n                        \"DataChangeType\": \"NEVER\",\n                        \"OutputBaseType\": \"BOOLEAN\",\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"_currentParameterDefs\": [\n                            {\n                                \"ParameterName\": \"age\",\n                                \"Description\": \"alter\",\n                                \"DefaultValue\": \"2\",\n                                \"BaseType\": \"NUMBER\",\n                                \"bindingDirection\": \"Target\",\n                                \"bindingType\": \"Property\",\n                                \"isBindingTarget\": true,\n                                \"isBindingSource\": false,\n                                \"shown\": true\n                            }\n                        ]\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [\n            // Bind numeric input to expression parameter\n            {\n                \"Id\": \"binding-input-to-expression\",\n                \"SourceId\": \"input-age\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"age-expression\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"Value\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"NUMBER\",\n                    \"TargetProperty\": \"age\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"NUMBER\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Expression Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Expression mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Pattern: Input \u2192 Expression Parameter",
    "content": "### Binding Pattern: Input \u2192 Expression Parameter\n\n**Purpose**: Bind user input to expression parameters\n\n```javascript\n{\n    \"SourceId\": \"numeric-input-id\",\n    \"TargetId\": \"expression-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"TargetProperty\": \"age\",             // Parameter name from expression\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Expression vs. Validator",
    "content": "### Expression vs. Validator\n\n| Feature | Expression | Validator |\n|---------|-----------|-----------|\n| **Primary Use** | General calculations & transformations | Validation logic |\n| **Output Control** | `OutputBaseType` configurable | Fixed to validation result |\n| **Data Change** | `DataChangeType` option | Standard behavior |\n| **Fire on First** | `FireOnFirstValue` option | Not available |\n| **Flexibility** | More control options | Simpler, focused on validation |\n\n> [!TIP]\n> Use **expression** for calculations and data transformations. Use **validator** for simple validation checks.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Clear Parameter Names**\n> - Use descriptive names (age, price, quantity)\n> - Match business domain terminology\n> - Keep names concise but meaningful\n\n> [!TIP]\n> **Output Type Matching**\n> - Ensure `OutputBaseType` matches your result type\n> - STRING for text results (`\"vollj\u00e4hrig\"`)\n> - BOOLEAN for true/false (`true`, `false`)\n> - NUMBER for calculations (`42.5`)\n\n> [!TIP]\n> **Expression Format**\n> - Keep expressions readable\n> - Use proper indentation for multi-line code\n> - Add comments in complex expressions\n> - Test with various input values",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Type**: Same as validator - must be STRING!\n> - \u274c `\"DefaultValue\": 2` (number)\n> - \u2705 `\"DefaultValue\": \"2\"` (string)\n\n> [!CAUTION]\n> **Result Variable**: Always assign to `result`\n> - \u274c `output = \"text\"` (wrong variable)\n> - \u2705 `result = \"text\"` (correct)\n\n> [!CAUTION]\n> **Parameter Name Case**: Names are case-sensitive\n> - Definition: `\"ParameterName\": \"age\"`\n> - Expression must use: `age` (exact match)\n> - \u274c `Age`, `AGE` (wrong case)\n\n> [!CAUTION]\n> **Output Type Mismatch**: Result must match OutputBaseType\n> - `OutputBaseType: \"BOOLEAN\"` \u2192 result must be true/false\n> - `OutputBaseType: \"STRING\"` \u2192 result must be text\n> - Type mismatches can cause errors",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Troubleshooting Guide",
    "content": "### Troubleshooting Guide\n\n**Problem: Expression not evaluating**\n- \u2705 Check: Is `AutoEvaluate` set to `true`?\n- \u2705 Check: Are parameter names spelled correctly in expression?\n- \u2705 Check: Is `result` variable assigned in expression?\n\n**Problem: Wrong output type**\n- \u2705 Check: Does `OutputBaseType` match result type?\n- \u2705 Check: Is result value the correct type?\n- \u2705 Try: Add type conversion in expression (e.g., `String()`, `Number()`)\n\n**Problem: Default value not working**\n- \u2705 Check: Is `DefaultValue` a string (`\"2\"` not `2`)?\n- \u2705 Check: Is property name `DefaultValue` (PascalCase)?\n- \u2705 Try: Use non-zero value like `\"1\"` instead of `\"0\"`\n\n**Problem: Expression doesn't fire on load**\n- \u2705 Check: Is `FireOnFirstValue` set to `true`?\n- \u2705 Check: Are default values provided for all parameters?",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Expression Widget**\n   - Set `Type: \"expression\"`\n   - Set `Area: \"UI\"`\n   - Define unique `Id` and `DisplayName`\n\n2. **Write Expression**\n   - JavaScript code in `Expression` property\n   - Use parameter names from `_currentParameterDefs`\n   - Assign result to `result` variable\n\n3. **Configure Output**\n   - Set `OutputBaseType` to match result type\n   - Set `DataChangeType` as needed\n   - Configure checkboxes\n\n4. **Define Parameters**\n   - Add to `_currentParameterDefs` array\n   - Set `DefaultValue` as **STRING**\n   - Set appropriate `BaseType`\n\n5. **Set Checkboxes**\n   - `AutoEvaluate: true` for auto-calculation\n   - `FireOnFirstValue: true` for initial evaluation\n\n6. **Create Bindings**\n   - Bind input widgets to expression parameters\n   - UI \u2192 UI binding pattern\n   - Match parameter names exactly",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `expression` | General expression widget |\n| **Display Name** | `Ausdruck` | German UI name |\n| **Expression** | JavaScript code | Assign to `result` |\n| **DefaultValue** | `\"2\"` | String! PascalCase! |\n| **AutoEvaluate** | `true`/`false` | Auto-evaluation |\n| **FireOnFirstValue** | `true`/`false` | Execute on first value |\n| **DataChangeType** | `NEVER`/`VALUE`/`ALWAYS` | Change propagation |\n| **OutputBaseType** | `BOOLEAN`/`STRING`/`NUMBER` | Result type |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Lessons Learned",
    "content": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **Widget Type Discovery** \u26a0\ufe0f\n   - Searched for \"testausdruck\" in example mashup\n   - Widget not found in expected location\n   - Correct type discovered via direct testing: `\"expression\"`\n   - German display name: `\"Ausdruck\"`\n\n2. **Parameter Configuration** \u26a0\ufe0f\n   - Same as validator: `DefaultValue` must be STRING\n   - Same PascalCase requirement\n   - Learned from validator implementation\n\n3. **Expression Flexibility** \u2705\n   - More configuration options than validator\n   - `DataChangeType` for fine control\n   - `OutputBaseType` for type specification\n   - `FireOnFirstValue` for initial execution\n\n4. **Use Case Differentiation** \u2705\n   - Expression: calculations, transformations, general logic\n   - Validator: focused on validation only\n   - Choose based on primary purpose\n\n**Typical Data Flow:**\n```\nUser Input (Value) \u2192 Expression Parameter (age)\n                              \u2193\n                    JavaScript Evaluation\n                              \u2193\n                    Result Assignment\n                              \u2193\n              Output (Type: OutputBaseType)\n                              \u2193\n                 UI Widgets / Data Bindings\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 15: Confirmation Dialog Function",
    "content": "## Recipe 15: Confirmation Dialog Function\n\n**Objective**: Create a confirmation dialog widget (`ptcsconfirmation`) for user confirmations, with configurable buttons, icons, and dialog appearance.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `ptcsconfirmation` widget displays a confirmation dialog with customizable title, message, and up to three action buttons (Cancel, Action, Secondary Action), plus an optional close button. This is commonly used for important user actions that require explicit confirmation.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties and Common Pitfalls",
    "content": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **IDs Must Not Contain Umlauts**: The most critical issue with ThingWorx widgets is that widget `Id` properties **cannot contain umlauts** (\u00e4, \u00f6, \u00fc, \u00df) or special characters. Using umlauts will cause ThingWorx to mark the widget as invalid and remove it from the mashup with a warning: \"Widgets entfernt - Es wurden Widgets mit ung\u00fcltigen IDs gefunden und entfernt.\"\n\n> [!CAUTION]\n> **ID vs DisplayName**: \n> - **`Id`**: Must use ASCII characters only (a-z, 0-9, hyphens, underscores)\n> - **`DisplayName`**: CAN contain umlauts and special characters\n> - Example: `Id: \"bestaetigung-funktion\"`, `DisplayName: \"Best\u00e4tigungsFunktion\"`\n\n> [!IMPORTANT]\n> **Dialog Dimensions as Strings**: `DialogWidth` and `DialogHeight` must be strings (e.g., `\"500\"`), not numbers.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"ptcsconfirmation\",\n        \"Id\": \"bestaetigung-funktion\",      // No umlauts!\n        \"DisplayName\": \"Best\u00e4tigungsFunktion\",  // Umlauts OK here\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Best\u00e4tigung\",\n        \n        // Dialog dimensions\n        \"DialogWidth\": \"500\",               // String, not number\n        \"DialogHeight\": \"500\",\n        \n        // Dialog text\n        \"TitleText\": \"Beispielbest\u00e4tigung\",\n        \"MessageText\": \"Das ist eine best\u00e4tigun\",\n        \n        // Cancel button\n        \"CancelButtonLabel\": \"Abbrechen\",\n        \"CancelButtonIcon\": \"atio.BV-Telephone\",\n        \"CancelButtonTooltipField\": \"Tooltip abbrechen\",\n        \"CancelButtonTooltipIcon\": \"atio.BE-SaveButton\",\n        \n        // Action button\n        \"ActionButtonLabel\": \"Action\",\n        \"ActionButtonTooltipField\": \"\",\n        \"ActionButtonPosition\": \"right\",    // \"left\" or \"right\"\n        \"ActionButtonType\": \"danger\",       // \"primary\", \"danger\", etc.\n        \n        // Secondary action button\n        \"SecondButtonLabel\": \"Action\",\n        \"SecondButtonTooltipField\": \"\",\n        \n        // Checkboxes\n        \"DisplaySecondaryAction\": true,     // Show second action button\n        \"DisplayCloseButton\": true,         // Show close (X) button\n        \n        // Close button\n        \"CloseButtonTooltipField\": \"Schlie\u00dfen\",\n        \n        // Standard properties\n        \"UseTheme\": true,\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | \u2705 | Must be `\"ptcsconfirmation\"` |\n| `Id` | STRING | \u2705 | Unique ID (NO UMLAUTS!) |\n| `Area` | STRING | \u2705 | Must be `\"UI\"` |\n| `DialogWidth` | STRING | \u26aa | Dialog width (e.g., \"500\") |\n| `DialogHeight` | STRING | \u26aa | Dialog height (e.g., \"500\") |\n| `TitleText` | STRING | \u26aa | Dialog title |\n| `MessageText` | STRING | \u26aa | Main message/question |\n| `DisplaySecondaryAction` | BOOLEAN | \u26aa | Show second action button |\n| `DisplayCloseButton` | BOOLEAN | \u26aa | Show close (X) button |\n| `ActionButtonPosition` | STRING | \u26aa | \"left\" or \"right\" |\n| `ActionButtonType` | STRING | \u26aa | Button style type |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Dialog Configuration",
    "content": "### Dialog Configuration\n\n#### Dialog Dimensions\n\n```javascript\n\"DialogWidth\": \"500\",      // Width in pixels (as string)\n\"DialogHeight\": \"500\"      // Height in pixels (as string)\n```\n\n> [!TIP]\n> Common dialog sizes: 400x300 (small), 600x400 (medium), 800x600 (large)\n\n#### Dialog Text\n\n```javascript\n\"TitleText\": \"Beispielbest\u00e4tigung\",        // Dialog header\n\"MessageText\": \"Das ist eine best\u00e4tigun\"  // Main content\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Button Configurations",
    "content": "### Button Configurations\n\nThe confirmation dialog supports up to three action buttons plus a close button:\n\n#### 1. Cancel Button (Abbrechen-Schaltfl\u00e4che)\n\nAlways displayed by default.\n\n```javascript\n\"CancelButtonLabel\": \"Abbrechen\",              // Button text\n\"CancelButtonIcon\": \"atio.BV-Telephone\",       // Icon identifier\n\"CancelButtonTooltipField\": \"Tooltip abbrechen\",  // Tooltip text\n\"CancelButtonTooltipIcon\": \"atio.BE-SaveButton\"   // Tooltip icon\n```\n\n**Properties:**\n- `CancelButtonLabel`: Text displayed on button\n- `CancelButtonIcon`: Icon displayed on button\n- `CancelButtonTooltipField`: Hover tooltip text\n- `CancelButtonTooltipIcon`: Icon in tooltip\n\n#### 2. Action Button (Aktionsschaltfl\u00e4che)\n\nThe main action button (primary action).\n\n```javascript\n\"ActionButtonLabel\": \"Action\",          // Button text\n\"ActionButtonTooltipField\": \"\",         // Tooltip text\n\"ActionButtonPosition\": \"right\",        // Position: \"left\" or \"right\"\n\"ActionButtonType\": \"danger\"           // Style: \"primary\", \"danger\", etc.\n```\n\n**ActionButtonPosition:**\n- `\"left\"`: Button appears on the left side\n- `\"right\"`: Button appears on the right side\n\n**ActionButtonType:**\n| Type | Description | Use Case |\n|------|-------------|----------|\n| `\"primary\"` | Primary/default style | Normal confirmations |\n| `\"danger\"` | Red/warning style | Destructive actions (delete, remove) |\n| `\"success\"` | Green/positive style | Positive confirmations |\n| `\"secondary\"` | Secondary style | Less important actions |\n\n#### 3. Secondary Action Button (Zweite Aktionsschaltfl\u00e4che)\n\nOptional second action button, enabled via checkbox.\n\n```javascript\n\"DisplaySecondaryAction\": true,         // Enable second button\n\"SecondButtonLabel\": \"Action\",         // Button text\n\"SecondButtonTooltipField\": \"\"        // Tooltip text\n```\n\n**Enable via:**\n- Set `DisplaySecondaryAction` to `true`\n\n**Use cases:**\n- \"Save and Continue\" + \"Save and Close\"\n- \"Approve\" + \"Reject\"\n- Multiple choice confirmations\n\n#### 4. Close Button (Schlie\u00dfen-Schaltfl\u00e4che)\n\nOptional X button in dialog corner.\n\n```javascript\n\"DisplayCloseButton\": true,                 // Enable close button\n\"CloseButtonTooltipField\": \"Schlie\u00dfen\"     // Close button tooltip\n```\n\n**Enable via:**\n- Set `DisplayCloseButton` to `true`",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checkbox Settings",
    "content": "### Checkbox Settings\n\n#### DisplaySecondaryAction (Zweite Aktionsschaltfl\u00e4che hinzuf\u00fcgen)\n\n- **`true`**: Shows second action button\n- **`false`**: Hides second action button (only Cancel + Action visible)\n\n**Use when:**\n- Multiple action choices needed\n- \"Save As\" + \"Save\" scenarios\n- Complex workflows with options\n\n#### DisplayCloseButton (Schaltfl\u00e4che \"Schlie\u00dfen\")\n\n- **`true`**: Shows X button in dialog corner\n- **`false`**: Only action buttons can close dialog\n\n**Use when:**\n- User should be able to dismiss without action\n- Non-critical confirmations\n- Optional dialogs",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Icon Configuration",
    "content": "### Icon Configuration\n\nIcons can be specified for buttons and tooltips using icon identifiers:\n\n**Icon Format:**\n- System icons: `\"icon-name\"`\n- Custom icons: `\"namespace.IconName\"` (e.g., `\"atio.BV-Telephone\"`)\n\n**Common Icon Properties:**\n- `CancelButtonIcon`: Main cancel button icon\n- `CancelButtonTooltipIcon`: Icon in cancel button tooltip\n- Similar pattern for other buttons\n\n> [!TIP]\n> Browse available icons in ThingWorx Composer under Resources \u2192 Media Entities \u2192 Icons",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Delete Confirmation**\n   - Title: \"Delete Item?\"\n   - Message: \"This action cannot be undone.\"\n   - Cancel Button: \"Cancel\"\n   - Action Button: \"Delete\" (danger type, right position)\n\n2. **Save Changes**\n   - Title: \"Unsaved Changes\"\n   - Message: \"Do you want to save your changes?\"\n   - Cancel: \"Discard\"\n   - Action: \"Save\" (primary type)\n   - Secondary: \"Save As\"\n\n3. **Critical Action**\n   - Title: \"Warning\"\n   - Message: \"This will affect all users.\"\n   - Cancel: \"Cancel\"\n   - Action: \"Proceed\" (danger type)\n   - Close Button: Disabled\n\n4. **Information Confirmation**\n   - Title: \"Information\"\n   - Message: \"Operation completed successfully.\"\n   - Action: \"OK\" (primary type)\n   - Close Button: Enabled",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.confirmation-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Confirmation Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Confirmation Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Button to trigger confirmation\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"Id\": \"trigger-button\",\n                                \"ButtonText\": \"Show Confirmation\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Confirmation Dialog\n                {\n                    \"Properties\": {\n                        \"Type\": \"ptcsconfirmation\",\n                        \"Id\": \"delete-confirmation\",       // No umlauts!\n                        \"DisplayName\": \"DeleteConfirmation\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Best\u00e4tigung\",\n                        \"DialogWidth\": \"500\",\n                        \"DialogHeight\": \"300\",\n                        \"TitleText\": \"Delete Item?\",\n                        \"MessageText\": \"This action cannot be undone. Are you sure?\",\n                        \"CancelButtonLabel\": \"Cancel\",\n                        \"CancelButtonIcon\": \"\",\n                        \"CancelButtonTooltipField\": \"Cancel deletion\",\n                        \"CancelButtonTooltipIcon\": \"\",\n                        \"ActionButtonLabel\": \"Delete\",\n                        \"ActionButtonTooltipField\": \"Confirm deletion\",\n                        \"ActionButtonPosition\": \"right\",\n                        \"ActionButtonType\": \"danger\",\n                        \"DisplaySecondaryAction\": false,\n                        \"DisplayCloseButton\": true,\n                        \"CloseButtonTooltipField\": \"Close\",\n                        \"SecondButtonLabel\": \"\",\n                        \"SecondButtonTooltipField\": \"\",\n                        \"UseTheme\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Confirmation Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Confirmation mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Clear Button Labels**\n> - Use action-oriented language (\"Delete\", \"Save\", \"Cancel\")\n> - Avoid ambiguous labels (\"OK\", \"Yes\", \"No\")\n> - Make primary action obvious\n\n> [!TIP]\n> **Appropriate Button Types**\n> - Use `danger` for destructive actions (delete, remove)\n> - Use `primary` for normal confirmations\n> - Position primary action on the right (standard UX)\n\n> [!TIP]\n> **Dialog Sizing**\n> - Keep dialogs compact but readable\n> - 400-600px width is typical\n> - Height should fit content (250-500px)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Umlauts in ID**: The #1 cause of \"widgets removed\" errors\n> - \u274c `Id: \"Best\u00e4tigungsFunktion\"` (will be removed!)\n> - \u2705 `Id: \"bestaetigung-funktion\"` (works)\n> - DisplayName CAN have umlauts: `DisplayName: \"Best\u00e4tigungsFunktion\"`\n\n> [!CAUTION]\n> **Dimension Types**: Dialog dimensions must be strings\n> - \u274c `DialogWidth: 500` (number)\n> - \u2705 `DialogWidth: \"500\"` (string)\n\n> [!CAUTION]\n> **Button Configuration**: Forgetting to enable optional buttons\n> - Set `DisplaySecondaryAction: true` to show secondary button\n> - Set `DisplayCloseButton: true` to show close button\n> - Both default to `false`\n\n> [!CAUTION]\n> **Icon Names**: Invalid icon identifiers fail silently\n> - Use valid icon names from ThingWorx icon library\n> - Format: `\"namespace.IconName\"` for custom icons\n> - Leave empty `\"\"` if no icon needed",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Troubleshooting Guide",
    "content": "### Troubleshooting Guide\n\n**Problem: Widget not appearing / \"Widgets entfernt\" warning**\n- \u2705 Check: Does `Id` contain umlauts or special characters?\n- \u2705 Solution: Replace umlauts (\u00e4\u2192ae, \u00f6\u2192oe, \u00fc\u2192ue, \u00df\u2192ss)\n- \u2705 Verify: Only use a-z, 0-9, hyphens, underscores in `Id`\n\n**Problem: Secondary button not visible**\n- \u2705 Check: Is `DisplaySecondaryAction` set to `true`?\n- \u2705 Check: Is `SecondButtonLabel` set?\n\n**Problem: Close button not visible**\n- \u2705 Check: Is `DisplayCloseButton` set to `true`?\n\n**Problem: Dialog too small/large**\n- \u2705 Check: Are `DialogWidth` and `DialogHeight` strings?\n- \u2705 Try: Adjust values (\"400\", \"500\", \"600\", etc.)\n\n**Problem: Icon not displaying**\n- \u2705 Check: Is icon name valid?\n- \u2705 Check: Correct format for custom icons?\n- \u2705 Try: Leave empty if icon not found",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Confirmation Widget**\n   - Set `Type: \"ptcsconfirmation\"`\n   - Set `Area: \"UI\"`\n   - Set `Id` without umlauts!\n\n2. **Configure Dialog**\n   - Set `DialogWidth` and `DialogHeight` (strings)\n   - Set `TitleText` and `MessageText`\n\n3. **Configure Cancel Button**\n   - Set label, icon, tooltip\n   - Always visible by default\n\n4. **Configure Action Button**\n   - Set label, tooltip\n   - Set position (left/right)\n   - Set type (primary/danger/etc.)\n\n5. **Optional: Add Secondary Button**\n   - Set `DisplaySecondaryAction: true`\n   - Set `SecondButtonLabel` and tooltip\n\n6. **Optional: Add Close Button**\n   - Set `DisplayCloseButton: true`\n   - Set `CloseButtonTooltipField`\n\n7. **Bind Events**\n   - Connect button click events\n   - Execute actions on confirmation\n   - Handle cancel/close events",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `ptcsconfirmation` | Confirmation dialog |\n| **Display Name** | `Best\u00e4tigung` | German UI name |\n| **ID Constraint** | ASCII only | **NO UMLAUTS!** |\n| **DialogWidth** | `\"500\"` | String, not number |\n| **DialogHeight** | `\"300\"` | String, not number |\n| **ActionButtonPosition** | `\"left\"`/`\"right\"` | Button placement |\n| **ActionButtonType** | `\"primary\"`/`\"danger\"` | Button style |\n| **DisplaySecondaryAction** | `true`/`false` | Show 2nd button |\n| **DisplayCloseButton** | `true`/`false` | Show X button |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Lessons Learned",
    "content": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **ID Umlaut Issue** \u26a0\ufe0f\n   - First attempt: `Id: \"Best\u00e4tigungsFunktion\"` (with umlauts)\n   - Result: Widget marked as invalid and removed\n   - Error: \"Widgets entfernt - ung\u00fcltige IDs gefunden\"\n   - Solution: `Id: \"bestaetigung-funktion\"` (no umlauts)\n\n2. **ID vs DisplayName** \u2705\n   - `Id`: Must be ASCII-safe (no umlauts, special chars)\n   - `DisplayName`: Can contain umlauts and special characters\n   - Both can be different values\n\n3. **Dimension Format** \u26a0\ufe0f\n   - Must be strings: `\"500\"` not `500`\n   - Matches pattern of other dialog widgets\n\n4. **Button Visibility** \u2705\n   - Cancel button: Always visible\n   - Action button: Always visible\n   - Secondary button: Requires `DisplaySecondaryAction: true`\n   - Close button: Requires `DisplayCloseButton: true`\n\n**Typical Data Flow:**\n```\nUser Action \u2192 Trigger Event \u2192 Show Confirmation Dialog\n                                    \u2193\n                          User Clicks Button\n                                    \u2193\n                   Button Event \u2192 Execute Action\n                                    \u2193\n                            Close Dialog\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Recipe 4: Master Mashup & Border Layout",
    "content": "## Recipe 4: Master Mashup & Border Layout\n\nThis recipe demonstrates how to use a **Master Mashup** (which provides a consistent Header and Sidebar) and create a **Border Layout** (fixed edges, flexible center) within the content area.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Uniformity**: Uses a shared Master Mashup (`antigravity.Master-mm`) to ensure all pages look part of the same application.\n*   **Structured Layout**: Uses a classic \"Border Layout\" pattern (Top/Bottom/Left/Right fixed panels, Center flexible panel).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Master[Master Mashup Header/Nav] -.-> Content\n    Content[Mashup Content<br/>Flex Column] --> Top[Top Fixed<br/>100px]\n    Content --> Middle[Middle Row<br/>Flex Grow]\n    Content --> Bottom[Bottom Fixed<br/>100px]\n    \n    Middle --> Left[Left Fixed<br/>100px]\n    Middle --> Center[Center<br/>Flex Grow]\n    Middle --> Right[Right Fixed<br/>100px]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Configuring the Master\nTo use a Master Mashup, you simply specify its name in the `Master` property of the Mashup Root.\n\n```javascript\n\"Properties\": {\n    \"Id\": \"mashup-root\",\n    \"Type\": \"mashup\",\n    // ... standard properties ...\n    \"Master\": \"antigravity.Master-mm\" // Binds this mashup to the Master\n},\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\n```javascript\n/* ... Standard Boilerplate ... */\nconst MASHUP_NAME = \"antigravity.border-layout-mu\";\n\nasync function createMashup() {\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Master\": \"antigravity.Master-mm\", // THE KEY LINE\n                // ...\n            },\n            \"Widgets\": [\n                 {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"flex-direction\": \"column\",\n                        // ...\n                    },\n                    \"Widgets\": [\n                        // See \"Complex Fixed Sidebar Layout\" recipe for \n                        // details on how to create fixed Top/Bottom/Left/Right containers\n                    ]\n                }\n            ]\n        },\n        // ...\n    };\n    /* ... Send Request ... */\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Recipe 5: Custom Styled Container (Custom CSS)",
    "content": "## Recipe 5: Custom Styled Container (Custom CSS)\n\nThis recipe demonstrates how to apply specific CSS (like a custom background color) to a container without creating a full `StyleDefinition` entity.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Ad-hoc Styling**: Quickly applying brand colors (e.g., a specific yellow #F7D154) to a single component.\n*   **Overriding Themes**: Forcing a style even if a Theme is active (though `StyleTheme` may sometimes need to be removed).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Mashup Root: CustomCSS\nDefine your CSS classes in the `CustomCSS` property of the **Mashup Root**.\n\n```javascript\n\"Properties\": {\n    \"Id\": \"mashup-root\",\n    // ...\n    // Define the class rule here\n    \"CustomCSS\": \".yellow-bg { background-color: #F7D154; }\"\n},\n```\n\n#### 2. Widget: CustomClass\nApply the class name to the specific **Widget** (e.g., a FlexContainer).\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"Id\": \"flexcontainer-1\",\n        // ...\n        // Apply the class name here (no dot)\n        \"CustomClass\": \"yellow-bg\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Troubleshooting",
    "content": "### Troubleshooting\nIf the style does not appear:\n1.  **Check Specificity**: Your CSS might be overridden by the system default CSS. Try adding `!important` as a last resort: `background-color: #F7D154 !important;`.\n2.  **StyleTheme**: In some versions, the defined `StyleTheme` on the Root might conflict. You can try setting `\"StyleTheme\": \"\"` or removing the property if issues persist.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "ThingWorx Mashup Design Guide",
    "content": "# ThingWorx Mashup Design Guide\n\nThis guide outlines best practices, standard widgets, and layout strategies for creating effective ThingWorx Mashups.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Best Practices",
    "content": "## Best Practices",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "1. Layout Strategy",
    "content": "### 1. Layout Strategy\n*   **Responsive Design**: Always prefer **Responsive** layouts over Static layouts. This ensures your application adapts to different screen sizes (desktop, tablet, mobile).\n*   **Containers**: Use `Layout` widgets (Rows and Columns) to structure your page. Avoid placing widgets directly on the root canvas if possible; nest them in containers for better control.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "2. Naming Conventions",
    "content": "### 2. Naming Conventions\n*   **Meaningful Names**: Give every widget a descriptive `DisplayName` (e.g., `lblTemperature`, `btnSubmit`, `gridOrderHistory`). This makes binding and debugging significantly easier.\n*   **Consistency**: Stick to a prefix convention (e.g., `lbl` for Labels, `btn` for Buttons, `txt` for TextFields).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "3. Performance",
    "content": "### 3. Performance\n*   **Minimize Bindings**: Too many bindings can slow down the Mashup load time. Group data in services where possible.\n*   **Service Execution**: Use `InvokeService` only when necessary. Avoid auto-refreshing heavy services at short intervals.\n*   **Lazy Loading**: Load data only when the user needs to see it (e.g., in a tab that isn't initially visible).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Standard Widgets Reference",
    "content": "## Standard Widgets Reference\n\nHere is a list of commonly used widgets:\n\n| Widget Name | Type in JSON | Description | Common Use Case |\n| :--- | :--- | :--- | :--- |\n| **Label (Modern)** | `ptcslabel` | Displays static or dynamic text with modern styling. | Headers, data values, instructions. |\n| **Label (Legacy)** | `Label` | Old label widget - **avoid using**. | Legacy mashups only. |\n| **Button** | `ptcsbutton` | Clickable element to trigger events. | Submitting forms, navigation, refreshing data. |\n| **TextField** | `ptcstextfield` | Single-line text input. | Search bars, form inputs. |\n| **TextArea** | `ptcstextarea` | Multi-line text input. | Comments, descriptions. |\n| **Grid (Advanced)** | `ptcsgrid` | Displays data in a tabular format. | Lists of items, reports, data management. |\n| **Navigation** | `navigation` | Links to other Mashups or URLs. | Menus, links. |\n| **Image** | `image` | Displays an image. | Logos, product photos, status icons. |\n| **Checkbox** | `ptcscheckbox` | Boolean input. | Toggles, settings. |\n| **Dropdown** | `ptcsdropdown` | Select one item from a list. | Filtering, form selection. |\n| **Date Time Picker** | `ptcsdatetimepicker` | Select date and time. | Filtering by date range, scheduling. |\n| **Tabs** | `ptcstabs` | Organizes content into selectable views. | Categorizing complex information. |\n| **Responsive Container** | `flexcontainer` | Flex-based container for responsive layouts. | **Required for modern mashups**. |\n| **Numeric Input** | `numericentry` | Legacy numeric input (lowercase). | Input numbers. **Requires explicit width/height**. |\n| **Radio Button** | `ptcsradio` | Modern radio button. | Single choice selection. |\n| **Toggle Button** | `ptcstogglebutton` | On/Off switch. | Boolean settings, enabling features. |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "\u26a0\ufe0f Critical: Modern Widget Types",
    "content": "### \u26a0\ufe0f Critical: Modern Widget Types\n**Always use the modern `ptcs*` widget types** (e.g., `ptcslabel`, `ptcsbutton`) instead of legacy types (e.g., `Label`, `Button`). The legacy widgets may not render correctly in newer ThingWorx versions.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "\u26a0\ufe0f Critical: Use Responsive Containers",
    "content": "### \u26a0\ufe0f Critical: Use Responsive Containers\n**Never place widgets directly in the mashup root.** Always wrap them in a `flexcontainer` (Responsive Container) first. This is required for proper rendering and responsive behavior.\n\n**Example Structure:**\n```\nMashup Root (mashup-root)\n  \u2514\u2500\u2500 Responsive Container (flexcontainer)\n        \u2514\u2500\u2500 Label (ptcslabel)\n        \u2514\u2500\u2500 Button (ptcsbutton)\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Layout Containers",
    "content": "## Layout Containers\n\nLayouts are crucial for structure. Common patterns include:\n\n*   **Header**: Top strip for branding, global actions (Logout), and page titles.\n*   **Sidebar**: Left (or right) panel for navigation menus.\n*   **Footer**: Bottom strip for copyright, version info, or status.\n*   **Content**: The main central area where the specific page functionality lives.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Master Mashups",
    "content": "## Master Mashups\n\n**Master Mashups** are templates that define the consistent outer shell of your application.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Purpose",
    "content": "### Purpose\n1.  **Consistent Navigation**: You define the **Sidebar** (Navigation Menu) and **Header** once in the Master Mashup. All \"Child Mashups\" loaded into this Master will automatically inherit these elements.\n2.  **Theming**: The Master Mashup helps enforce a consistent visual theme (colors, fonts, spacing) across all pages that use it.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Implementation",
    "content": "### Implementation\n*   Create a Mashup with the type `Master`.\n*   Add your **Logo** and **Title** to the Header area.\n*   Add a **Menu** widget to the Sidebar area for navigation.\n*   Define a **Content** placeholder. When you create a standard Mashup, you select this Master, and your standard Mashup's content will fill this placeholder.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Benefits",
    "content": "### Benefits\n*   **Maintainability**: Change the menu item in one place (the Master), and it updates everywhere.\n*   **User Experience**: Users get a seamless experience as the frame (header/nav) stays stable while the content area transitions.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Detailed Widget Recipes",
    "content": "## Detailed Widget Recipes\n\nFor specific configurations of tricky widgets like **Numeric Input** and **Radio Buttons**, please refer to [Widget Recipes](widget_recipes.md).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "ThingWorx Mashup Testing To-Do List",
    "content": "# ThingWorx Mashup Testing To-Do List",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Overview",
    "content": "## Overview\nComprehensive testing plan for LLM-based mashup generation capabilities. This tests various layouts, widgets, and data binding scenarios.\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 1: Container & Layout Testing",
    "content": "## Phase 1: Container & Layout Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "1.1 Responsive Containers (flexcontainer)",
    "content": "### 1.1 Responsive Containers (flexcontainer)\n- [ ] Create a mashup with a single centered responsive container\n- [ ] Create nested responsive containers (container within container)\n- [ ] Test flex-direction: row vs column\n- [ ] Test justify-content: flex-start, center, flex-end, space-between\n- [ ] Test align-items: flex-start, center, flex-end, stretch",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "1.2 Static Containers",
    "content": "### 1.2 Static Containers\n- [ ] Create a static container with fixed positioning\n- [ ] Test absolute positioning (Top, Left properties)\n- [ ] Mix static and responsive containers in the same mashup\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 2: Label Alignment Testing",
    "content": "## Phase 2: Label Alignment Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "2.1 Horizontal Alignment",
    "content": "### 2.1 Horizontal Alignment\n- [ ] Label aligned left (HorizontalAlignment: \"left\")\n- [ ] Label aligned center (HorizontalAlignment: \"center\")\n- [ ] Label aligned right (HorizontalAlignment: \"right\")",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "2.2 Vertical Alignment",
    "content": "### 2.2 Vertical Alignment\n- [ ] Label aligned top (VerticalAlignment: \"flex-start\")\n- [ ] Label aligned center (VerticalAlignment: \"center\")\n- [ ] Label aligned bottom (VerticalAlignment: \"flex-end\")",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "2.3 Combined Alignment",
    "content": "### 2.3 Combined Alignment\n- [ ] Label centered both horizontally and vertically\n- [ ] Label in top-left corner\n- [ ] Label in bottom-right corner\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 3: Widget Testing",
    "content": "## Phase 3: Widget Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.1 Buttons (ptcsbutton)",
    "content": "### 3.1 Buttons (ptcsbutton)\n- [ ] Create a basic button with text\n- [ ] Create a button with an icon\n- [ ] Create a disabled button\n- [ ] Test button click event binding",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.2 Contained Mashups",
    "content": "### 3.2 Contained Mashups\n- [ ] Embed a simple mashup inside another mashup\n- [ ] Pass parameters to the contained mashup\n- [ ] Test mashup-to-mashup communication",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.3 Gauges",
    "content": "### 3.3 Gauges\n- [ ] Create a linear gauge (ptcslineargauge)\n- [ ] Create a radial gauge (ptcsradialgauge)\n- [ ] Bind gauge to a dynamic value\n- [ ] Set min/max values and thresholds",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.4 Collections (Repeater/Grid)",
    "content": "### 3.4 Collections (Repeater/Grid)\n- [ ] Create a grid widget (ptcsgrid)\n- [ ] Bind grid to an InfoTable service\n- [ ] Configure grid columns\n- [ ] Test row selection",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.5 Radio Buttons (ptcsradiogroup)",
    "content": "### 3.5 Radio Buttons (ptcsradiogroup)\n- [ ] Create a radio button group\n- [ ] Set default selected value\n- [ ] Bind selection to a property\n- [ ] Test value change event",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.6 Toggle Buttons (ptcstogglebutton)",
    "content": "### 3.6 Toggle Buttons (ptcstogglebutton)\n- [ ] Create a toggle button\n- [ ] Set default state (on/off)\n- [ ] Bind to a boolean property\n- [ ] Test state change event\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 4: Data Binding Testing",
    "content": "## Phase 4: Data Binding Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.1 Service Binding",
    "content": "### 4.1 Service Binding\n- [ ] Create a Thing with test services\n  - [ ] Service returning a STRING\n  - [ ] Service returning a NUMBER\n  - [ ] Service returning a BOOLEAN\n  - [ ] Service returning an INFOTABLE\n- [ ] Bind service output to label (display value)\n- [ ] Bind service output to gauge (numeric value)\n- [ ] Bind service output to grid (InfoTable)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.2 Property Binding",
    "content": "### 4.2 Property Binding\n- [ ] Create a Thing with test properties\n  - [ ] STRING property\n  - [ ] NUMBER property\n  - [ ] BOOLEAN property\n- [ ] Bind property to label\n- [ ] Bind property to toggle button\n- [ ] Test two-way binding (widget updates property)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.3 Event Binding",
    "content": "### 4.3 Event Binding\n- [ ] Bind button click to invoke a service\n- [ ] Bind toggle change to update a property\n- [ ] Bind grid row selection to display details in labels",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.4 Auto-Refresh",
    "content": "### 4.4 Auto-Refresh\n- [ ] Configure service to auto-refresh every 5 seconds\n- [ ] Test that bound widgets update automatically\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 5: Complex Mashup Scenarios",
    "content": "## Phase 5: Complex Mashup Scenarios",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "5.1 Dashboard Layout",
    "content": "### 5.1 Dashboard Layout\n- [ ] Create a 2x2 grid layout with 4 containers\n- [ ] Each container has a different widget (gauge, label, button, grid)\n- [ ] All widgets bound to live data",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "5.2 Form Layout",
    "content": "### 5.2 Form Layout\n- [ ] Create a vertical form with:\n  - [ ] Text input field\n  - [ ] Dropdown selector\n  - [ ] Radio button group\n  - [ ] Submit button\n- [ ] Bind submit button to create/update a Thing property",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "5.3 Master-Detail View",
    "content": "### 5.3 Master-Detail View\n- [ ] Grid showing list of items\n- [ ] Click a row to display details in labels/gauges\n- [ ] Edit button to modify selected item\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 6: Styling & Theming",
    "content": "## Phase 6: Styling & Theming",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "6.1 Widget Styles",
    "content": "### 6.1 Widget Styles\n- [ ] Apply custom style to a label\n- [ ] Apply custom style to a button\n- [ ] Test UseTheme property (true/false)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "6.2 Container Styles",
    "content": "### 6.2 Container Styles\n- [ ] Set background color on a container\n- [ ] Set border on a container\n- [ ] Test padding and margin\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Success Criteria",
    "content": "## Success Criteria\n\n\u2705 All widgets render correctly in the mashup viewer\n\u2705 All data bindings work (values display correctly)\n\u2705 All events trigger correctly (button clicks, selections)\n\u2705 Layout is responsive and adapts to different screen sizes\n\u2705 No console errors in browser developer tools\n\u2705 Mashup can be saved and reopened without errors\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Notes",
    "content": "## Notes\n\n- Test each item incrementally (don't create everything at once)\n- Save working examples for reference\n- Document any issues or limitations discovered\n- Keep track of which widget types and properties work vs. which don't",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "Widget Layout Recipes",
    "content": "# Widget Layout Recipes",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "Standard Widget Recipes",
    "content": "## Standard Widget Recipes\nFor standard input widgets, use the following configurations to ensure compatibility and correct rendering.",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "1. Numeric Input (legacy: `numericentry`)",
    "content": "### 1. Numeric Input (legacy: `numericentry`)\nFor numeric inputs, use the **legacy** `numericentry` widget type (all lowercase).\n**Crucial Properties:**\n- `ResponsiveLayout`: `false`\n- `Width`: Explicit value (e.g., `200`)\n- `Height`: Explicit value (e.g., `30`)\n- `Style`: `\"DefaultTextBoxStyle\"`\n- `NumericEntryLabelStyle`: `\"DefaultWidgetLabelStyle\"`\n- `NumericEntryFocusStyle`: `\"DefaultFocusStyle\"`\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"numericentry\",\n        \"Id\": \"numericentry-1\", // Use lowercase prefix\n        \"Label\": \"Numeric Input\",\n        \"Value\": 0,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 200,\n        \"Height\": 30,\n        \"Style\": \"DefaultTextBoxStyle\",\n        \"NumericEntryLabelStyle\": \"DefaultWidgetLabelStyle\",\n        \"NumericEntryFocusStyle\": \"DefaultFocusStyle\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "2. Radio Button (modern: `ptcsradio`)",
    "content": "### 2. Radio Button (modern: `ptcsradio`)\nFor radio buttons, use the `ptcsradio` widget type.\n**Crucial Properties:**\n- `ResponsiveLayout`: `false` (Recommended for safety in mixed layouts)\n- `Width`: Explicit value (e.g., `200`)\n- `Height`: Explicit value (e.g., `30`)\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcsradio\",\n        \"Id\": \"ptcsradio-1\",\n        \"Label\": \"Radio Option\",\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 200,\n        \"Height\": 30\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "3. Other Modern Widgets (`ptcs*`)",
    "content": "### 3. Other Modern Widgets (`ptcs*`)\nStandard modern widgets usually work with `ResponsiveLayout: true` (default in flex containers), but can be constrained if needed.\n- **Button**: `ptcsbutton`\n- **TextField**: `ptcstextfield`",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "4. Toggle Button (`ptcstogglebutton`)",
    "content": "### 4. Toggle Button (`ptcstogglebutton`)\nUsed for On/Off switches.\n**Properties:**\n- `State`: `true` or `false` (The value).\n- `LabelAlignment`: `\"right\"` (Places text next to switch).\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcstogglebutton\",\n        \"Id\": \"ptcstogglebutton-1\",\n        \"Label\": \"Toggle Feature\",\n        \"LabelAlignment\": \"right\",\n        \"State\": false,\n        \"Visible\": true\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "5. Slider (`ptcsslider`)",
    "content": "### 5. Slider (`ptcsslider`)\nFor slider controls to select numeric values within a range.\n**Crucial Properties:**\n- `Value`: Current value (e.g., `50`)\n- `Minimum`: Minimum value (e.g., `0`)\n- `Maximum`: Maximum value (e.g., `100`)\n- `StepSize`: Increment step (e.g., `1`)\n- `ResponsiveLayout`: `false` (Recommended for consistent sizing)\n- `Width`: Explicit value (e.g., `300`)\n- `Height`: Explicit value (e.g., `50`)\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcsslider\",\n        \"Id\": \"ptcsslider-1\",\n        \"DisplayName\": \"slider-1\",\n        \"Label\": \"Slider Input\",\n        \"Value\": 50,\n        \"Minimum\": 0,\n        \"Maximum\": 100,\n        \"StepSize\": 1,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 300,\n        \"Height\": 50\n    },\n    \"Widgets\": []\n}\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "Data Binding Recipe",
    "content": "## Data Binding Recipe\nTo bind properties between widgets (e.g., Numeric Entry Value -> Label Text), use the `DataBindings` array at the Mashup root level.\n\n**Structure:**\n- **SourceId**: ID of the source widget (e.g., `numericentry-1`).\n- **TargetId**: ID of the target widget (e.g., `ptcslabel-1`).\n- **SourceProperty**: The property to read from (e.g., `Value`).\n- **TargetProperty**: The property to write to (e.g., `LabelText`).\n- **SourceSection**: Usually `\"\"` (empty string) for widget properties, or `\"Data\"` for service results.\n- **TargetSection**: Usually `\"Properties\"`.\n\n**Example JSON (Numeric Value -> Label Text):**\n```json\n\"DataBindings\": [\n    {\n        \"Id\": \"binding-numeric-to-label\",\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",\n                \"TargetProperty\": \"LabelText\",\n                \"SourcePropertyType\": \"Property\",\n                \"TargetPropertyType\": \"Property\"\n            }\n        ],\n        \"SourceArea\": \"UI\",\n        \"SourceId\": \"numericentry-1\",\n        \"SourceSection\": \"\",\n        \"TargetArea\": \"UI\",\n        \"TargetId\": \"ptcslabel-1\",\n        \"TargetSection\": \"Properties\"\n    }\n]\n```\n\n**Example JSON (Slider Value -> Label Text):**\n```json\n\"DataBindings\": [\n    {\n        \"Id\": \"binding-slider-to-label\",\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",\n                \"TargetProperty\": \"LabelText\",\n                \"SourcePropertyType\": \"Property\",\n                \"TargetPropertyType\": \"Property\"\n            }\n        ],\n        \"SourceArea\": \"UI\",\n        \"SourceId\": \"ptcsslider-1\",\n        \"SourceSection\": \"\",\n        \"TargetArea\": \"UI\",\n        \"TargetId\": \"ptcslabel-1\",\n        \"TargetSection\": \"Properties\"\n    }\n]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "How to Add a New Action/Capability",
    "content": "# How to Add a New Action/Capability\n\nThis guide outlines the steps required to add a new action to the ThingWorx Coding Agent. Adding a new action involves updating the schema, guardrails, executor, and tests to ensure the new capability is integrated safely and reliably.\n\nLet's use the example of adding a `RestartThing` action.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "1. Update the JSON Schema",
    "content": "## 1. Update the JSON Schema\n\nFirst, you need to allow the new action in the `spec.schema.json` file. This ensures that specifications containing the new action can be validated.\n\n**File**: `src/schema/spec.schema.json`\n\n1.  **Add to Enum**: Add the new action name (`RestartThing`) to the `enum` list under `actions.items.properties.type`.\n\n    ```json\n    \"type\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"CreateThing\",\n        \"UpdateThing\",\n        \"EnableThing\",\n        \"AddServiceToThing\",\n        \"AddPropertyDefinition\",\n        \"SetProperty\",\n        \"ExecuteService\",\n        \"RestartThing\" // Add new action here\n      ],\n      \"description\": \"Action type - only safe operations allowed\"\n    },\n    ```\n\n2.  **Define Parameters**: Add a new conditional block under `allOf` to define the required parameters for your new action.\n\n    ```json\n    {\n      \"if\": {\n        \"properties\": {\n          \"type\": {\n            \"const\": \"RestartThing\"\n          }\n        }\n      },\n      \"then\": {\n        \"properties\": {\n          \"params\": {\n            \"required\": [\"thingName\"],\n            \"properties\": {\n              \"thingName\": {\n                \"type\": \"string\"\n              }\n            }\n          }\n        }\n      }\n    }\n    ```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "2. Update the Guardrails",
    "content": "## 2. Update the Guardrails\n\nNext, update the guardrails to explicitly allow the new action. This is a critical security step.\n\n**File**: `src/guardrails/guardrails.py`\n\n1.  **Add to Allowlist**: Add the action name to the `ALLOWED_ACTIONS` set.\n\n    ```python\n    class Guardrails:\n        ALLOWED_ACTIONS: Set[str] = {\n            \"CreateThing\",\n            \"UpdateThing\",\n            \"EnableThing\",\n            \"AddServiceToThing\",\n            \"AddPropertyDefinition\",\n            \"SetProperty\",\n            \"ExecuteService\",\n            \"RestartThing\"  # Add new action here\n        }\n    ```\n\nIf the action corresponds to a new or sensitive endpoint, you might also need to review the `BLOCKED_ENDPOINT_PATTERNS` to ensure it doesn't get blocked by mistake.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "3. Implement the Executor Logic",
    "content": "## 3. Implement the Executor Logic\n\nNow, implement the logic that performs the action by calling the ThingWorx REST API.\n\n**File**: `src/executor/executor.py`\n\n1.  **Create Handler Method**: Add a new private method to the `Executor` class to handle the action. This method should take the `params` dictionary as an argument.\n\n    ```python\n    def _restart_thing(self, params: Dict) -> Dict[str, Any]:\n        \"\"\"Restart a Thing\"\"\"\n        thing_name = params[\"thingName\"]\n        endpoint = f\"{self.config.base_url}/Things/{thing_name}/Services/RestartThing\"\n        \n        # Validate the endpoint with guardrails\n        validate_endpoint(endpoint)\n        \n        response = requests.post(\n            endpoint,\n            headers=self.config.get_headers(),\n            timeout=self.config.timeout\n        )\n        \n        if response.status_code not in [200, 201]:\n            raise ExecutionError(\n                f\"RestartThing failed: {response.status_code} - {response.text}\"\n            )\n        \n        self._log_success(f\"Restarted Thing: {thing_name}\")\n        return {\"status\": \"success\", \"thing_name\": thing_name}\n    ```\n\n2.  **Map Action to Handler**: Add the new action and its handler method to the `handlers` dictionary in the `_execute_action` method.\n\n    ```python\n    def _execute_action(self, action_type: str, params: Dict) -> Dict[str, Any]:\n        # ...\n        handlers = {\n            \"CreateThing\": self._create_thing,\n            \"UpdateThing\": self._update_thing,\n            \"EnableThing\": self._enable_thing,\n            \"AddServiceToThing\": self._add_service_to_thing,\n            \"AddPropertyDefinition\": self._add_property_definition,\n            \"SetProperty\": self._set_property,\n            \"ExecuteService\": self._execute_service,\n            \"RestartThing\": self._restart_thing  # Add new mapping here\n        }\n        # ...\n    ```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "4. Update the LLM System Prompt",
    "content": "## 4. Update the LLM System Prompt\n\nTo enable the LLM to generate the new action, you must update its system prompt with information about the new capability.\n\n**File**: `src/generator.py`\n\n1.  **Add to Action List**: Add the new action and its parameters to the `SYSTEM_PROMPT` string in the `SpecGenerator` class.\n\n    ```python\n    class SpecGenerator:\n        SYSTEM_PROMPT = \"\"\"You are a ThingWorx automation expert. ...\n\n    Allowed action types:\n    - CreateThing: {name, thingTemplateName, description?}\n    - EnableThing: {thingName}\n    - AddServiceToThing: {thingName, serviceName, serviceCode, parameters, resultType}\n    - AddPropertyDefinition: {thingName, name, type, description?}\n    - SetProperty: {thingName, propertyName, value}\n    - ExecuteService: {thingName, serviceName, serviceParams?}\n    - RestartThing: {thingName}  # Add new action here\n\n    CRITICAL RULES:\n    ...\"\"\"\n    ```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "5. Write Tests",
    "content": "## 5. Write Tests\n\nFinally, add tests to ensure the new action works as expected and is handled correctly by the validation and guardrail systems.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "Unit Tests",
    "content": "### Unit Tests\n\n-   **Guardrails Test**: Add a test to `tests/unit/test_guardrails.py` to confirm the action is in the `ALLOWED_ACTIONS` set.\n-   **Schema Test**: Add a test to `tests/unit/test_schema.py` to validate a spec containing the new `RestartThing` action.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "E2E Test",
    "content": "### E2E Test\n\n-   **Workflow Test**: If possible, add or update a test in `tests/e2e/test_e2e_workflow.py` to include the new action in a full workflow and verify its effect on the ThingWorx instance.\n\n    For example, you could add a step to restart the `TestCalculator` Thing and check that it remains available.\n\nBy following these steps, you can safely and effectively extend the capabilities of the ThingWorx Coding Agent.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Advanced ThingWorx Service Management",
    "content": "# Advanced ThingWorx Service Management",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "The Problem with Direct API Service Creation",
    "content": "## The Problem with Direct API Service Creation\n\nThe `AddServiceDefinition` API endpoint only creates an **empty** service shell. To add actual code, we need to use one of these approaches:",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Approach 1: Server-Side Service (Recommended - Most Efficient)",
    "content": "## Approach 1: Server-Side Service (Recommended - Most Efficient)\n\nCreate a helper Thing with a service that modifies other Things. This avoids downloading/uploading large entity definitions.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Step 1: Create a ServiceHelper Thing",
    "content": "### Step 1: Create a ServiceHelper Thing\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"ServiceHelper\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Step 2: Add a Service to ServiceHelper",
    "content": "### Step 2: Add a Service to ServiceHelper\n\nCreate a service called `AddServiceToThing` that takes:\n- `thingName`: Target Thing name\n- `serviceName`: Service to create\n- `serviceCode`: JavaScript code\n- `parameters`: Parameter definitions (JSON)\n- `resultType`: Return type\n\nThis service would use the ContentLoaderFunctions pattern to modify the target Thing.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Step 3: Call the Helper",
    "content": "### Step 3: Call the Helper\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"gemini.test-helper\",\n    \"serviceName\": \"AddNumbers\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Approach 2: XML Export/Import (More Efficient than JSON)",
    "content": "## Approach 2: XML Export/Import (More Efficient than JSON)\n\nThingWorx supports XML entity exports which are more compact.\n\n```bash",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Export as XML",
    "content": "# Export as XML\ncurl --location 'http://192.168.20.3:8080/Thingworx/Things/gemini.test-helper' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Accept: application/xml' \\\n--output thing.xml",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Modify thing.xml locally (smaller file than JSON)",
    "content": "# Modify thing.xml locally (smaller file than JSON)",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Import back",
    "content": "# Import back\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Things/gemini.test-helper' \\\n--header 'appKey: YOUR_KEY' \\\n--header 'Content-Type: application/xml' \\\n--data @thing.xml\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Approach 3: ThingWorx Extension (For Complex Scenarios)",
    "content": "## Approach 3: ThingWorx Extension (For Complex Scenarios)\n\nFor production use, create a Java extension that provides a proper service creation API.",
    "type": "markdown"
  },
  {
    "file": "docs/Advanced_Service_Management.md",
    "section": "Recommendation for LLM Usage",
    "content": "## Recommendation for LLM Usage\n\n**Use Approach 1** - Create a single `ServiceHelper` Thing with reusable services that can:\n- Add services to any Thing\n- Update service code\n- Add properties\n- Etc.\n\nThis minimizes token usage because:\n- Small, focused API calls\n- No large entity definitions to process\n- Reusable helper services\n- All heavy lifting happens server-side",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Developing in ThingWorx: A Guide for LLMs",
    "content": "# Developing in ThingWorx: A Guide for LLMs\n\nThis guide outlines the workflow and best practices for developing solutions within the ThingWorx platform via the API.",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "1. Core Concepts",
    "content": "## 1. Core Concepts\n\n- **Thing**: A digital representation of a physical object or system.\n- **ThingTemplate**: A blueprint for Things. All Things inherit from a Template.\n- **ThingShape**: A reusable collection of properties and services that can be implemented by multiple Templates.\n- **Service**: A function written in JavaScript (Rhino engine) that runs on the server.\n- **Property**: A variable stored on a Thing (e.g., temperature, status).",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "2. Development Workflow",
    "content": "## 2. Development Workflow",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 1: Define the Model",
    "content": "### Step 1: Define the Model\nBefore writing code, define the data model.\n1. Identify the entities (Things).\n2. Determine their Properties (state).\n3. Determine their Services (behavior).",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 2: Create/Update Entities",
    "content": "### Step 2: Create/Update Entities\nUse the API to create Things or update their definitions.\n- Use `EntityServices` to create new Things.\n- Ensure Things are enabled (`EnableThing` service) after creation.",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 3: Implement Services",
    "content": "### Step 3: Implement Services\nServices are the core logic.\n- Language: JavaScript (Rhino ES5/ES6 compat).\n- **Important**: ThingWorx JS is synchronous and server-side.\n- Access Properties: `me.PropertyName`\n- Call other Services: `me.OtherService()` or `Things[\"OtherThing\"].Service()`\n\n**Example Service Code:**\n```javascript\n// Input: temperature (NUMBER)\n// Output: STRING\n\nvar result = \"Normal\";\nif (temperature > 100) {\n    result = \"Overheat\";\n    // Log to Application Log\n    logger.warn(\"Thing \" + me.name + \" is overheating!\");\n}\nreturn result;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "Step 4: Testing",
    "content": "### Step 4: Testing\nTest services by executing them via the REST API (`POST` request).\n- Verify the output matches expectations.\n- Check the `ApplicationLog` in ThingWorx for errors (`logger.info`, `logger.error`).",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "3. Best Practices for LLMs",
    "content": "## 3. Best Practices for LLMs\n\n1. **Idempotency**: When writing scripts to update Things, try to check if the Thing exists first.\n2. **Error Handling**: Wrap critical logic in `try/catch` blocks within the JavaScript service code.\n3. **Logging**: Use `logger.info()` liberally to help debug remote execution.\n4. **Small Services**: Keep services focused on a single task. Compose complex logic by calling multiple smaller services.\n5. **Security**: Do not hardcode credentials in service code. Use `ConfigurationTables` or `Password` properties if needed.",
    "type": "markdown"
  },
  {
    "file": "docs/Developing_in_ThingWorx.md",
    "section": "4. Common Tasks",
    "content": "## 4. Common Tasks\n\n**Searching for a Thing:**\nUse `SearchThings` on `SearchFunctions` resource if you don't know the exact name.\n\n**Restarting a Thing:**\nThings generally don't need \"restarting\", but if you update a Template, you may need to restart the Thing to propagate changes (rare, usually automatic). Restarting the *Server* is a separate admin task.",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "LLM Instructions: ThingWorx Service Creation",
    "content": "# LLM Instructions: ThingWorx Service Creation",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "\u26a0\ufe0f CRITICAL: Token-Efficient Service Management",
    "content": "## \u26a0\ufe0f CRITICAL: Token-Efficient Service Management\n\nWhen working with ThingWorx, **NEVER** download entire Thing definitions. They are 200,000+ lines and will consume excessive tokens.",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "\u2705 ALWAYS Use ServiceHelper",
    "content": "## \u2705 ALWAYS Use ServiceHelper\n\nUse the `ServiceHelper.AddServiceToThing` service for all service creation tasks.",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Standard Workflow",
    "content": "## Standard Workflow",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "1. Create a Thing",
    "content": "### 1. Create a Thing\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"ThingName\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "2. Enable the Thing",
    "content": "### 2. Enable the Thing\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ThingName/Services/EnableThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "3. Add Services (Use ServiceHelper)",
    "content": "### 3. Add Services (Use ServiceHelper)\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"ThingName\",\n    \"serviceName\": \"ServiceName\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "4. Test the Service",
    "content": "### 4. Test the Service\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ThingName/Services/ServiceName' \\\n--header 'appKey: ${THINGWORX_APP_KEY}' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"a\": 10,\n    \"b\": 20\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Parameter Types",
    "content": "## Parameter Types\n\nCommon ThingWorx base types:\n- `STRING`\n- `NUMBER`\n- `INTEGER`\n- `LONG`\n- `BOOLEAN`\n- `DATETIME`\n- `LOCATION`\n- `JSON`\n- `INFOTABLE`",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Service Code Examples",
    "content": "## Service Code Examples",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Simple Calculation",
    "content": "### Simple Calculation\n```javascript\nvar result = a + b;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Conditional Logic",
    "content": "### Conditional Logic\n```javascript\nvar result = \"Normal\";\nif (temperature > 100) {\n    result = \"Overheat\";\n    logger.warn(\"Temperature too high!\");\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Calling Other Services",
    "content": "### Calling Other Services\n```javascript\nvar otherResult = me.OtherService({param: value});\nvar result = otherResult + 10;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Accessing Properties",
    "content": "### Accessing Properties\n```javascript\nvar currentValue = me.PropertyName;\nme.PropertyName = newValue;\nvar result = currentValue;\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Service Header Format",
    "content": "## Service Header Format\n\n**MANDATORY**: Every service MUST include a header comment block with change information (similar to git commits).",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Header Template",
    "content": "### Header Template\n```javascript\n/**\n * Service: ServiceName\n * Created: YYYY-MM-DD HH:MM by AuthorName\n * Last Modified: YYYY-MM-DD HH:MM by AuthorName\n * \n * Description:\n *   Brief description of what this service does\n * \n * Inputs:\n *   - paramName (TYPE): Description\n *   - paramName2 (TYPE): Description\n * \n * Output:\n *   - TYPE: Description of return value\n * \n * Change Log:\n *   YYYY-MM-DD - AuthorName - Initial creation\n *   YYYY-MM-DD - AuthorName - Description of changes made\n */\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Example with Header",
    "content": "### Example with Header\n```javascript\n/**\n * Service: SolveQuadratic\n * Created: 2025-11-24 15:37 by Antigravity LLM\n * Last Modified: 2025-11-24 15:37 by Antigravity LLM\n * \n * Description:\n *   Solves quadratic equations using the quadratic formula\n *   Formula: ax^2 + bx + c = 0\n *   Solutions: x = (-b \u00b1 sqrt(b^2 - 4ac)) / 2a\n * \n * Inputs:\n *   - a (NUMBER): Coefficient of x^2\n *   - b (NUMBER): Coefficient of x\n *   - c (NUMBER): Constant term\n * \n * Output:\n *   - JSON: Object containing solution1, solution2, discriminant, and message/error\n * \n * Change Log:\n *   2025-11-24 - Antigravity LLM - Initial creation with error handling\n */\n\nvar discriminant = (b * b) - (4 * a * c);\nvar result = {};\n// ... rest of code\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "When Updating Services",
    "content": "### When Updating Services\nWhen modifying an existing service:\n1. Update the \"Last Modified\" line\n2. Add a new entry to the Change Log\n3. Keep all previous change log entries\n\nExample update:\n```javascript\n/**\n * Service: CalculateTotal\n * Created: 2025-11-20 10:00 by Developer1\n * Last Modified: 2025-11-24 15:00 by Antigravity LLM\n * \n * Description:\n *   Calculates total with tax and discount\n * \n * Change Log:\n *   2025-11-20 - Developer1 - Initial creation\n *   2025-11-22 - Developer2 - Added discount logic\n *   2025-11-24 - Antigravity LLM - Fixed tax calculation rounding error\n */\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Best Practices",
    "content": "## Best Practices\n\n1. \u2705 **Use ServiceHelper** - Always use for service creation\n2. \u2705 **Small Services** - Keep services focused on single tasks\n3. \u2705 **Error Handling** - Use try/catch in complex services\n4. \u2705 **Logging** - Use `logger.info()`, `logger.warn()`, `logger.error()`\n5. \u2705 **Test Incrementally** - Test each service after creation",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "\u274c What NOT to Do",
    "content": "## \u274c What NOT to Do\n\n- \u274c Don't download Thing definitions with `GET /Things/ThingName`\n- \u274c Don't use `AddServiceDefinition` (creates empty services only)\n- \u274c Don't try to upload modified Thing JSON files\n- \u274c Don't hardcode credentials in service code",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Environment Variables",
    "content": "## Environment Variables\n\nAlways source credentials from `.env.example`:\n```bash\nsource .env.example\necho $THINGWORX_APP_KEY\necho $THINGWORX_BASE_URL\n```",
    "type": "markdown"
  },
  {
    "file": "docs/LLM_INSTRUCTIONS.md",
    "section": "Troubleshooting",
    "content": "## Troubleshooting\n\n**Service not found after creation?**\n- Restart the Thing: `POST /Things/ThingName/Services/RestartThing`\n\n**Authentication errors?**\n- Verify AppKey is correct\n- Check Thing permissions\n\n**Service execution errors?**\n- Check ApplicationLog in ThingWorx\n- Verify parameter types match\n- Check service code syntax",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Managing Credentials Securely",
    "content": "# Managing Credentials Securely\n\nYou asked if you can use **GitHub Secrets** for local development. The short answer is **no, not directly**.\n\nGitHub Secrets are designed for **GitHub Actions** (CI/CD pipelines) and are not automatically synced to your local machine or your colleagues' machines for security reasons.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Recommended Solution: Environment Variables (`.env`)",
    "content": "## Recommended Solution: Environment Variables (`.env`)\n\nThe standard industry practice for sharing configuration without sharing secrets publicly is to use **Environment Variables** loaded from a `.env` file.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "How it works",
    "content": "### How it works\n\n1.  **The `.env` file**: This file contains your secrets (like `THINGWORX_APP_KEY`).\n2.  **Git Ignore**: We add `.env` to `.gitignore` so it is **never** committed to the repository.\n3.  **The `.env.example` file**: We commit a template file (e.g., `.env.example`) that lists the required variables but leaves the values empty or with placeholders.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Setup Instructions for You and Your Colleagues",
    "content": "### Setup Instructions for You and Your Colleagues\n\n1.  **Clone the repo**.\n2.  **Create your local secret file**:\n    Copy `.env.example` to a new file named `.env`.\n    ```bash\n    cp .env.example .env\n    ```\n3.  **Fill in your secrets**:\n    Open `.env` and paste your actual App Key.\n    ```properties\n    THINGWORX_APP_KEY=your-actual-uuid-key-here\n    ```\n4.  **Run your code**:\n    Your application code (or LLM script) should be written to read from these environment variables.",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Example: Reading Credentials in Node.js",
    "content": "### Example: Reading Credentials in Node.js\n\nIf you are writing a Node.js script, use the `dotenv` package:\n\n```javascript\nrequire('dotenv').config();\n\nconst appKey = process.env.THINGWORX_APP_KEY;\nconst baseUrl = process.env.THINGWORX_BASE_URL || config.thingworxServer.baseUrl;\n\n// Now use appKey in your headers\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Example: Reading Credentials in Python",
    "content": "### Example: Reading Credentials in Python\n\n```python\nimport os\nfrom dotenv import load_dotenv\n\nload_dotenv()\n\napp_key = os.getenv(\"THINGWORX_APP_KEY\")\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Managing_Credentials.md",
    "section": "Sharing with Colleagues",
    "content": "## Sharing with Colleagues\n\nTo share the secret key with colleagues:\n1.  Use a secure channel (Password Manager, encrypted chat, 1Password, LastPass).\n2.  Do **not** send it via email or Slack if possible.\n3.  They will paste it into their own local `.env` file.",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Successfully Implemented: Server-Side Service Management",
    "content": "# Successfully Implemented: Server-Side Service Management",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "\u2705 Working Solution",
    "content": "## \u2705 Working Solution\n\nThe `ServiceHelper.AddServiceToThing` service is now fully functional! This allows you to add services with code to any Thing via a simple REST API call, without downloading/uploading large entity definitions.",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "How It Works",
    "content": "## How It Works\n\nThe service:\n1. Fetches the Thing's configuration as JSON\n2. Converts the parameters input to proper JavaScript objects\n3. Builds the service definition and implementation structures\n4. Injects them into the Thing's configuration\n5. Pushes the updated configuration back to ThingWorx",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Usage Example",
    "content": "## Usage Example\n\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/ServiceHelper/Services/AddServiceToThing' \\\n--header 'appKey: 59a7e8dd-6b19-4c0e-9b46-419c071d74f5' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"thingName\": \"gemini.test-helper\",\n    \"serviceName\": \"AddNumbers\",\n    \"serviceCode\": \"var result = a + b;\",\n    \"parameters\": {\n        \"a\": \"NUMBER\",\n        \"b\": \"NUMBER\"\n    },\n    \"resultType\": \"NUMBER\"\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Benefits",
    "content": "## Benefits\n\n\u2705 **Token Efficient**: No large JSON files in LLM context  \n\u2705 **Fast**: Server-side processing  \n\u2705 **Reusable**: One helper service for all Things  \n\u2705 **Simple**: Clean API interface",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Key Implementation Details",
    "content": "## Key Implementation Details\n\n- Uses `JSON.stringify()` and `JSON.parse()` to handle ThingWorx JSON parameters\n- Includes authentication headers in the `GetJSON` and `PutJSON` calls\n- Uses `PutJSON` instead of `PutText` for proper content type handling\n- Handles SSL errors for local development environments",
    "type": "markdown"
  },
  {
    "file": "docs/ServiceHelper_Success.md",
    "section": "Next Steps",
    "content": "## Next Steps\n\nYou can now create additional helper services for:\n- Updating existing service code\n- Adding properties\n- Removing services\n- Bulk operations\n\nAll following the same efficient server-side pattern!",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Service Header Standard",
    "content": "# Service Header Standard",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Overview",
    "content": "## Overview\n\nAll ThingWorx services created or modified by LLMs MUST include a standardized header comment block with change tracking information (similar to git commits).",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Mandatory Header Format",
    "content": "## Mandatory Header Format\n\n```javascript\n/**\n * Service: ServiceName\n * Created: YYYY-MM-DD HH:MM by AuthorName\n * Last Modified: YYYY-MM-DD HH:MM by AuthorName\n * \n * Description:\n *   Brief description of what this service does\n * \n * Inputs:\n *   - paramName (TYPE): Description\n *   - paramName2 (TYPE): Description\n * \n * Output:\n *   - TYPE: Description of return value\n * \n * Change Log:\n *   YYYY-MM-DD - AuthorName - Initial creation\n *   YYYY-MM-DD - AuthorName - Description of changes made\n */\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Header Components",
    "content": "## Header Components",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "1. Service Identification",
    "content": "### 1. Service Identification\n- **Service**: The exact name of the service\n- **Created**: Initial creation timestamp and author\n- **Last Modified**: Most recent modification timestamp and author",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "2. Description",
    "content": "### 2. Description\n- Clear explanation of what the service does\n- Include formulas, algorithms, or business logic if relevant\n- Keep it concise but informative",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "3. Inputs",
    "content": "### 3. Inputs\n- List all input parameters\n- Include data type and description for each\n- Note any constraints or special requirements",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "4. Output",
    "content": "### 4. Output\n- Specify the return type\n- Describe what the output represents\n- For complex types (JSON, INFOTABLE), describe the structure",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "5. Change Log",
    "content": "### 5. Change Log\n- **Chronological list** of all changes\n- Format: `YYYY-MM-DD - AuthorName - Description`\n- Keep ALL previous entries (don't delete history)\n- Be specific about what changed",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Examples",
    "content": "## Examples",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "New Service",
    "content": "### New Service\n```javascript\n/**\n * Service: CalculateDiscount\n * Created: 2025-11-24 16:00 by Antigravity LLM\n * Last Modified: 2025-11-24 16:00 by Antigravity LLM\n * \n * Description:\n *   Calculates the discounted price based on original price and discount percentage\n * \n * Inputs:\n *   - originalPrice (NUMBER): Original price before discount\n *   - discountPercent (NUMBER): Discount percentage (0-100)\n * \n * Output:\n *   - NUMBER: Final price after applying discount\n * \n * Change Log:\n *   2025-11-24 - Antigravity LLM - Initial creation\n */\n\nvar result = originalPrice * (1 - (discountPercent / 100));\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Updated Service",
    "content": "### Updated Service\n```javascript\n/**\n * Service: CalculateDiscount\n * Created: 2025-11-24 16:00 by Antigravity LLM\n * Last Modified: 2025-11-24 16:30 by Antigravity LLM\n * \n * Description:\n *   Calculates the discounted price based on original price and discount percentage\n *   Now includes validation to prevent negative prices\n * \n * Inputs:\n *   - originalPrice (NUMBER): Original price before discount (must be > 0)\n *   - discountPercent (NUMBER): Discount percentage (0-100)\n * \n * Output:\n *   - JSON: Object with finalPrice and savings, or error message\n * \n * Change Log:\n *   2025-11-24 16:00 - Antigravity LLM - Initial creation\n *   2025-11-24 16:30 - Antigravity LLM - Added input validation and error handling\n */\n\nvar result = {};\n\nif (originalPrice <= 0) {\n    result.error = \"Original price must be greater than 0\";\n} else if (discountPercent < 0 || discountPercent > 100) {\n    result.error = \"Discount must be between 0 and 100\";\n} else {\n    result.finalPrice = originalPrice * (1 - (discountPercent / 100));\n    result.savings = originalPrice - result.finalPrice;\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "Benefits",
    "content": "## Benefits\n\n\u2705 **Traceability**: Know who changed what and when  \n\u2705 **Documentation**: Self-documenting code  \n\u2705 **Collaboration**: Team members understand service history  \n\u2705 **Debugging**: Easier to track down when issues were introduced  \n\u2705 **Compliance**: Audit trail for changes",
    "type": "markdown"
  },
  {
    "file": "docs/Service_Header_Standard.md",
    "section": "LLM Implementation",
    "content": "## LLM Implementation\n\nWhen using ServiceHelper to create/update services, the header is part of the `serviceCode` parameter:\n\n```bash\ncurl ... --data '{\n    \"thingName\": \"MyThing\",\n    \"serviceName\": \"MyService\",\n    \"serviceCode\": \"/**\\n * Service: MyService\\n * Created: ...\\n * ...\\n */\\n\\nvar result = ...;\",\n    ...\n}'\n```\n\nNote: Use `\\n` for newlines in the JSON string.",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "ThingWorx REST API Guide for LLMs",
    "content": "# ThingWorx REST API Guide for LLMs\n\nThis guide provides instructions on how to interact with the ThingWorx server using its REST API. This is intended for LLMs or developers automating tasks.",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "1. Base Configuration",
    "content": "## 1. Base Configuration\n\nAll API requests should be directed to the ThingWorx server base URL.\n\n**Base URL Format:**\n`http://<server-host>:<port>/Thingworx`\n\n**Example Environment:**\n- Host: `192.168.20.3`\n- Port: `8080`",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "2. Authentication",
    "content": "## 2. Authentication\n\nAuthentication is typically handled via an Application Key (AppKey).\n\n**Headers Required:**\n- `appKey`: `<YOUR_APP_KEY>`\n- `Content-Type`: `application/json`\n- `Accept`: `application/json`",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "3. Common Operations (with cURL Examples)",
    "content": "## 3. Common Operations (with cURL Examples)\n\nThe following examples assume:\n- Host: `192.168.20.3:8080`\n- Thing: `atio.example-thing`\n- AppKey: `ea56f55d-1f9e-4f11-9159-016728a7a3c6` (Replace with your actual key)",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "3.1. Properties",
    "content": "### 3.1. Properties\n\n#### Get a Property\nRetrieves the current value of a specific property.\n\n**Endpoint:** `GET /Things/<ThingName>/Properties/<PropertyName>`\n\n**cURL Example:**\n```bash\ncurl --location 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Properties/exampleInt' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json'\n```\n\n#### Set a Property\nUpdates the value of a specific property. Note that we use `PUT` on the `Properties` collection with a JSON body containing the key-value pair.\n\n**Endpoint:** `PUT /Things/<ThingName>/Properties/*`\n\n**cURL Example:**\n```bash\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Properties/*' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"exampleInt\": 10\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "3.2. Services",
    "content": "### 3.2. Services\n\n#### Execute a Service\nRuns a service defined on a Thing.\n\n**Endpoint:** `POST /Things/<ThingName>/Services/<ServiceName>`\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/atio.example-thing/Services/doubleExampleInt' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json'\n```\n*Note: If the service requires parameters, include them in the `--data` JSON object.*",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4. Entity Management",
    "content": "## 4. Entity Management",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.1. Creating a Thing",
    "content": "### 4.1. Creating a Thing\nTo create a new Thing, use the `CreateThing` service on the `EntityServices` resource.\n\n**Endpoint:** `POST /Resources/EntityServices/Services/CreateThing`\n\n**Parameters:**\n- `name`: Name of the new Thing.\n- `thingTemplateName`: The template to inherit from (e.g., 'GenericThing').\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Resources/EntityServices/Services/CreateThing' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewThing\",\n    \"thingTemplateName\": \"GenericThing\"\n}'\n```\n*After creation, you typically need to enable the Thing using the `EnableThing` service.*",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.2. Creating a Property",
    "content": "### 4.2. Creating a Property\nTo add a property definition to a specific Thing (not a template), use the `AddPropertyDefinition` service on the Thing itself.\n\n**Endpoint:** `POST /Things/<ThingName>/Services/AddPropertyDefinition`\n\n**Parameters:**\n- `name`: Property name.\n- `type`: Data type (STRING, NUMBER, BOOLEAN, etc.).\n- `description`: (Optional) Description.\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/MyNewThing/Services/AddPropertyDefinition' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewProperty\",\n    \"type\": \"STRING\",\n    \"description\": \"A property created via API\"\n}'\n```\n*Note: You may need to restart the Thing or the server for some changes to fully take effect, though usually adding a property is immediate.*",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.3. Writing (Defining) a Service",
    "content": "### 4.3. Writing (Defining) a Service\nTo add a new service definition to a Thing, use `AddServiceDefinition`. To update the code of an existing service, use `UpdateServiceDefinition` (or `AddServiceDefinition` with overwrite parameters depending on version, but `Add` is safer for creation).\n\n**Endpoint:** `POST /Things/<ThingName>/Services/AddServiceDefinition`\n\n**Parameters:**\n- `name`: Service name.\n- `code`: The JavaScript code.\n- `resultType`: Return type.\n- `parameters`: JSON object defining input parameters.\n\n**cURL Example:**\n```bash\ncurl --location --request POST 'http://192.168.20.3:8080/Thingworx/Things/MyNewThing/Services/AddServiceDefinition' \\\n--header 'appKey: ea56f55d-1f9e-4f11-9159-016728a7a3c6' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"name\": \"MyNewService\",\n    \"description\": \"Returns a greeting\",\n    \"category\": \"\",\n    \"code\": \"var result = \\\"Hello, \\\" + name;\",\n    \"isAllowOverride\": true,\n    \"isLocalOnly\": false,\n    \"isOpen\": false,\n    \"isPrivate\": false,\n    \"isProtected\": false,\n    \"resultType\": \"STRING\",\n    \"parameters\": {\n        \"rows\": [\n            {\n                \"name\": \"name\",\n                \"baseType\": \"STRING\",\n                \"description\": \"Name to greet\",\n                \"aspects\": {}\n            }\n        ]\n    }\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.4. Creating a Project",
    "content": "### 4.4. Creating a Project\nTo create a Project, use a `PUT` request to the `/Projects` collection endpoint.\n\n**Endpoint:** `PUT /Projects`\n\n**cURL Example:**\n```bash\ncurl --location --request PUT 'http://192.168.20.3:8080/Thingworx/Projects?Content-Type=application/json' \\\n--header 'appKey: <YOUR_APP_KEY>' \\\n--header 'Accept: application/json' \\\n--header 'Content-Type: application/json' \\\n--data '{\n    \"entityType\": \"Projects\",\n    \"name\": \"MyNewProject\",\n    \"description\": \"A new project\",\n    \"tags\": []\n}'\n```",
    "type": "markdown"
  },
  {
    "file": "docs/ThingWorx_API_Guide.md",
    "section": "4.5. Assigning Entities to a Project",
    "content": "### 4.5. Assigning Entities to a Project\nWhen creating an entity (Mashups, Things, etc.), you can assign it to a Project by including the `projectName` property in the main JSON payload.\n\n**Key Property:**\n`\"projectName\": \"<ProjectName>\"`\n\n**Example Payload (for Mashup creation):**\n```json\n{\n    \"entityType\": \"Mashups\",\n    \"name\": \"MyProjectMashup\",\n    \"projectName\": \"MyNewProject\", // Assigns this entity to 'MyNewProject'\n    \"mashupContent\": \"...\"\n}\n```\n*Note: If `projectName` is omitted, entities are typically assigned to 'PTCDefaultProject' or the system default.*",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Mashup Creation Recipes",
    "content": "# Mashup Creation Recipes\n\nThis document collects proven recipes for programmatically creating ThingWorx Mashups. These recipes are designed to be used by agents or developers to quickly generate correct Mashup structures.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 1: Two-Column Responsive Layout",
    "content": "## Recipe 1: Two-Column Responsive Layout\n\nThis recipe creates a responsive Mashup with two side-by-side columns, each containing a centered label.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   Demonstrates correct nesting of `flexcontainer` widgets.\n*   Shows how to use `flex-direction: row` vs `column`.\n*   Uses modern `ptcslabel` widgets.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Row] --> Left[Left Container<br/>Column]\n    Root --> Right[Right Container<br/>Column]\n    Left --> Label1[Label: Hello]\n    Right --> Label2[Label: World]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Root Container\nThe root container holds the two columns. It uses `row` direction to place them side-by-side.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"row\", // Horizontal layout\n        \"align-items\": \"center\",\n        \"justify-content\": \"space-around\", // Space out columns\n        \"flex-grow\": 1,\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```\n\n#### 2. Child Containers (Columns)\nEach child container holds content (ex. a label). It uses `column` direction (default vertical stacking) and centers its content.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"column\",\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\", // Center content vertically\n        \"flex-grow\": 1, // fill available space\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script as a template to create this layout. Remember to update `MASHUP_NAME`.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.hello-world-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Hello World Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"row\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"space-around\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Container 1 (Left)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-1\",\n                                \"DisplayName\": \"container-hello\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-hello\",\n                                        \"DisplayName\": \"lblHello\",\n                                        \"LabelText\": \"Hello\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        },\n                        // Container 2 (Right)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-2\",\n                                \"DisplayName\": \"container-world\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-world\",\n                                        \"DisplayName\": \"lblWorld\",\n                                        \"LabelText\": \"World\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    // Construct Payload\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Recipe Created Mashup\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                     \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Send Request\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 2: Vertical Stacked Layout",
    "content": "## Recipe 2: Vertical Stacked Layout\n\nThis recipe creates a responsive Mashup with two stacked containers (one above the other), each containing a centered label.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   Demonstrates vertical stacking using `flex-direction: column` on the root.\n*   Shows how to structure simple dashboard-like vertical sections.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Column] --> Top[Top Container<br/>Column]\n    Root --> Bottom[Bottom Container<br/>Column]\n    Top --> Label1[Label: Hello]\n    Bottom --> Label2[Label: World]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Root Container\nThe root container uses `column` direction to stack children vertically.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"flex-direction\": \"column\", // Vertical layout\n        \"align-items\": \"center\",\n        \"justify-content\": \"center\",\n        \"flex-grow\": 1,\n        \"ResponsiveLayout\": true\n    },\n    \"Widgets\": [ ... ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script as a template to create this layout. Remember to update `MASHUP_NAME`.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.hello-world-vertical-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Hello World Vertical Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"column\", // Vertical Stacking\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Container 1 (Top)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-top\",\n                                \"DisplayName\": \"container-hello\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-hello\",\n                                        \"DisplayName\": \"lblHello\",\n                                        \"LabelText\": \"Hello\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        },\n                        // Container 2 (Bottom)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-bottom\",\n                                \"DisplayName\": \"container-world\",\n                                \"flex-direction\": \"column\",\n                                \"align-items\": \"center\",\n                                \"justify-content\": \"center\",\n                                \"flex-grow\": 1,\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"ptcslabel\",\n                                        \"__TypeDisplayName\": \"Label\",\n                                        \"Id\": \"ptcslabel-world\",\n                                        \"DisplayName\": \"lblWorld\",\n                                        \"LabelText\": \"World\",\n                                        \"HorizontalAlignment\": \"left\",\n                                        \"VerticalAlignment\": \"flex-start\",\n                                        \"UseTheme\": true,\n                                        \"Visible\": true\n                                    },\n                                    \"Widgets\": []\n                                }\n                            ]\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Hello World Vertical Mashup\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                     \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 3: Complex Fixed Sidebar Layout",
    "content": "## Recipe 3: Complex Fixed Sidebar Layout\n\nThis recipe demonstrates a more advanced layout commonly used for applications: A main workspace flanked by fixed-width static sidebars (e.g., for navigation or tool panels).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Mixing Static & Responsive**: Shows how to keep sidebars fixed while the center content grows.\n*   **Strict Flex Sizing**: Demonstrates the use of explicit `flex-min-width` and `flex-max-width` to force containers to adhere to specific pixel dimensions.\n*   **Empty Static Containers**: Shows configuration for structural containers that may be populated dynamically at runtime or used for spacing.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Row] --> Left[Left Container<br/>Fixed 150px]\n    Root --> Middle[Middle Container<br/>Flexible Column]\n    Root --> Right[Right Container<br/>Fixed 150px]\n    \n    Middle --> Top[Top Inner<br/>Start Helper]\n    Middle --> Bottom[Bottom Inner<br/>End Helper]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Fixed Sidebar Containers\nTo force a container to be exactly 150px wide and **never** resize, you must use a combination of standard properties and strict flex properties.\n\n**Critical Properties**:\n*   `ResponsiveLayout`: `false` (Treats internal layout as static canvas, good for fixed tools).\n*   `flex-grow`: `0` (Do not grow).\n*   `flex-shrink`: `0` (Do not shrink).\n*   `flex-basis`: `\"150px\"` (Initial size).\n*   `flex-min-width`: `\"150px\"` (Hard floor).\n*   `flex-max-width`: `\"150px\"` (Hard ceiling).\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"Id\": \"flexcontainer-left\",\n        \"DisplayName\": \"FixedSidebar\",\n        \"ResponsiveLayout\": false, // Static internal\n        \"Width\": 150,\n        \"MinWidth\": 150,\n        \"MaxWidth\": 150,\n        // STRICT FLEX LOCKING\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"150px\",\n        \"flex-min-width\": \"150px\",\n        \"flex-max-width\": \"150px\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script to generate the complex layout.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.complex-layout-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Complex Layout Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-row\",\n                        \"flex-direction\": \"row\", // Horizontal main layout\n                        \"align-items\": \"stretch\",\n                        \"justify-content\": \"flex-start\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // 1. LEFT CONTAINER (Fixed 150px, Static)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-left\",\n                                \"DisplayName\": \"container-left-fixed\",\n                                // \"Static\" internal behavior\n                                \"ResponsiveLayout\": false,\n                                \"Width\": 150,\n                                \"MinWidth\": 150,\n                                \"MaxWidth\": 150,\n                                // Strict Flex Fixed sizing\n                                \"flex-grow\": 0,\n                                \"flex-shrink\": 0,\n                                \"flex-basis\": \"150px\",\n                                \"flex-min-width\": \"150px\",\n                                \"flex-max-width\": \"150px\",\n                                \"Style\": \"DefaultContainerStyle\"\n                            },\n                            \"Widgets\": [] // Empty as requested\n                        },\n                        // 2. MIDDLE CONTAINER (Flexible, Vertical Stack)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-middle\",\n                                \"DisplayName\": \"container-middle-flex\",\n                                \"flex-direction\": \"column\", // Vertical stack inside\n                                \"align-items\": \"stretch\",\n                                \"justify-content\": \"flex-start\",\n                                \"flex-grow\": 1, // Take remaining space\n                                \"ResponsiveLayout\": true\n                            },\n                            \"Widgets\": [\n                                // Top Inner (Hello)\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"flexcontainer\",\n                                        \"Id\": \"flexcontainer-mid-top\",\n                                        \"DisplayName\": \"container-hello\",\n                                        \"flex-direction\": \"column\",\n                                        \"align-items\": \"center\",\n                                        \"justify-content\": \"center\",\n                                        \"flex-grow\": 1,\n                                        \"ResponsiveLayout\": true\n                                    },\n                                    \"Widgets\": [\n                                        {\n                                            \"Properties\": {\n                                                \"Type\": \"ptcslabel\",\n                                                \"Id\": \"ptcslabel-hello\",\n                                                \"LabelText\": \"Hello\",\n                                                \"Visible\": true\n                                            },\n                                            \"Widgets\": []\n                                        }\n                                    ]\n                                },\n                                // Bottom Inner (World)\n                                {\n                                    \"Properties\": {\n                                        \"Type\": \"flexcontainer\",\n                                        \"Id\": \"flexcontainer-mid-bottom\",\n                                        \"DisplayName\": \"container-world\",\n                                        \"flex-direction\": \"column\",\n                                        \"align-items\": \"center\",\n                                        \"justify-content\": \"center\",\n                                        \"flex-grow\": 1,\n                                        \"ResponsiveLayout\": true\n                                    },\n                                    \"Widgets\": [\n                                        {\n                                            \"Properties\": {\n                                                \"Type\": \"ptcslabel\",\n                                                \"Id\": \"ptcslabel-world\",\n                                                \"LabelText\": \"World\",\n                                                \"Visible\": true\n                                            },\n                                            \"Widgets\": []\n                                        }\n                                    ]\n                                }\n                            ]\n                        },\n                        // 3. RIGHT CONTAINER (Fixed 150px, Static)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"flexcontainer\",\n                                \"__TypeDisplayName\": \"Responsive Container\",\n                                \"Id\": \"flexcontainer-right\",\n                                \"DisplayName\": \"container-right-fixed\",\n                                // \"Static\" internal behavior\n                                \"ResponsiveLayout\": false,\n                                \"Width\": 150,\n                                \"MinWidth\": 150,\n                                \"MaxWidth\": 150,\n                                // Strict Flex Fixed sizing\n                                \"flex-grow\": 0,\n                                \"flex-shrink\": 0,\n                                \"flex-basis\": \"150px\",\n                                \"flex-min-width\": \"150px\",\n                                \"flex-max-width\": \"150px\",\n                                \"Style\": \"DefaultContainerStyle\"\n                            },\n                            \"Widgets\": [] // Empty as requested\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    // DELETE existing mashup first to avoid 409\n    try {\n        console.log(`Deleting existing Mashup (if any): ${MASHUP_NAME}...`);\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: {\n                'appKey': APP_KEY,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        });\n    } catch (e) {\n        // Ignore delete errors\n    }\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Complex Layout Mashup (Left/Right Fixed Static 150px, Center Split)\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                     \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 4: Border Layout (Holy Grail)",
    "content": "## Recipe 4: Border Layout (Holy Grail)\n\nThis recipe implements a classic \"Holy Grail\" or \"Border Layout\": Header, Footer, Left Sidebar, Right Sidebar, and a flexible Center content area.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Full Application Layout**: Typical dashboard structure.\n*   **Nested Flex Stacks**: Uses a vertical stack for the main structure (Header / Middle / Footer) and a horizontal stack for the middle section (Left / Center / Right).\n*   **Fixed Dimension Containers**: Demonstrates locking height for headers/footers and width for sidebars.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Root[Root FlexContainer<br/>Column] --> Top[Top Container<br/>Fixed Height 100px]\n    Root --> Middle[Middle Row<br/>Flexible Row]\n    Root --> Bottom[Bottom Container<br/>Fixed Height 100px]\n    \n    Middle --> Left[Left Sidebar<br/>Fixed Width 100px]\n    Middle --> Center[Center Content<br/>Flexible Column]\n    Middle --> Right[Right Sidebar<br/>Fixed Width 100px]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Header/Footer (Fixed Height)\nTo fix vertical height, use `MinHeight`, `MaxHeight`, and matching flex properties.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"ResponsiveLayout\": false,\n        \"Height\": 100,\n        \"MinHeight\": 100,\n        \"MaxHeight\": 100,\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"100px\",\n        \"flex-min-height\": \"100px\",\n        \"flex-max-height\": \"100px\"\n    },\n    \"Widgets\": []\n}\n```\n\n#### 2. Sidebars (Fixed Width)\nSame concept but using Width properties.\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"ResponsiveLayout\": false,\n        \"Width\": 100,\n        \"MinWidth\": 100,\n        \"MaxWidth\": 100,\n        \"flex-grow\": 0,\n        \"flex-shrink\": 0,\n        \"flex-basis\": \"100px\",\n        \"flex-min-width\": \"100px\",\n        \"flex-max-width\": \"100px\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 5: Using a Master Mashup",
    "content": "## Recipe 5: Using a Master Mashup\n\nYou can assign a **Master Mashup** to your new Mashup to inherit common header, footer, or navigation elements.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Usage",
    "content": "### Usage\nTo specify a Master Mashup, add the `\"Master\"` property to the root `UI` -> `Properties` object in your JSON definition.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "JSON Snippet",
    "content": "### JSON Snippet\n```javascript\n\"UI\": {\n    \"Properties\": {\n        \"Id\": \"mashup-root\",\n        \"Type\": \"mashup\",\n        \"ResponsiveLayout\": true,\n        \"Title\": \"My Mashup with Master\",\n        // ... other properties ...\n        \"Master\": \"antigravity.Master-mm\" // Add this line!\n    },\n    \"Widgets\": [ ... ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Important Notes",
    "content": "### Important Notes\n*   **Name Validation**: Ensure the Master Mashup name (`antigravity.Master-mm` in the example) exists on the server *before* you create your child mashup, otherwise creation might fail or the mashup will be broken.\n*   **Layout Inheritance**: Your mashup's content will be injected into the `Content` placeholder of the Master Mashup.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 6: Integrating Thing Services into Mashups",
    "content": "## Recipe 6: Integrating Thing Services into Mashups\n\nThis recipe demonstrates how to add services from external Things to your Mashup, making them available for data binding, event handling, and service invocation.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **External Service Integration**: Shows how to register services from Things in the Mashup's Data section.\n*   **Service Configuration**: Explains the structure and properties needed to properly configure Thing services.\n*   **Real-World Example**: Uses the `ServiceHelper` Thing with its `Rechner` service as a practical example.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "When to Use",
    "content": "### When to Use\nUse this pattern when you need to:\n*   Call services from Things in response to user actions (e.g., button clicks)\n*   Bind Thing service results to UI widgets (e.g., display calculation results)\n*   Access Thing properties or methods from within the Mashup\n*   Create interactive dashboards that communicate with backend Things",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Data Section Structure",
    "content": "### Data Section Structure\n\nThe `Data` section of a Mashup contains all external data sources. By default, every Mashup includes `Session` and `UserExtensions`. To add Thing services, you add a new entry for each Thing.\n\n#### Basic Structure\n```javascript\n\"Data\": {\n    \"Session\": { ... },           // Always present\n    \"UserExtensions\": { ... },    // Always present\n    \"YourThingName\": {            // Add your Thing here\n        \"DataName\": \"YourThingName\",\n        \"EntityName\": \"YourThingName\",\n        \"EntityType\": \"Things\",   // Critical: Must be \"Things\" for Thing entities\n        \"Id\": \"YourThingName\",\n        \"Services\": [ ... ]       // Array of services to register\n    }\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Adding a Thing as a Data Source",
    "content": "### Adding a Thing as a Data Source\n\nTo add a Thing to your Mashup, you need to specify:\n\n| Property | Description | Example |\n|----------|-------------|---------|\n| `DataName` | Display name for the data source | `\"ServiceHelper\"` |\n| `EntityName` | Exact name of the Thing on the server | `\"ServiceHelper\"` |\n| `EntityType` | Type of entity - **must be `\"Things\"`** | `\"Things\"` |\n| `Id` | Unique identifier within the Mashup | `\"ServiceHelper\"` |\n| `Services` | Array of service definitions | `[{ ... }]` |\n\n> [!IMPORTANT]\n> The `EntityType` must be exactly `\"Things\"` (case-sensitive) for Thing entities. Other entity types include `\"Session\"`, `\"UserExtensions\"`, `\"Resources\"`, etc.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Registering Services",
    "content": "### Registering Services\n\nEach service in the `Services` array must be configured with the following properties:\n\n```javascript\n{\n    \"Id\": \"UniqueServiceId\",        // Unique ID for this service instance\n    \"Name\": \"ServiceName\",          // Exact name of the service on the Thing\n    \"Characteristic\": \"Services\",   // Always \"Services\" for service calls\n    \"Target\": \"ServiceName\",        // Same as Name - the service to invoke\n    \"APIMethod\": \"post\",            // HTTP method - always \"post\" for services\n    \"RefreshInterval\": 0,           // Auto-refresh interval in ms (0 = manual only)\n    \"Parameters\": {}                // Service parameters (if any)\n}\n```\n\n#### Service Properties Explained\n\n*   **Id**: A unique identifier for this service within the Mashup. Can be descriptive (e.g., `\"RechnerService\"`) or match the service name.\n*   **Name**: The exact name of the service as defined on the Thing. **Case-sensitive**.\n*   **Characteristic**: Always set to `\"Services\"` when registering a service.\n*   **Target**: The service method to call. Typically the same as `Name`.\n*   **APIMethod**: Always `\"post\"` for service invocations.\n*   **RefreshInterval**: How often to auto-refresh the service (in milliseconds). Set to `0` for manual invocation only.\n*   **Parameters**: An object containing default parameter values. Can be empty `{}` if parameters will be bound dynamically.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: ServiceHelper with Rechner Service",
    "content": "### Complete Example: ServiceHelper with Rechner Service\n\nThis example shows how to add the `Rechner` service from the `ServiceHelper` Thing.\n\n```javascript\nconst mashupContent = {\n    \"UI\": {\n        \"Properties\": {\n            \"Id\": \"mashup-root\",\n            \"Type\": \"mashup\",\n            \"ResponsiveLayout\": true,\n            \"Width\": 1024,\n            \"Height\": 618,\n            \"Style\": \"DefaultMashupStyle\",\n            \"StyleTheme\": \"PTC Convergence Theme\",\n            \"Title\": \"Service Helper Mashup\",\n            \"Area\": \"Mashup\",\n            \"__TypeDisplayName\": \"Mashup\",\n            \"Visible\": true,\n            \"Z-index\": 10,\n            \"Top\": 0,\n            \"Left\": 0\n        },\n        \"Widgets\": [\n            {\n                \"Properties\": {\n                    \"Type\": \"flexcontainer\",\n                    \"__TypeDisplayName\": \"Responsive Container\",\n                    \"Id\": \"flexcontainer-root\",\n                    \"DisplayName\": \"root-container\",\n                    \"flex-direction\": \"column\",\n                    \"align-items\": \"center\",\n                    \"justify-content\": \"center\",\n                    \"flex-grow\": 1,\n                    \"ResponsiveLayout\": true,\n                    \"LastContainer\": true\n                },\n                \"Widgets\": []\n            }\n        ]\n    },\n    \"Data\": {\n        \"Session\": {\n            \"DataName\": \"Session\",\n            \"EntityName\": \"\",\n            \"EntityType\": \"Session\",\n            \"Id\": \"session\",\n            \"Services\": [{\n                \"Id\": \"SessionInterface\",\n                \"Name\": \"GetGlobalSessionValues\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"GetGlobalSessionValues\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }]\n        },\n        \"UserExtensions\": {\n            \"DataName\": \"UserExtensions\",\n            \"EntityName\": \"\",\n            \"EntityType\": \"UserExtensions\",\n            \"Id\": \"UserExtensions\",\n            \"Services\": [{\n                \"Id\": \"UserExtensionInterface\",\n                \"Name\": \"GetCurrentUserExtensionProperties\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"GetCurrentUserExtensionProperties\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }]\n        },\n        // ===== ADD YOUR THING HERE =====\n        \"ServiceHelper\": {\n            \"DataName\": \"ServiceHelper\",\n            \"EntityName\": \"ServiceHelper\",      // Exact Thing name on server\n            \"EntityType\": \"Things\",             // Must be \"Things\"\n            \"Id\": \"ServiceHelper\",\n            \"Services\": [{\n                \"Id\": \"RechnerService\",         // Unique ID for this service\n                \"Name\": \"Rechner\",              // Exact service name (case-sensitive)\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}                // Add parameters if needed\n            }]\n        }\n    },\n    \"Events\": [],\n    \"DataBindings\": [],\n    \"mashupType\": \"mashup\"\n};\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Adding Multiple Services from the Same Thing",
    "content": "### Adding Multiple Services from the Same Thing\n\nYou can register multiple services from the same Thing by adding more entries to the `Services` array:\n\n```javascript\n\"ServiceHelper\": {\n    \"DataName\": \"ServiceHelper\",\n    \"EntityName\": \"ServiceHelper\",\n    \"EntityType\": \"Things\",\n    \"Id\": \"ServiceHelper\",\n    \"Services\": [\n        {\n            \"Id\": \"RechnerService\",\n            \"Name\": \"Rechner\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"Rechner\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        },\n        {\n            \"Id\": \"AnotherService\",\n            \"Name\": \"AnotherServiceName\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"AnotherServiceName\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        }\n    ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Adding Multiple Things",
    "content": "### Adding Multiple Things\n\nTo add services from multiple Things, add separate entries in the `Data` section:\n\n```javascript\n\"Data\": {\n    \"Session\": { ... },\n    \"UserExtensions\": { ... },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [ ... ]\n    },\n    \"AnotherThing\": {\n        \"DataName\": \"AnotherThing\",\n        \"EntityName\": \"AnotherThing\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"AnotherThing\",\n        \"Services\": [ ... ]\n    }\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Service Parameters",
    "content": "### Service Parameters\n\nIf your service requires parameters, you can specify default values in the `Parameters` object:\n\n```javascript\n{\n    \"Id\": \"CalculateService\",\n    \"Name\": \"Calculate\",\n    \"Characteristic\": \"Services\",\n    \"Target\": \"Calculate\",\n    \"APIMethod\": \"post\",\n    \"RefreshInterval\": 0,\n    \"Parameters\": {\n        \"input1\": 10,\n        \"input2\": 20,\n        \"operation\": \"add\"\n    }\n}\n```\n\n> [!NOTE]\n> Parameters can also be bound dynamically from UI widgets using Data Bindings. The values in the `Parameters` object serve as defaults.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Using the Service in the Mashup",
    "content": "### Using the Service in the Mashup\n\nOnce registered, the service can be:\n1. **Invoked by Events**: Bind a button's `Clicked` event to the service\n2. **Bound to Widgets**: Bind service output to labels, grids, or other display widgets\n3. **Chained with Other Services**: Use the output of one service as input to another\n\nThese bindings are configured in the `Events` and `DataBindings` sections of the Mashup JSON.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!WARNING]\n> **Case Sensitivity**: Thing names and service names are case-sensitive. `\"ServiceHelper\"` is different from `\"servicehelper\"`.\n\n> [!WARNING]\n> **EntityType**: Always use `\"Things\"` (capital T) for Thing entities. Using `\"Thing\"` or `\"things\"` will fail.\n\n> [!CAUTION]\n> **Thing Existence**: Ensure the Thing exists on the server before creating the Mashup. If the Thing doesn't exist, the Mashup will be created but the service will not be available.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Script Example",
    "content": "### Full Script Example\n\nSee [create_service_helper_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_service_helper_mashup.js) for a complete working example that creates a Mashup with the ServiceHelper Thing and Rechner service.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 7: Interactive Mashups with Service Bindings and Events",
    "content": "## Recipe 7: Interactive Mashups with Service Bindings and Events\n\nThis recipe demonstrates how to create fully interactive mashups that bind UI widgets to service parameters, invoke services on button clicks, and display service results. This is essential for creating functional applications.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Complete Interactivity**: Shows how to create mashups where user actions trigger service calls\n*   **Data Flow**: Demonstrates bidirectional data flow between UI and services\n*   **Event Handling**: Explains how to bind button clicks to service invocations\n*   **Real Example**: Uses a working calculator mashup as reference",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "When to Use",
    "content": "### When to Use\nUse this pattern when you need to:\n*   Create forms that submit data to services\n*   Build calculators or data processors\n*   Implement search or filter functionality\n*   Create any mashup where user input triggers backend processing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview: The Three Key Components",
    "content": "### Overview: The Three Key Components\n\n1. **Service Integration** (Recipe 6): Add the Thing and its service to the Data section\n2. **Data Bindings**: Connect UI widgets to service parameters and outputs\n3. **Event Bindings**: Trigger service execution on user actions (e.g., button clicks)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Binding Structure",
    "content": "### Event Binding Structure\n\nEvents bind user actions (like button clicks) to service invocations. The structure is different from DataBindings.\n\n#### Event Binding Format\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"unique-event-id\",\n        \"EventTriggerArea\": \"UI\",              // Where the event originates\n        \"EventHandlerArea\": \"Data\",            // Where the handler is (service)\n        \"EventTriggerSection\": \"\",             // Empty for UI widgets\n        \"EventTriggerId\": \"button-widget-id\",  // Widget that triggers the event\n        \"EventTriggerEvent\": \"Clicked\",        // Event type (Clicked, Changed, etc.)\n        \"EventHandlerId\": \"ThingName\",         // Thing name from Data section\n        \"EventHandlerService\": \"ServiceName\"   // Service to invoke\n    }\n]\n```\n\n#### Key Properties\n\n| Property | Description | Example |\n|----------|-------------|---------|\n| `EventTriggerArea` | Where event originates (`\"UI\"` or `\"Data\"`) | `\"UI\"` |\n| `EventHandlerArea` | Where handler is located (`\"Data\"` or `\"UI\"`) | `\"Data\"` |\n| `EventTriggerId` | ID of widget triggering event | `\"ptcsbutton-calculate\"` |\n| `EventTriggerEvent` | Type of event | `\"Clicked\"`, `\"Changed\"`, `\"SelectedRowsChanged\"` |\n| `EventHandlerId` | Thing name (matches Data section key) | `\"ServiceHelper\"` |\n| `EventHandlerService` | Service name to invoke | `\"Rechner\"` |\n\n> [!IMPORTANT]\n> Event bindings use `EventTrigger*` and `EventHandler*` properties, **not** `Source*` and `Target*` like DataBindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "DataBinding Structure for Service Parameters",
    "content": "### DataBinding Structure for Service Parameters\n\nDataBindings connect UI widget values to service input parameters. This is how you pass user input to services.\n\n#### Service Parameter Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"widget-id\",           // UI widget ID\n        \"SourceArea\": \"UI\",\n        \"SourceSection\": \"\",\n        \"SourceDetails\": \"\",\n        \"TargetArea\": \"Data\",\n        \"TargetSection\": \"ThingName\",      // Thing name from Data section\n        \"TargetId\": \"ServiceName\",         // Service name\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",              // Widget property\n                \"SourcePropertyType\": \"Property\",\n                \"SourcePropertyBaseType\": \"NUMBER\",     // Widget data type\n                \"TargetProperty\": \"parameterName\",      // Service parameter name\n                \"TargetPropertyType\": \"Parameter\",      // \u26a0\ufe0f MUST be \"Parameter\"\n                \"TargetPropertyBaseType\": \"NUMBER\"      // Service parameter type\n            }\n        ]\n    }\n]\n```\n\n#### Critical Properties for Service Parameters\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `TargetArea` | `\"Data\"` | Service is in Data section |\n| `TargetSection` | Thing name | Matches key in Data section |\n| `TargetId` | Service name | The service to bind to |\n| `TargetPropertyType` | **`\"Parameter\"`** | \u26a0\ufe0f Critical: Identifies service input parameter |\n| `TargetPropertyBaseType` | Match service type | `\"NUMBER\"`, `\"STRING\"`, `\"BOOLEAN\"`, etc. |\n\n> [!WARNING]\n> **TargetPropertyType MUST be `\"Parameter\"`** for service input parameters. Using `\"Property\"` will not work.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "DataBinding Structure for Service Outputs",
    "content": "### DataBinding Structure for Service Outputs\n\nDataBindings also connect service results back to UI widgets for display.\n\n#### Service Output Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"ServiceName\",         // Service name\n        \"SourceArea\": \"Data\",\n        \"SourceSection\": \"ThingName\",      // Thing name from Data section\n        \"SourceDetails\": \"AllData\",        // \u26a0\ufe0f MUST be \"AllData\" for service results\n        \"TargetArea\": \"UI\",\n        \"TargetSection\": \"\",\n        \"TargetId\": \"widget-id\",           // UI widget ID\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"resultFieldName\",    // Service output field name\n                \"SourcePropertyType\": \"Field\",          // \u26a0\ufe0f MUST be \"Field\"\n                \"SourcePropertyBaseType\": \"NUMBER\",     // Service output type\n                \"TargetProperty\": \"LabelText\",          // Widget property\n                \"TargetPropertyType\": \"property\",       // lowercase \"property\"\n                \"TargetPropertyBaseType\": \"STRING\"      // Widget property type\n            }\n        ]\n    }\n]\n```\n\n#### Critical Properties for Service Outputs\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `SourceArea` | `\"Data\"` | Service is in Data section |\n| `SourceSection` | Thing name | Matches key in Data section |\n| `SourceId` | Service name | The service providing output |\n| `SourceDetails` | **`\"AllData\"`** | \u26a0\ufe0f Required for service results |\n| `SourcePropertyType` | **`\"Field\"`** | \u26a0\ufe0f Critical: Identifies service output field |\n\n> [!WARNING]\n> **SourcePropertyType MUST be `\"Field\"`** for service outputs. Using `\"Property\"` will not work.\n\n> [!IMPORTANT]\n> **SourceDetails MUST be `\"AllData\"`** for service output bindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: Calculator Mashup",
    "content": "### Complete Example: Calculator Mashup\n\nThis example shows a fully functional calculator that:\n1. Takes two numeric inputs (Zahl A and Zahl B)\n2. Invokes the ServiceHelper.Rechner service when button is clicked\n3. Displays the result in a label\n\n#### Data Section\n\n```javascript\n\"Data\": {\n    \"Session\": { /* ... standard ... */ },\n    \"UserExtensions\": { /* ... standard ... */ },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [{\n            \"Id\": \"RechnerService\",\n            \"Name\": \"Rechner\",\n            \"Characteristic\": \"Services\",\n            \"Target\": \"Rechner\",\n            \"APIMethod\": \"post\",\n            \"RefreshInterval\": 0,\n            \"Parameters\": {}\n        }]\n    }\n}\n```\n\n#### UI Widgets\n\n```javascript\n\"Widgets\": [\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-a\",\n            \"Label\": \"Zahl A:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-b\",\n            \"Label\": \"Zahl B:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcsbutton\",\n            \"Id\": \"ptcsbutton-calculate\",\n            \"Label\": \"Berechnen\"\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcslabel\",\n            \"Id\": \"ptcslabel-result\",\n            \"LabelText\": \"value ergebnis\"\n        }\n    }\n]\n```\n\n#### Events: Button Click \u2192 Service Invocation\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"event-button-invoke-rechner\",\n        \"EventTriggerArea\": \"UI\",\n        \"EventHandlerArea\": \"Data\",\n        \"EventTriggerSection\": \"\",\n        \"EventTriggerId\": \"ptcsbutton-calculate\",\n        \"EventTriggerEvent\": \"Clicked\",\n        \"EventHandlerId\": \"ServiceHelper\",\n        \"EventHandlerService\": \"Rechner\"\n    }\n]\n```\n\n#### DataBindings: Input A \u2192 Service Parameter a\n\n```javascript\n{\n    \"Id\": \"binding-input-a-to-service\",\n    \"SourceId\": \"numericentry-a\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"Value\",\n            \"SourcePropertyType\": \"Property\",\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"a\",\n            \"TargetPropertyType\": \"Parameter\",      // \u26a0\ufe0f Parameter for service input\n            \"TargetPropertyBaseType\": \"NUMBER\"\n        }\n    ]\n}\n```\n\n#### DataBindings: Input B \u2192 Service Parameter b\n\n```javascript\n{\n    \"Id\": \"binding-input-b-to-service\",\n    \"SourceId\": \"numericentry-b\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"Value\",\n            \"SourcePropertyType\": \"Property\",\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"b\",\n            \"TargetPropertyType\": \"Parameter\",      // \u26a0\ufe0f Parameter for service input\n            \"TargetPropertyBaseType\": \"NUMBER\"\n        }\n    ]\n}\n```\n\n#### DataBindings: Service Output \u2192 Label\n\n```javascript\n{\n    \"Id\": \"binding-service-result-to-label\",\n    \"SourceId\": \"Rechner\",\n    \"SourceArea\": \"Data\",\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",                     // \u26a0\ufe0f Required for service output\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"ptcslabel-result\",\n    \"PropertyMaps\": [\n        {\n            \"SourceProperty\": \"result\",\n            \"SourcePropertyType\": \"Field\",          // \u26a0\ufe0f Field for service output\n            \"SourcePropertyBaseType\": \"NUMBER\",\n            \"TargetProperty\": \"LabelText\",\n            \"TargetPropertyType\": \"property\",\n            \"TargetPropertyBaseType\": \"STRING\"\n        }\n    ]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Differences Summary",
    "content": "### Critical Differences Summary\n\n| Aspect | Service Parameter Binding | Service Output Binding |\n|--------|--------------------------|------------------------|\n| **Direction** | UI \u2192 Service | Service \u2192 UI |\n| **SourceArea** | `\"UI\"` | `\"Data\"` |\n| **TargetArea** | `\"Data\"` | `\"UI\"` |\n| **TargetPropertyType** | **`\"Parameter\"`** | `\"property\"` |\n| **SourcePropertyType** | `\"Property\"` | **`\"Field\"`** |\n| **SourceDetails** | `\"\"` | **`\"AllData\"`** |\n| **TargetSection** | Thing name | `\"\"` |\n| **SourceSection** | `\"\"` | Thing name |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "BaseType Matching",
    "content": "### BaseType Matching\n\nBaseTypes must be compatible between source and target:\n\n| Widget Type | Widget Property | BaseType | Service Parameter Type |\n|-------------|----------------|----------|----------------------|\n| `numericentry` | `Value` | `NUMBER` | `NUMBER` \u2705 |\n| `ptcstextfield` | `Text` | `STRING` | `STRING` \u2705 |\n| `ptcscheckbox` | `Checked` | `BOOLEAN` | `BOOLEAN` \u2705 |\n\n> [!NOTE]\n> Type conversions are allowed (e.g., NUMBER \u2192 STRING for display in labels), but matching types is preferred for service parameters.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Event Types",
    "content": "### Common Event Types\n\n| Widget | Event Name | Description |\n|--------|-----------|-------------|\n| `ptcsbutton` | `Clicked` | Button was clicked |\n| `ptcstextfield` | `Changed` | Text value changed |\n| `numericentry` | `Changed` | Numeric value changed |\n| `ptcsgrid` | `SelectedRowsChanged` | Grid selection changed |\n| `ptcscheckbox` | `Changed` | Checkbox state changed |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Wrong PropertyType for Parameters**: Using `TargetPropertyType: \"Property\"` instead of `\"Parameter\"` for service inputs will fail silently. The binding will appear in the mashup but won't work.\n\n> [!CAUTION]\n> **Wrong PropertyType for Outputs**: Using `SourcePropertyType: \"Property\"` instead of `\"Field\"` for service outputs will fail. Service results won't be displayed.\n\n> [!CAUTION]\n> **Missing AllData**: Forgetting `SourceDetails: \"AllData\"` for service output bindings will prevent results from being displayed.\n\n> [!CAUTION]\n> **BaseType Mismatch**: Binding a STRING widget to a NUMBER parameter without proper conversion may cause errors. Always match BaseTypes or ensure compatible conversions.\n\n> [!WARNING]\n> **Event Structure Confusion**: Don't use `SourceId`/`TargetId` in Events. Use `EventTriggerId`/`EventHandlerId` instead.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Add Service to Data Section** (Recipe 6)\n   - Define Thing with EntityType: \"Things\"\n   - Register service in Services array\n\n2. **Create UI Widgets**\n   - Input widgets (numericentry, ptcstextfield, etc.)\n   - Action widget (ptcsbutton)\n   - Output widgets (ptcslabel, etc.)\n\n3. **Bind Inputs to Service Parameters**\n   - SourceArea: \"UI\"\n   - TargetArea: \"Data\"\n   - TargetPropertyType: **\"Parameter\"**\n   - Match BaseTypes\n\n4. **Bind Service Outputs to Display Widgets**\n   - SourceArea: \"Data\"\n   - TargetArea: \"UI\"\n   - SourcePropertyType: **\"Field\"**\n   - SourceDetails: **\"AllData\"**\n\n5. **Add Event to Trigger Service**\n   - EventTriggerArea: \"UI\"\n   - EventHandlerArea: \"Data\"\n   - EventTriggerEvent: \"Clicked\"\n   - EventHandlerService: Service name",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Working Example",
    "content": "### Full Working Example\n\nSee [create_calculator_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_calculator_mashup.js) for a complete, working implementation of an interactive calculator mashup with all bindings and events properly configured.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference Checklist",
    "content": "### Quick Reference Checklist\n\nWhen creating interactive mashups with service bindings:\n\n- [ ] Service added to Data section (Recipe 6)\n- [ ] UI input widgets created\n- [ ] UI output widgets created\n- [ ] Action button created\n- [ ] Input \u2192 Parameter bindings use `TargetPropertyType: \"Parameter\"`\n- [ ] Output bindings use `SourcePropertyType: \"Field\"`\n- [ ] Output bindings include `SourceDetails: \"AllData\"`\n- [ ] BaseTypes match between source and target\n- [ ] Event binding uses `EventTrigger*` and `EventHandler*` properties\n- [ ] Event points to correct Thing and Service names",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 8: Service Chaining with ServiceInvokeCompleted",
    "content": "## Recipe 8: Service Chaining with ServiceInvokeCompleted\n\nThis recipe demonstrates how to chain multiple services together, where one service's completion automatically triggers another service, with the first service's output feeding into the second service's input. This enables complex multi-step processing workflows.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Automated Workflows**: Create multi-step processing without user intervention\n*   **Service Orchestration**: Chain services together for complex calculations\n*   **Event-Driven Architecture**: Use ServiceInvokeCompleted to trigger subsequent actions\n*   **Data Pipeline**: Pass data through multiple processing stages",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "When to Use",
    "content": "### When to Use\nUse this pattern when you need to:\n*   Perform multi-step calculations (e.g., calculate sum, then multiply result)\n*   Create data processing pipelines\n*   Implement sequential business logic\n*   Chain validation and processing steps\n*   Build complex workflows with multiple service calls",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview: Service Chaining Flow",
    "content": "### Overview: Service Chaining Flow\n\n```mermaid\ngraph LR\n    A[User Input] --> B[Service 1]\n    B -->|ServiceInvokeCompleted| C[Service 2]\n    C --> D[Display Result]\n    B -.Output.-> C\n```\n\n1. User provides input and triggers first service\n2. First service executes with user input\n3. **ServiceInvokeCompleted** event fires when first service completes\n4. Second service is automatically invoked\n5. Second service receives first service's output as input\n6. Final result is displayed to user",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "ServiceInvokeCompleted Event",
    "content": "### ServiceInvokeCompleted Event\n\nThe `ServiceInvokeCompleted` event is a special event that fires automatically when a service finishes execution. This is the key to service chaining.\n\n#### Event Properties\n\n| Property | Description |\n|----------|-------------|\n| Event Name | `ServiceInvokeCompleted` |\n| Trigger | Fires after service execution completes |\n| Availability | Available on all service invocations |\n| Use Case | Triggering subsequent services or UI updates |\n\n> [!IMPORTANT]\n> `ServiceInvokeCompleted` is automatically triggered by ThingWorx when a service finishes. You don't invoke it manually.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Data-to-Data Event Binding",
    "content": "### Data-to-Data Event Binding\n\nWhen chaining services, both the event trigger and handler are in the Data area (not UI).\n\n#### Event Binding Format for Service Chaining\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"unique-event-id\",\n        \"EventTriggerArea\": \"Data\",              // \u26a0\ufe0f Data, not UI\n        \"EventHandlerArea\": \"Data\",              // \u26a0\ufe0f Data, not UI\n        \"EventTriggerSection\": \"ThingName\",      // \u26a0\ufe0f Required for Data events\n        \"EventTriggerId\": \"FirstServiceName\",    // Service that completes\n        \"EventTriggerEvent\": \"ServiceInvokeCompleted\",\n        \"EventHandlerId\": \"ThingName\",           // Can be same or different Thing\n        \"EventHandlerService\": \"SecondServiceName\"  // Service to invoke\n    }\n]\n```\n\n#### Key Differences from UI-to-Service Events\n\n| Property | UI-to-Service Event | Service-to-Service Event |\n|----------|-------------------|------------------------|\n| `EventTriggerArea` | `\"UI\"` | **`\"Data\"`** |\n| `EventHandlerArea` | `\"Data\"` | **`\"Data\"`** |\n| `EventTriggerSection` | `\"\"` (empty) | **Thing name** (required) |\n| `EventTriggerEvent` | `\"Clicked\"`, `\"Changed\"`, etc. | **`\"ServiceInvokeCompleted\"`** |\n| `EventTriggerId` | Widget ID | **Service name** |\n\n> [!WARNING]\n> **EventTriggerSection is REQUIRED** for Data area events. It must contain the Thing name.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Service-to-Service DataBinding",
    "content": "### Service-to-Service DataBinding\n\nTo pass data from one service to another, bind the first service's output to the second service's input parameter.\n\n#### Service Output \u2192 Service Parameter Binding Format\n\n```javascript\n\"DataBindings\": [\n    {\n        \"Id\": \"unique-binding-id\",\n        \"SourceId\": \"FirstServiceName\",        // Service providing output\n        \"SourceArea\": \"Data\",\n        \"SourceSection\": \"ThingName\",\n        \"SourceDetails\": \"AllData\",            // \u26a0\ufe0f Required for service outputs\n        \"TargetArea\": \"Data\",                  // \u26a0\ufe0f Data, not UI\n        \"TargetSection\": \"ThingName\",          // Can be same or different Thing\n        \"TargetId\": \"SecondServiceName\",       // Service receiving input\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"outputFieldName\",     // First service output\n                \"SourcePropertyType\": \"Field\",           // \u26a0\ufe0f Field for service output\n                \"SourcePropertyBaseType\": \"NUMBER\",\n                \"TargetProperty\": \"inputParameterName\",  // Second service input\n                \"TargetPropertyType\": \"Parameter\",       // \u26a0\ufe0f Parameter for service input\n                \"TargetPropertyBaseType\": \"NUMBER\"\n            }\n        ]\n    }\n]\n```\n\n#### Critical Properties for Service-to-Service Binding\n\n| Property | Value | Why |\n|----------|-------|-----|\n| `SourceArea` | `\"Data\"` | First service is in Data section |\n| `TargetArea` | **`\"Data\"`** | \u26a0\ufe0f Second service is also in Data section |\n| `SourcePropertyType` | `\"Field\"` | Service output field |\n| `TargetPropertyType` | `\"Parameter\"` | Service input parameter |\n| `SourceDetails` | `\"AllData\"` | Required for service outputs |\n\n> [!IMPORTANT]\n> Both SourceArea and TargetArea are `\"Data\"` for service-to-service bindings. This is different from UI-to-Service or Service-to-UI bindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: Chained Calculator",
    "content": "### Complete Example: Chained Calculator\n\nThis example chains two services:\n1. **Rechner**: Takes two inputs (a, b), returns their sum as result\n2. **Rechner2**: Takes one input (c), returns c * 2 as result\n\n**Flow**: User inputs A and B \u2192 Rechner calculates (A + B) \u2192 Rechner2 calculates (result * 2) \u2192 Display final result\n\n#### Data Section: Two Services\n\n```javascript\n\"Data\": {\n    \"Session\": { /* ... standard ... */ },\n    \"UserExtensions\": { /* ... standard ... */ },\n    \"ServiceHelper\": {\n        \"DataName\": \"ServiceHelper\",\n        \"EntityName\": \"ServiceHelper\",\n        \"EntityType\": \"Things\",\n        \"Id\": \"ServiceHelper\",\n        \"Services\": [\n            {\n                \"Id\": \"RechnerService\",\n                \"Name\": \"Rechner\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            },\n            {\n                \"Id\": \"Rechner2Service\",\n                \"Name\": \"Rechner2\",\n                \"Characteristic\": \"Services\",\n                \"Target\": \"Rechner2\",\n                \"APIMethod\": \"post\",\n                \"RefreshInterval\": 0,\n                \"Parameters\": {}\n            }\n        ]\n    }\n}\n```\n\n#### UI Widgets\n\n```javascript\n\"Widgets\": [\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-a\",\n            \"Label\": \"Zahl A:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"numericentry\",\n            \"Id\": \"numericentry-b\",\n            \"Label\": \"Zahl B:\",\n            \"Value\": 0\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcsbutton\",\n            \"Id\": \"ptcsbutton-calculate\",\n            \"Label\": \"Berechnen\"\n        }\n    },\n    {\n        \"Properties\": {\n            \"Type\": \"ptcslabel\",\n            \"Id\": \"ptcslabel-result\",\n            \"LabelText\": \"value ergebnis\"\n        }\n    }\n]\n```\n\n#### Event 1: Button Click \u2192 Rechner Service\n\n```javascript\n{\n    \"Id\": \"event-button-invoke-rechner\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"ptcsbutton-calculate\",\n    \"EventTriggerEvent\": \"Clicked\",\n    \"EventHandlerId\": \"ServiceHelper\",\n    \"EventHandlerService\": \"Rechner\"\n}\n```\n\n#### Event 2: Rechner Complete \u2192 Rechner2 Service (Service Chaining)\n\n```javascript\n{\n    \"Id\": \"event-rechner-complete-invoke-rechner2\",\n    \"EventTriggerArea\": \"Data\",                    // \u26a0\ufe0f Data area\n    \"EventHandlerArea\": \"Data\",                    // \u26a0\ufe0f Data area\n    \"EventTriggerSection\": \"ServiceHelper\",        // \u26a0\ufe0f Thing name required\n    \"EventTriggerId\": \"Rechner\",                   // First service\n    \"EventTriggerEvent\": \"ServiceInvokeCompleted\", // \u26a0\ufe0f Completion event\n    \"EventHandlerId\": \"ServiceHelper\",\n    \"EventHandlerService\": \"Rechner2\"              // Second service\n}\n```\n\n#### DataBinding 1: Input A \u2192 Rechner.a\n\n```javascript\n{\n    \"Id\": \"binding-input-a-to-rechner\",\n    \"SourceId\": \"numericentry-a\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"a\",\n        \"TargetPropertyType\": \"Parameter\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```\n\n#### DataBinding 2: Input B \u2192 Rechner.b\n\n```javascript\n{\n    \"Id\": \"binding-input-b-to-rechner\",\n    \"SourceId\": \"numericentry-b\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"SourceDetails\": \"\",\n    \"TargetArea\": \"Data\",\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"b\",\n        \"TargetPropertyType\": \"Parameter\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```\n\n#### DataBinding 3: Rechner.result \u2192 Rechner2.c (Service-to-Service)\n\n```javascript\n{\n    \"Id\": \"binding-rechner-result-to-rechner2-c\",\n    \"SourceId\": \"Rechner\",\n    \"SourceArea\": \"Data\",                          // \u26a0\ufe0f Data area\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",\n    \"TargetArea\": \"Data\",                          // \u26a0\ufe0f Data area (not UI)\n    \"TargetSection\": \"ServiceHelper\",\n    \"TargetId\": \"Rechner2\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"result\",\n        \"SourcePropertyType\": \"Field\",             // \u26a0\ufe0f Service output\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"c\",\n        \"TargetPropertyType\": \"Parameter\",         // \u26a0\ufe0f Service input\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```\n\n#### DataBinding 4: Rechner2.result \u2192 Label\n\n```javascript\n{\n    \"Id\": \"binding-rechner2-result-to-label\",\n    \"SourceId\": \"Rechner2\",\n    \"SourceArea\": \"Data\",\n    \"SourceSection\": \"ServiceHelper\",\n    \"SourceDetails\": \"AllData\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"ptcslabel-result\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"result\",\n        \"SourcePropertyType\": \"Field\",\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetProperty\": \"LabelText\",\n        \"TargetPropertyType\": \"property\",\n        \"TargetPropertyBaseType\": \"STRING\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Execution Flow Diagram",
    "content": "### Execution Flow Diagram\n\n```mermaid\nsequenceDiagram\n    participant User\n    participant Button\n    participant Rechner\n    participant Rechner2\n    participant Label\n    \n    User->>Button: Click \"Berechnen\"\n    Button->>Rechner: Invoke with a, b\n    Note over Rechner: Calculate a + b\n    Rechner-->>Rechner: ServiceInvokeCompleted\n    Rechner->>Rechner2: Auto-invoke with result as c\n    Note over Rechner2: Calculate c * 2\n    Rechner2->>Label: Display final result\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Summary Table",
    "content": "### Binding Summary Table\n\n| Binding | Source | Target | Type | Purpose |\n|---------|--------|--------|------|---------|\n| 1 | UI (Input A) | Rechner.a | UI \u2192 Data | User input to first service |\n| 2 | UI (Input B) | Rechner.b | UI \u2192 Data | User input to first service |\n| 3 | Rechner.result | Rechner2.c | **Data \u2192 Data** | **Service chaining** |\n| 4 | Rechner2.result | UI (Label) | Data \u2192 UI | Display final result |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Summary Table",
    "content": "### Event Summary Table\n\n| Event | Trigger | Handler | Purpose |\n|-------|---------|---------|---------|\n| 1 | Button Click (UI) | Rechner (Data) | User initiates process |\n| 2 | Rechner Complete (Data) | Rechner2 (Data) | **Automatic service chaining** |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Differences: UI-to-Service vs Service-to-Service",
    "content": "### Critical Differences: UI-to-Service vs Service-to-Service\n\n| Aspect | UI-to-Service | Service-to-Service |\n|--------|--------------|-------------------|\n| **Event Trigger Area** | `\"UI\"` | **`\"Data\"`** |\n| **Event Handler Area** | `\"Data\"` | **`\"Data\"`** |\n| **Event Trigger Section** | `\"\"` (empty) | **Thing name (required)** |\n| **Event Trigger Event** | `\"Clicked\"`, `\"Changed\"` | **`\"ServiceInvokeCompleted\"`** |\n| **DataBinding Source Area** | `\"UI\"` | **`\"Data\"`** |\n| **DataBinding Target Area** | `\"Data\"` | **`\"Data\"`** |\n| **Trigger Type** | User action | **Automatic (event-driven)** |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Multi-Step Calculations**\n   - Calculate subtotal \u2192 Calculate tax \u2192 Calculate total\n   - Perform operation \u2192 Validate result \u2192 Format output\n\n2. **Data Processing Pipelines**\n   - Fetch data \u2192 Transform data \u2192 Store data\n   - Parse input \u2192 Validate \u2192 Process \u2192 Return result\n\n3. **Sequential Validation**\n   - Validate format \u2192 Validate business rules \u2192 Save\n   - Check permissions \u2192 Verify data \u2192 Execute action\n\n4. **Conditional Workflows**\n   - Service 1 determines path \u2192 Service 2A or 2B executes\n   - Calculate score \u2192 Trigger appropriate action based on score",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Missing EventTriggerSection**: For Data area events, EventTriggerSection MUST contain the Thing name. Leaving it empty will cause the event to fail.\n\n> [!CAUTION]\n> **Wrong Event Areas**: Both EventTriggerArea and EventHandlerArea must be `\"Data\"` for service-to-service events. Using `\"UI\"` will not work.\n\n> [!CAUTION]\n> **Wrong Binding Areas**: For service-to-service DataBindings, both SourceArea and TargetArea must be `\"Data\"`. Don't use `\"UI\"` for either.\n\n> [!WARNING]\n> **Circular Dependencies**: Be careful not to create circular service chains (Service A \u2192 Service B \u2192 Service A). This will cause infinite loops.\n\n> [!WARNING]\n> **Missing AllData**: Service output bindings always need `SourceDetails: \"AllData\"`, even for service-to-service bindings.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Register Both Services** (Recipe 6)\n   - Add both services to the same Thing in Data section\n   - Or add services from different Things\n\n2. **Create UI Widgets**\n   - Input widgets for first service parameters\n   - Button to trigger first service\n   - Output widget for final result\n\n3. **Bind UI to First Service**\n   - Input widgets \u2192 First service parameters\n   - Button click \u2192 First service invocation\n\n4. **Chain Services with Event**\n   - First service ServiceInvokeCompleted \u2192 Second service invocation\n   - EventTriggerArea: \"Data\"\n   - EventTriggerSection: Thing name\n\n5. **Bind Service Output to Service Input**\n   - First service output \u2192 Second service parameter\n   - SourceArea: \"Data\", TargetArea: \"Data\"\n   - SourcePropertyType: \"Field\", TargetPropertyType: \"Parameter\"\n\n6. **Bind Final Output to UI**\n   - Second service output \u2192 Display widget\n   - Standard service-to-UI binding",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Working Example",
    "content": "### Full Working Example\n\nSee [create_chained_calculator_mashup.js](file:///c:/Users/tk/IdeaProjects/CodeingAgentThingWorxDevelopmentEnvironment/create_chained_calculator_mashup.js) for a complete, working implementation of a chained calculator mashup with proper service chaining and all bindings correctly configured.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference Checklist",
    "content": "### Quick Reference Checklist\n\nWhen creating service chaining mashups:\n\n- [ ] Both services registered in Data section\n- [ ] UI inputs bound to first service parameters\n- [ ] Button click event triggers first service\n- [ ] ServiceInvokeCompleted event added for first service\n- [ ] ServiceInvokeCompleted event uses `EventTriggerArea: \"Data\"`\n- [ ] ServiceInvokeCompleted event includes `EventTriggerSection: \"ThingName\"`\n- [ ] Service-to-service binding uses `SourceArea: \"Data\"` and `TargetArea: \"Data\"`\n- [ ] Service output uses `SourcePropertyType: \"Field\"`\n- [ ] Service input uses `TargetPropertyType: \"Parameter\"`\n- [ ] Service output binding includes `SourceDetails: \"AllData\"`\n- [ ] BaseTypes match throughout the chain\n- [ ] Final service output bound to UI display widget\n- [ ] No circular dependencies in service chain\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 9: Creating Mashup Parameters",
    "content": "## Recipe 9: Creating Mashup Parameters\n\n**Objective**: Create mashup parameters that allow external data to be passed into a mashup.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nMashup parameters enable mashups to receive input values from external sources (e.g., when embedded in other mashups or opened with URL parameters). Parameters can be created via the REST API, though some configuration options require specific property mappings that differ from intuitive naming.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Configuration Mappings \u2705",
    "content": "### Configuration Mappings \u2705\n\nThrough empirical testing, the following mappings have been established for the German ThingWorx UI:\n\n#### 1. \"Zu Erinnerungen hinzuf\u00fcgen\" (Add to Memories)\nThis checkbox in the UI maps to the **`isMandatory`** property in the JSON definition.\n- Checkbox Checked = `isMandatory: \"true\"`\n- Checkbox Unchecked = `isMandatory: \"false\"`\n\n> [!NOTE]\n> The `isLocalProperty` attribute does **not** control this setting, despite the naming similarity.\n\n#### 2. Binding Directions (Bindungsrichtung)\nThe mapping between the UI terms and the JSON values is as follows:\n\n| UI Term (German) | UI Meaning | JSON Value |\n|------------------|------------|------------|\n| **Quelle**       | Source     | `\"IN\"`     |\n| **Ziel**         | Target     | `\"OUT\"`    |\n| **Beide**        | Both       | `\"BOTH\"`   |\n\n> [!IMPORTANT]\n> This mapping (`Quelle` -> `IN`, `Ziel` -> `OUT`) appears counter-intuitive but has been verified in practice. \"Source\" parameters act as Inputs (`IN`) to the Mashup, while \"Target\" parameters act as Outputs (`OUT`) from the Mashup.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Structure",
    "content": "### Parameter Structure\n\nParameters must be defined in **two locations** for them to appear in the configuration dialog:\n\n1. **`parameterDefinitions`** - At the mashup entity level\n   - `isMandatory` must be a **String** (`\"true\"`/`\"false\"`) here.\n2. **`_currentParameterDefs`** - Inside `mashupContent.UI.Properties`\n   - `isMandatory` must be a **Boolean** (`true`/`false`) here.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Example: Adding Parameters to a Mashup",
    "content": "### Complete Example: Adding Parameters to a Mashup\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"MyMashup\";\n\nasync function addMashupParameters() {\n    console.log(`Adding parameters to mashup: ${MASHUP_NAME}...`);\n\n    // Step 1: Get current mashup\n    const getResponse = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n        method: 'GET',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        }\n    });\n\n    if (!getResponse.ok) {\n        console.error(`Failed to get mashup: ${getResponse.status}`);\n        return;\n    }\n\n    const mashup = await getResponse.json();\n    const mashupContent = JSON.parse(mashup.mashupContent);\n    \n    // Step 2: Define parameters in parameterDefinitions\n    // Note: isMandatory is a STRING here\n    mashup.parameterDefinitions = {\n        \"InputValue\": {\n            \"name\": \"InputValue\",\n            \"description\": \"Input value (Source/Quelle)\",\n            \"baseType\": \"INTEGER\",\n            \"ordinal\": 0,\n            \"aspects\": {\n                \"bindingDirection\": \"IN\",    // Quelle\n                \"isMandatory\": \"true\"        // Zu Erinnerungen hinzuf\u00fcgen = CHECKED\n            }\n        },\n        \"OutputValue\": {\n            \"name\": \"OutputValue\",\n            \"description\": \"Output value (Target/Ziel)\",\n            \"baseType\": \"STRING\",\n            \"ordinal\": 1,\n            \"aspects\": {\n                \"bindingDirection\": \"OUT\",   // Ziel\n                \"isMandatory\": \"false\"       // Zu Erinnerungen hinzuf\u00fcgen = UNCHECKED\n            }\n        },\n        \"BiDirValue\": {\n            \"name\": \"BiDirValue\",\n            \"description\": \"Bidirectional value (Both/Beide)\",\n            \"baseType\": \"BOOLEAN\",\n            \"ordinal\": 2,\n            \"aspects\": {\n                \"bindingDirection\": \"BOTH\",  // Beide\n                \"isMandatory\": \"true\"        // Zu Erinnerungen hinzuf\u00fcgen = CHECKED\n            }\n        }\n    };\n    \n    // Step 3: Add parameters to _currentParameterDefs in mashupContent\n    // Note: isMandatory is a BOOLEAN here\n    mashupContent.UI.Properties._currentParameterDefs = [\n        {\n            \"ParameterName\": \"InputValue\",\n            \"BaseType\": \"INTEGER\",\n            \"Description\": \"Input value (Source/Quelle)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"IN\",\n                \"isMandatory\": true\n            }\n        },\n        {\n            \"ParameterName\": \"OutputValue\",\n            \"BaseType\": \"STRING\",\n            \"Description\": \"Output value (Target/Ziel)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"OUT\",\n                \"isMandatory\": false\n            }\n        },\n        {\n            \"ParameterName\": \"BiDirValue\",\n            \"BaseType\": \"BOOLEAN\",\n            \"Description\": \"Bidirectional value (Both/Beide)\",\n            \"Aspects\": {\n                \"bindingDirection\": \"BOTH\",\n                \"isMandatory\": true\n            }\n        }\n    ];\n    \n    // Step 4: Update mashupContent\n    mashup.mashupContent = JSON.stringify(mashupContent);\n\n    // Step 5: Save mashup\n    const updateResponse = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(mashup)\n    });\n\n    if (!updateResponse.ok) {\n        const text = await updateResponse.text();\n        console.error(`Failed to update mashup: ${updateResponse.status}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Parameters added successfully!`);\n    }\n}\n\naddMashupParameters();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checklist for Success",
    "content": "### Checklist for Success\n\n- [ ] Use `isMandatory` to control \"Zu Erinnerungen hinzuf\u00fcgen\" (Persistence).\n- [ ] Use `IN` for \"Quelle\" (Source) binding direction.\n- [ ] Use `OUT` for \"Ziel\" (Target) binding direction.\n- [ ] Use `BOTH` for \"Beide\" (Both) binding direction.\n- [ ] Use **String** values (`\"true\"`) in `parameterDefinitions` but **Boolean** values (`true`) in `_currentParameterDefs`.\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 4: Mashup with Logout Function",
    "content": "## Recipe 4: Mashup with Logout Function\n\nThis recipe creates a Mashup that includes a \"Logout\" function, allowing the user to sign out of the ThingWorx session.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Session Management**: Demonstrates how to properly implement a Logout function.\n*   **Special Widget**: Uses the `logoutfunction` widget type (not a Data Service).\n*   **UI-to-UI Binding**: Shows the correct way to bind a button click to a UI function widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Structure",
    "content": "### Structure\n1.  **Logout Function Widget**: A special widget in the `Widgets` list (not `Data` section).\n2.  **Button**: A standard button to trigger the event.\n3.  **Binding**: Connects `Clicked` event of the button to the `Logout` service of the function widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Logout Function Widget\nThe Logout function is actually a **Widget** in the UI definition, **not** a service in the Data section.\n\n```javascript\n{\n    \"Properties\": {\n        \"Area\": \"UI\",\n        \"Type\": \"logoutfunction\",\n        \"__TypeDisplayName\": \"Logout-Function\",\n        \n        // Option A: Redirect to URL\n        \"RedirectTo\": \"url\",\n        \"URL\": \"https://www.atio.de/\",\n        \n        // Option B: Redirect to Mashup\n        // \"RedirectTo\": \"Mashup\",\n        // \"LogoutTargetMashup\": \"tk.taskManager-mu\",\n        \n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Id\": \"logoutfunction-abmelden\",\n        \"DisplayName\": \"AbmeldenFunktion\",\n        \"ResponsiveLayout\": false\n    },\n#### Configuration Options\n\n*   **Redirect to URL**: Set `RedirectTo` to `\"url\"` and provide the destination in `URL` property (e.g. `https://www.atio.de/`).\n*   **Redirect to Mashup**: Set `RedirectTo` to `\"Mashup\"` and provide the target mashup name in `LogoutTargetMashup` property (e.g. `tk.taskManager-mu`).\n\n\n#### 2. Event Binding (Crucial)\nThe binding must link the Button's `Clicked` event to the Logout Function's `Logout` service.\n**Important**: Both `EventTriggerArea` and `EventHandlerArea` must be set to `\"UI\"`.\n\n```javascript\n\"Events\": [\n    {\n        \"Id\": \"binding-event-logout-12345\",\n        \"EventTriggerArea\": \"UI\",\n        \"EventHandlerArea\": \"UI\", // IMPORTANT: Target is in UI Area\n        \"EventTriggerSection\": \"\",\n        \"EventTriggerId\": \"ptcsbutton-logout\", // Button ID\n        \"EventTriggerEvent\": \"Clicked\",\n        \"EventHandlerId\": \"logoutfunction-abmelden\", // Logout Widget ID\n        \"EventHandlerService\": \"Logout\"\n    }\n]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script to create a mashup with a functional Logout button.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.logout-mashup\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Logout Mashup\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"__TypeDisplayName\": \"Responsive Container\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root-container\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"flex-grow\": 1,\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"__TypeDisplayName\": \"Button\",\n                                \"Id\": \"ptcsbutton-logout\",\n                                \"DisplayName\": \"btnAbmelden\",\n                                \"Label\": \"Abmelden\",\n                                \"ButtonType\": \"primary\",\n                                \"UseTheme\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // The Logout Function Widget\n                {\n                    \"Properties\": {\n                        \"Area\": \"UI\",\n                        \"Type\": \"logoutfunction\",\n                        \"__TypeDisplayName\": \"Logout-Function\",\n                        \n                        // Option A: Redirect to URL\n                        \"RedirectTo\": \"url\",\n                        \"URL\": \"https://www.atio.de/\",\n                        \n                        // Option B: Redirect to Mashup\n                        // \"RedirectTo\": \"Mashup\",\n                        // \"LogoutTargetMashup\": \"tk.taskManager-mu\",\n                        \n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"Id\": \"logoutfunction-abmelden\",\n                        \"DisplayName\": \"AbmeldenFunktion\",\n                        \"Description\": \"Funktion zum Abmelden\",\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"LogoutTargetMashup\": \"\"\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [\n            {\n                \"Id\": \"binding-event-logout-\" + Math.floor(Math.random() * 1000000),\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerArea\": \"UI\", // IMPORTANT: Target is in UI Area\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerId\": \"ptcsbutton-logout\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventHandlerId\": \"logoutfunction-abmelden\",\n                \"EventHandlerService\": \"Logout\"\n            }\n        ],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Mashup with Logout Function\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        },\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // DELETE existing mashup first\n    try {\n        console.log(`Deleting existing Mashup (if any): ${MASHUP_NAME}...`);\n        const delRes = await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: {\n                'appKey': APP_KEY,\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            }\n        });\n        await new Promise(resolve => setTimeout(resolve, 2000));\n    } catch (e) {\n        // Ignore delete errors\n    }\n\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson&reason=created%20by%20Antigravity`;\n\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (!response.ok) {\n        const text = await response.text();\n        console.error(`Failed to create mashup: ${response.status} ${response.statusText}`);\n        console.error(text);\n    } else {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created successfully!`);\n        console.log(`  View it at: ${BASE_URL}/Mashups/${MASHUP_NAME}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 5: Status Messages (Legacy)",
    "content": "## Recipe 5: Status Messages (Legacy)\n\nThis recipe demonstrates how to implement status/toast messages using the `statusmessage` widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **User Feedback**: Show ephemeral success, warning, or error messages (Toasts).\n*   **Legacy Note**: The `statusmessage` widget is marked as \"Legacy\" in modern ThingWorx, but remains the standard method for simple toast notifications when not using custom web components. Despite the warning, it is fully functional.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Configuration",
    "content": "### Widget Configuration\nThe `statusmessage` widget is an invisible function widget. It does not appear visually until triggered.\n\n**Key Properties:**\n*   `Type`: `\"statusmessage\"`\n*   `MessageType`: Determines the style (icon/color).\n    *   `\"info\"`: Information (Blue/Neutral)\n    *   `\"warn\"`: Warning (Yellow/Orange)\n    *   `\"error\"`: Error (Red)\n*   `Message`: The text to display.\n*   `Area`: `\"UI\"` (Crucial for binding to UI buttons).\n\n**Key Services:**\n*   `ShowMessage`: The service that triggers the toaster to appear. This **must** be bound to an event (e.g., `Clicked` from a button) to make the message visible.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Binding",
    "content": "### Event Binding\nTo trigger the message, bind a source event (like a Button's `Clicked` event) to the `ShowMessage` service of the status widget.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\nUse this script to create a simple mashup with buttons triggering different status messages.\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.status-message-mu\"; // CHANGE THIS NAME\n\nasync function createMashup() {\n    console.log(`Creating Mashup: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Status Message Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"ResponsiveLayout\": true\n                    },\n                    \"Widgets\": [\n                        // Button to trigger Info\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"Id\": \"btn-info\",\n                                \"Label\": \"Show Info\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Status Function: Info\n                        {\n                            \"Properties\": {\n                                \"Type\": \"statusmessage\", // Legacy Widget\n                                \"__TypeDisplayName\": \"Status Message\",\n                                \"Id\": \"StatusInfo\",\n                                \"Area\": \"UI\",\n                                \"MessageType\": \"info\",\n                                \"Message\": \"This is an information message.\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Events\": [\n            {\n                \"EventTriggerId\": \"btn-info\",\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerId\": \"StatusInfo\",\n                \"EventHandlerService\": \"ShowMessage\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"binding-show-info\"\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    // Standard Payload wrapper...\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n    \n    // Idempotency: Delete first\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY, 'Accept': 'application/json' }\n        });\n        await new Promise(r => setTimeout(r, 1000));\n    } catch(e) {}\n\n    // Create\n    const url = `${BASE_URL}/Mashups?Content-Type=application%2Fjson`;\n    const response = await fetch(url, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Mashup '${MASHUP_NAME}' created.`);\n    } else {\n        console.error(`Error: ${response.status}`);\n    }\n}\n\ncreateMashup();\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 10: Navigation Functions",
    "content": "## Recipe 10: Navigation Functions\n\n**Objective**: Create navigation functions that can open target mashups in different window modes (new window, replace, popup, modal popup, fullscreen).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nNavigation functions are UI widgets that provide mashup navigation capabilities. They are used to navigate from one mashup to another with different display modes.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties",
    "content": "### Critical Properties\n\n> [!CAUTION]\n> The property name is **`TargetWindowType`** (NOT `TargetWindow`!). Using the wrong property name will result in all functions defaulting to \"new\" window mode.\n\n> [!IMPORTANT]\n> All `TargetWindowType` values **must be lowercase**. Capitalized values will not work correctly.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Navigation Function Widget Structure",
    "content": "### Navigation Function Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"navigationfunction\",\n        \"Id\": \"navigationfunction-id\",\n        \"DisplayName\": \"MyNavigation\",\n        \"Area\": \"UI\",\n        \n        // Target mashup configuration\n        \"TargetMashup\": \"target.mashup-name\",\n        \"TargetWindowType\": \"new\",  // CRITICAL: lowercase value!\n        \"MissingMashupMessage\": \"Error: Mashup not found\",\n        \n        // Popup-specific properties (for popup and modal-popup types)\n        \"PopupTitle\": \"My Popup Title\",\n        \"PopupWidth\": 800,   // 0 = auto\n        \"PopupHeight\": 600,  // 0 = auto\n        \"PopupScrollbar\": \"auto\",\n        \"CloseButton\": true,\n        \"ClickOutsideToClose\": false,\n        \n        // Standard properties\n        \"ReloadOnReplace\": false,\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"_currentParameterDefs\": []\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Window Types (TargetWindowType)",
    "content": "### Window Types (TargetWindowType)\n\nAll values **must be lowercase**:\n\n| Value | Display Name | Behavior |\n|-------|--------------|----------|\n| `\"new\"` | Neu | Opens mashup in a new browser window/tab |\n| `\"replace\"` | Ersetzen | Replaces the current mashup in the same window |\n| `\"popup\"` | Popup | Opens mashup in a non-modal popup window |\n| `\"modal-popup\"` | Modales Popup | Opens mashup in a modal popup (note the hyphen!) |\n| `\"fullscreen\"` | Vollbild | Opens mashup in fullscreen mode |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Popup Configuration Properties",
    "content": "### Popup Configuration Properties\n\nThese properties apply to `\"popup\"` and `\"modal-popup\"` window types:\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `PopupTitle` | STRING | `\"\"` | Title displayed in the popup window |\n| `PopupWidth` | NUMBER | `0` | Width in pixels (0 = auto-size) |\n| `PopupHeight` | NUMBER | `0` | Height in pixels (0 = auto-size) |\n| `PopupScrollbar` | STRING | `\"auto\"` | Scrollbar behavior: `\"auto\"`, `\"visible\"`, `\"hidden\"` |\n| `CloseButton` | BOOLEAN | `true` | Show close button in popup |\n| `ClickOutsideToClose` | BOOLEAN | `false` | Allow closing by clicking outside (modal-popup only) |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Event Binding",
    "content": "### Event Binding\n\nNavigation functions are triggered via the `Navigate` service:\n\n```javascript\n{\n    \"EventTriggerId\": \"button-id\",\n    \"EventTriggerEvent\": \"Clicked\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventTriggerSection\": \"\",\n    \"EventHandlerId\": \"navigationfunction-id\",\n    \"EventHandlerService\": \"Navigate\",\n    \"EventHandlerArea\": \"UI\",\n    \"Id\": \"event-binding-id\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\nThis example creates a mashup with 5 buttons, each using a different navigation type:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.navigation-demo\";\n\nasync function createNavigationMashup() {\n    console.log(`Creating Navigation Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Navigation Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Buttons\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-new\", \"Label\": \"New Window\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-replace\", \"Label\": \"Replace\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-popup\", \"Label\": \"Popup\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-modal\", \"Label\": \"Modal Popup\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": { \"Type\": \"ptcsbutton\", \"Id\": \"btn-full\", \"Label\": \"Fullscreen\", \"Visible\": true },\n                            \"Widgets\": []\n                        },\n                        \n                        // Navigation Functions - CRITICAL: Use TargetWindowType (not TargetWindow!)\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavNew\",\n                                \"DisplayName\": \"NavNew\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"new\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavReplace\",\n                                \"DisplayName\": \"NavReplace\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"replace\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavPopup\",\n                                \"DisplayName\": \"NavPopup\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"popup\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                // Popup-specific configuration\n                                \"PopupTitle\": \"My Popup Window\",\n                                \"PopupWidth\": 800,\n                                \"PopupHeight\": 600,\n                                \"PopupScrollbar\": \"auto\",\n                                \"CloseButton\": true,\n                                \"ClickOutsideToClose\": false,\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavModal\",\n                                \"DisplayName\": \"NavModal\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"modal-popup\",  // IMPORTANT: hyphen!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                // Modal popup configuration\n                                \"PopupTitle\": \"Modal Popup\",\n                                \"PopupWidth\": 800,\n                                \"PopupHeight\": 600,\n                                \"PopupScrollbar\": \"auto\",\n                                \"CloseButton\": true,\n                                \"ClickOutsideToClose\": false,\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        },\n                        {\n                            \"Properties\": {\n                                \"Type\": \"navigationfunction\",\n                                \"Id\": \"NavFullscreen\",\n                                \"DisplayName\": \"NavFullscreen\",\n                                \"Area\": \"UI\",\n                                \"TargetMashup\": \"target.mashup-mu\",\n                                \"TargetWindowType\": \"fullscreen\",  // lowercase!\n                                \"MissingMashupMessage\": \"Error: Mashup not found\",\n                                \"ReloadOnReplace\": false,\n                                \"ShowDataLoading\": true,\n                                \"Visible\": true,\n                                \"ResponsiveLayout\": false,\n                                \"LastContainer\": false,\n                                \"Top\": null,\n                                \"Left\": null,\n                                \"Z-index\": 10,\n                                \"_currentParameterDefs\": []\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [\n            {\n                \"EventTriggerId\": \"btn-new\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavNew\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-new\"\n            },\n            {\n                \"EventTriggerId\": \"btn-replace\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavReplace\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-replace\"\n            },\n            {\n                \"EventTriggerId\": \"btn-popup\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavPopup\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-popup\"\n            },\n            {\n                \"EventTriggerId\": \"btn-modal\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavModal\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-modal\"\n            },\n            {\n                \"EventTriggerId\": \"btn-full\",\n                \"EventTriggerEvent\": \"Clicked\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventTriggerSection\": \"\",\n                \"EventHandlerId\": \"NavFullscreen\",\n                \"EventHandlerService\": \"Navigate\",\n                \"EventHandlerArea\": \"UI\",\n                \"Id\": \"evt-nav-fullscreen\"\n            }\n        ],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Navigation Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\",\n        \"configurationTables\": {\n            \"MobileSettings\": {\n                \"name\": \"MobileSettings\",\n                \"isHidden\": true,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"initialScale\": { \"baseType\": \"NUMBER\", \"name\": \"initialScale\", \"aspects\": { \"defaultValue\": 1 } },\n                        \"width\": { \"baseType\": \"STRING\", \"name\": \"width\", \"aspects\": { \"defaultValue\": \"device-width\" } },\n                        \"height\": { \"baseType\": \"STRING\", \"name\": \"height\", \"aspects\": { \"defaultValue\": \"device-height\" } },\n                        \"minimumScale\": { \"baseType\": \"NUMBER\", \"name\": \"minimumScale\", \"aspects\": { \"defaultValue\": 0.1 } },\n                        \"maximumScale\": { \"baseType\": \"NUMBER\", \"name\": \"maximumScale\", \"aspects\": { \"defaultValue\": 10 } },\n                        \"disableZoom\": { \"baseType\": \"BOOLEAN\", \"name\": \"disableZoom\", \"aspects\": { \"defaultValue\": false } },\n                        \"fullScreenMode\": { \"baseType\": \"BOOLEAN\", \"name\": \"fullScreenMode\", \"aspects\": { \"defaultValue\": true } },\n                        \"iosStatusBarAppearance\": { \"baseType\": \"STRING\", \"name\": \"iosStatusBarAppearance\", \"aspects\": { \"defaultValue\": \"default\" } },\n                        \"iosShortcutIconTitle\": { \"baseType\": \"STRING\", \"name\": \"iosShortcutIconTitle\", \"aspects\": { \"defaultValue\": \"\" } }\n                    }\n                },\n                \"rows\": [{\n                    \"initialScale\": 1,\n                    \"width\": \"device-width\",\n                    \"height\": \"device-height\",\n                    \"minimumScale\": 0.1,\n                    \"maximumScale\": 10,\n                    \"disableZoom\": false,\n                    \"fullScreenMode\": true,\n                    \"iosStatusBarAppearance\": \"black-translucent\",\n                    \"iosShortcutIconTitle\": \"\"\n                }]\n            }\n        },\n        \"aspects\": {\n            \"mashupType\": \"mashup\",\n            \"isResponsive\": true,\n            \"isFlex\": true\n        }\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Navigation mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateNavigationMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Wrong Property Name**: Using `\"TargetWindow\"` instead of `\"TargetWindowType\"` will cause all navigation functions to default to \"new\" window mode, regardless of the value set.\n\n> [!CAUTION]\n> **Uppercase Values**: Values like `\"New\"`, `\"Replace\"`, `\"Popup\"` will not work. Always use lowercase: `\"new\"`, `\"replace\"`, `\"popup\"`.\n\n> [!CAUTION]\n> **Modal Popup Hyphen**: The modal popup type is `\"modal-popup\"` (with hyphen), not `\"modalpopup\"` or `\"modal\"`. This is the most common mistake.\n\n> [!WARNING]\n> **Popup Size**: Setting `PopupWidth` and `PopupHeight` to `0` means auto-size. The popup will size based on content. For fixed sizes, specify pixel values.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Navigation Function Widget**\n   - Set `Type: \"navigationfunction\"`\n   - Set `Area: \"UI\"`\n   - Configure `TargetMashup` with target mashup name\n\n2. **Set Window Type** (CRITICAL)\n   - Use property name: `TargetWindowType` (not `TargetWindow`!)\n   - Use lowercase value: `\"new\"`, `\"replace\"`, `\"popup\"`, `\"modal-popup\"`, or `\"fullscreen\"`\n\n3. **Configure Popup Properties** (for popup types only)\n   - Set `PopupTitle` for custom window title\n   - Set `PopupWidth` and `PopupHeight` for custom sizing (0 = auto)\n   - Configure `CloseButton` and `ClickOutsideToClose` as needed\n\n4. **Add Standard Properties**\n   - Include all required properties from example above\n   - `_currentParameterDefs: []` is required\n\n5. **Create Event Binding**\n   - Bind trigger event (e.g., Button `Clicked`) to navigation function's `Navigate` service\n   - Both `EventTriggerArea` and `EventHandlerArea` must be `\"UI\"`",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference Table",
    "content": "### Quick Reference Table\n\n| Property | Required | Example Value | Notes |\n|----------|----------|---------------|-------|\n| `Type` | \u2705 | `\"navigationfunction\"` | Widget type |\n| `Area` | \u2705 | `\"UI\"` | Must be UI |\n| `TargetMashup` | \u2705 | `\"mashup.name-mu\"` | Target mashup name |\n| `TargetWindowType` | \u2705 | `\"modal-popup\"` | **MUST be lowercase!** |\n| `PopupTitle` | \u26aa | `\"My Popup\"` | Only for popup types |\n| `PopupWidth` | \u26aa | `800` | Only for popup types (0=auto) |\n| `PopupHeight` | \u26aa | `600` | Only for popup types (0=auto) |\n| `CloseButton` | \u26aa | `true` | Show close button |\n| `MissingMashupMessage` | \u26aa | `\"Error\"` | Error message text |\n\n\u2705 = Required  |  \u26aa = Optional\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 11: AutoRefresh Function",
    "content": "## Recipe 11: AutoRefresh Function\n\n**Objective**: Create an autorefreshfunction widget that periodically triggers events for automatic data updates in dashboards and live monitoring displays.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `autorefreshfunction` is a function widget that provides periodic auto-refresh capabilities. It triggers a `Refresh` event at regular intervals, which can be used to invoke services and update data automatically without user intervention.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties",
    "content": "### Critical Properties\n\n> [!IMPORTANT]\n> The `RefreshInterval` represents seconds and can be set as a string or number. A value of `\"5\"` means the function triggers every 5 seconds.\n\n> [!TIP]\n> The `AutoRefresh` property can be bound to a toggle button, allowing users to enable/disable auto-refresh dynamically.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"autorefreshfunction\",\n        \"Id\": \"autorefreshfunction-id\",\n        \"DisplayName\": \"MyAutoRefresh\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"autorefreshfunction\",\n        \n        // Configuration\n        \"RefreshInterval\": \"5\",      // Interval in seconds\n        \"AutoRefresh\": true,          // Enable/disable auto-refresh\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Type` | STRING | - | Must be `\"autorefreshfunction\"` |\n| `Id` | STRING | - | Unique identifier for the widget |\n| `Area` | STRING | `\"UI\"` | Must be `\"UI\"` |\n| `RefreshInterval` | STRING/NUMBER | `\"0\"` | Interval in seconds between refresh triggers |\n| `AutoRefresh` | BOOLEAN | `false` | Enable/disable automatic refreshing |\n| `ShowDataLoading` | BOOLEAN | `true` | Show loading indicator |\n| `Visible` | BOOLEAN | `true` | Widget visibility |\n| `ResponsiveLayout` | BOOLEAN | `false` | Use responsive layout |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Inputs (Bindable Properties)",
    "content": "### Inputs (Bindable Properties)\n\nThe autorefreshfunction has two bindable input properties:\n\n#### 1. AutoRefresh (BOOLEAN)\n\nControls whether the function is actively refreshing.\n\n**Usage:**\n- Can be bound to toggle buttons for user control\n- Can be bound to boolean Thing properties\n- Dynamically enables/disables the refresh cycle\n\n**Example Binding:**\n```javascript\n{\n    \"Id\": \"binding-toggle-to-autorefresh\",\n    \"SourceId\": \"ptcstogglebutton-1\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"autorefreshfunction-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetProperty\": \"AutoRefresh\",\n        \"TargetPropertyType\": \"Property\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```\n\n#### 2. RefreshInterval (STRING/NUMBER)\n\nSets the interval in seconds between refresh events.\n\n**Usage:**\n- Can be bound to numeric input fields\n- Can be bound to Thing properties\n- Allows dynamic interval adjustment",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Outputs (Events)",
    "content": "### Outputs (Events)\n\n#### Refresh Event\n\nThe `Refresh` event is triggered periodically based on the `RefreshInterval` setting.\n\n**Usage:**\n- Bind to service invocations for automatic data updates\n- Typical targets: `GetPropertyValues`, `QueryPropertyHistory`, custom services\n- Enables real-time dashboard updates\n\n**Example Event Binding:**\n```javascript\n{\n    \"Id\": \"event-autorefresh-to-service\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"autorefreshfunction-id\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Things_MyThing\",\n    \"EventHandlerService\": \"GetPropertyValues\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Live Dashboards**\n   - Auto-update charts and gauges with latest values\n   - Typical interval: 5-10 seconds\n\n2. **Real-Time Monitoring**\n   - Monitor equipment status\n   - Track sensor readings\n   - Typical interval: 1-5 seconds\n\n3. **User-Controlled Refresh**\n   - Toggle button to enable/disable auto-refresh\n   - Saves resources when monitoring isn't needed\n\n4. **Property History Updates**\n   - Automatically fetch latest historical data\n   - Update time series charts",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\nThis example creates a mashup with a toggle button that controls an autorefresh function:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.autorefresh-demo\";\n\nasync function createMashup() {\n    console.log(`Creating AutoRefresh Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"AutoRefresh Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Toggle Button for controlling auto-refresh\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-autorefresh\",\n                                \"DisplayName\": \"toggle-refresh\",\n                                \"Label\": \"Enable Auto-Refresh\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": true,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label to show last update time\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-status\",\n                                \"LabelText\": \"Waiting for data...\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // AutoRefresh Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"autorefreshfunction\",\n                        \"Id\": \"autorefresh-main\",\n                        \"DisplayName\": \"MainRefresh\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"autorefreshfunction\",\n                        \"RefreshInterval\": \"5\",\n                        \"AutoRefresh\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [\n            // Bind Refresh event to service (example)\n            {\n                \"Id\": \"evt-refresh-data\",\n                \"EventTriggerArea\": \"UI\",\n                \"EventHandlerArea\": \"Data\",\n                \"EventTriggerSection\": \"\",\n                \"EventTriggerId\": \"autorefresh-main\",\n                \"EventTriggerEvent\": \"Refresh\",\n                \"EventHandlerId\": \"session\",\n                \"EventHandlerService\": \"GetGlobalSessionValues\"\n            }\n        ],\n        \"DataBindings\": [\n            // Bind toggle button to AutoRefresh property\n            {\n                \"Id\": \"binding-toggle-autorefresh\",\n                \"SourceId\": \"toggle-autorefresh\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"autorefresh-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"AutoRefresh\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"AutoRefresh Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 AutoRefresh mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Patterns",
    "content": "### Binding Patterns\n\n#### Pattern 1: Toggle Button \u2192 AutoRefresh\n\n**Purpose**: User control over auto-refresh\n\n```javascript\n{\n    \"SourceArea\": \"UI\",\n    \"TargetArea\": \"UI\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",           // Toggle button state\n        \"TargetProperty\": \"AutoRefresh\",     // AutoRefresh enable/disable\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```\n\n#### Pattern 2: Refresh Event \u2192 Service\n\n**Purpose**: Periodic data updates\n\n```javascript\n{\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"Data\",\n    \"EventTriggerEvent\": \"Refresh\",          // Periodic trigger\n    \"EventHandlerService\": \"GetPropertyValues\"  // Data service\n}\n```\n\n#### Pattern 3: Multiple Services on Refresh\n\n**Purpose**: Update multiple data sources simultaneously\n\n```javascript\n// Event 1\n{\n    \"EventTriggerId\": \"autorefresh-main\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Thing1\",\n    \"EventHandlerService\": \"GetPropertyValues\"\n},\n// Event 2\n{\n    \"EventTriggerId\": \"autorefresh-main\",\n    \"EventTriggerEvent\": \"Refresh\",\n    \"EventHandlerId\": \"Thing2\",\n    \"EventHandlerService\": \"QueryPropertyHistory\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Performance Considerations**\n> - Use longer intervals (10+ seconds) for expensive services\n> - Use shorter intervals (1-5 seconds) for lightweight property reads\n> - Always provide user control via toggle button to disable when not needed\n\n> [!WARNING]\n> **Avoid Excessive Refresh Rates**\n> - Very short intervals (<1 second) can overload the server\n> - Consider the cost of the services being invoked\n> - Balance real-time needs with system performance\n\n> [!IMPORTANT]\n> **Initial State**\n> - Set `AutoRefresh: true` for immediate start\n> - Set `AutoRefresh: false` to require user activation\n> - Consider user experience and resource usage",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Forgetting Event Bindings**: The autorefreshfunction only triggers the `Refresh` event. You must bind this event to service invocations for it to do anything useful.\n\n> [!CAUTION]\n> **Wrong Area**: The autorefreshfunction must be in the UI area (`Area: \"UI\"`), not the Data area, even though it typically triggers data services.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create AutoRefresh Function**\n   - Set `Type: \"autorefreshfunction\"`\n   - Set `Area: \"UI\"`\n   - Configure `RefreshInterval` (in seconds)\n   - Set `AutoRefresh` to initial state (true/false)\n\n2. **Add User Control (Optional)**\n   - Add toggle button widget\n   - Bind toggle button `State` to autorefresh `AutoRefresh` property\n   - UI \u2192 UI data binding\n\n3. **Bind Refresh Event**\n   - Bind `Refresh` event to service(s)\n   - UI \u2192 Data event binding\n   - Can bind to multiple services\n\n4. **Test Intervals**\n   - Start with longer intervals during development\n   - Optimize based on update requirements\n   - Monitor server load",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `autorefreshfunction` | Function widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **Refresh Interval** | `\"5\"` | Seconds (string or number) |\n| **Auto Refresh** | `true`/`false` | Enable/disable |\n| **Refresh Event** | `Refresh` | Triggered periodically |\n| **Toggle Binding** | State \u2192 AutoRefresh | User control |\n| **Service Binding** | Refresh \u2192 Service | Data updates |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Input/Output Summary",
    "content": "### Input/Output Summary\n\n**INPUTS (Bindable Properties):**\n- `AutoRefresh` (BOOLEAN): Enable/disable automatic refresh\n- `RefreshInterval` (STRING/NUMBER): Interval in seconds\n\n**OUTPUTS (Events):**\n- `Refresh`: Triggered every `RefreshInterval` seconds when `AutoRefresh` is true\n\n**Typical Data Flow:**\n```\nToggle Button (State) \u2192 AutoRefresh Function (AutoRefresh Property)\n                              \u2193\n                    AutoRefresh Function (Refresh Event)\n                              \u2193\n                         Thing Services\n                              \u2193\n                         UI Widgets (via data bindings)\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 12: Event Router Function",
    "content": "## Recipe 12: Event Router Function\n\n**Objective**: Create an eventsrouter widget that routes events based on multiple input values, enabling conditional navigation and dynamic behavior.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `eventsrouter` is a function widget that provides event routing capabilities based on input values. It creates dynamic properties (Input1, Input2, ..., InputN) based on configuration and can route events to different handlers depending on the combination of input values.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties",
    "content": "### Critical Properties\n\n> [!IMPORTANT]\n> The `NumberOfInputs` property is a **string**, not a number. Use `\"3\"` instead of `3`.\n\n> [!IMPORTANT]\n> The `DataType` property determines the type of **all** inputs. All inputs will have the same data type.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"Id\": \"eventsrouter-id\",\n        \"DisplayName\": \"MyEventRouter\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Ereignis-Router\",\n        \n        // Configuration\n        \"NumberOfInputs\": \"3\",       // Number of inputs (as string)\n        \"DataType\": \"BOOLEAN\",       // Data type for all inputs\n        \"DataShape\": \"\",             // DataShape name (only for INFOTABLE)\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Default | Description |\n|----------|------|---------|-------------|\n| `Type` | STRING | - | Must be `\"eventsrouter\"` |\n| `Id` | STRING | - | Unique identifier for the widget |\n| `Area` | STRING | `\"UI\"` | Must be `\"UI\"` |\n| `NumberOfInputs` | STRING | `\"1\"` | Number of inputs (as string, e.g., \"3\") |\n| `DataType` | STRING | `\"STRING\"` | Data type for all inputs |\n| `DataShape` | STRING | `\"\"` | DataShape name (only for INFOTABLE type) |\n| `ShowDataLoading` | BOOLEAN | `true` | Show loading indicator |\n| `Visible` | BOOLEAN | `true` | Widget visibility |\n| `ResponsiveLayout` | BOOLEAN | `false` | Use responsive layout |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Dynamic Input Properties",
    "content": "### Dynamic Input Properties\n\nBased on the `NumberOfInputs` property, the event router automatically creates input properties:\n\n**Example: NumberOfInputs = \"3\"**\n- Creates: `Input1`, `Input2`, `Input3`\n- All inputs have the type specified in `DataType`\n\n**Example: NumberOfInputs = \"5\"**\n- Creates: `Input1`, `Input2`, `Input3`, `Input4`, `Input5`",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Supported Data Types",
    "content": "### Supported Data Types\n\n| DataType | Description | Common Sources |\n|----------|-------------|----------------|\n| `BOOLEAN` | True/False values | Toggle buttons, checkboxes |\n| `STRING` | Text values | Text fields, dropdowns |\n| `NUMBER` | Numeric values (decimal) | Numeric entries, sliders |\n| `INTEGER` | Whole number values | Integer inputs |\n| `INFOTABLE` | Data tables | Grids, data services |\n| `DATETIME` | Date/time values | Date pickers |\n| `JSON` | JSON objects | Custom widgets |\n\n> [!TIP]\n> For `INFOTABLE` data type, you must also specify the `DataShape` property.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Inputs (Bindable Properties)",
    "content": "### Inputs (Bindable Properties)\n\nThe event router's inputs are dynamically created based on configuration:\n\n**Input Properties:**\n- Property names: `Input1`, `Input2`, ..., `InputN` (where N = NumberOfInputs)\n- All inputs share the same `DataType`\n- Can be bound to any widget property with matching type\n\n**Example Binding (BOOLEAN):**\n```javascript\n{\n    \"Id\": \"binding-toggle-to-router\",\n    \"SourceId\": \"toggle-button-1\",\n    \"SourceArea\": \"UI\",\n    \"SourceSection\": \"\",\n    \"TargetArea\": \"UI\",\n    \"TargetSection\": \"\",\n    \"TargetId\": \"eventsrouter-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",\n        \"SourcePropertyType\": \"Property\",\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetProperty\": \"Input1\",          // Dynamic input property\n        \"TargetPropertyType\": \"Property\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Outputs (Events)",
    "content": "### Outputs (Events)\n\nThe event router triggers events based on the combination of input values:\n\n**Event Routing:**\n- Routes to different event handlers based on input state\n- Supports conditional navigation\n- Enables complex decision logic\n\n**Example Event Binding:**\n```javascript\n{\n    \"Id\": \"event-router-action\",\n    \"EventTriggerArea\": \"UI\",\n    \"EventHandlerArea\": \"UI\",  // or \"Data\" for services\n    \"EventTriggerSection\": \"\",\n    \"EventTriggerId\": \"eventsrouter-id\",\n    \"EventTriggerEvent\": \"RouteSelected\",  // Event name depends on configuration\n    \"EventHandlerId\": \"navigation-function-id\",\n    \"EventHandlerService\": \"Navigate\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Conditional Navigation**\n   - Different mashups based on user selections\n   - Navigate to different views based on toggle states\n\n2. **Multi-Condition Actions**\n   - Trigger different services based on multiple inputs\n   - Complex form validation\n\n3. **Dynamic Behavior**\n   - Show/hide panels based on combinations\n   - Enable/disable features based on states\n\n4. **User Preference Routing**\n   - Route to different experiences based on user settings\n   - Personalized workflows",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\nThis example creates a mashup with 3 toggle buttons controlling an event router:\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.eventrouter-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Event Router Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Event Router Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Toggle Button 1\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-1\",\n                                \"DisplayName\": \"toggle-1\",\n                                \"Label\": \"Option 1\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Toggle Button 2\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-2\",\n                                \"DisplayName\": \"toggle-2\",\n                                \"Label\": \"Option 2\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Toggle Button 3\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcstogglebutton\",\n                                \"Id\": \"toggle-3\",\n                                \"DisplayName\": \"toggle-3\",\n                                \"Label\": \"Option 3\",\n                                \"LabelAlignment\": \"right\",\n                                \"State\": false,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Event Router\n                {\n                    \"Properties\": {\n                        \"Type\": \"eventsrouter\",\n                        \"Id\": \"router-main\",\n                        \"DisplayName\": \"MainRouter\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Ereignis-Router\",\n                        \"NumberOfInputs\": \"3\",\n                        \"DataType\": \"BOOLEAN\",\n                        \"DataShape\": \"\",\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [\n            // Bind toggle 1 to Input1\n            {\n                \"Id\": \"binding-toggle1-input1\",\n                \"SourceId\": \"toggle-1\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"router-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"Input1\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            },\n            // Bind toggle 2 to Input2\n            {\n                \"Id\": \"binding-toggle2-input2\",\n                \"SourceId\": \"toggle-2\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"router-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"Input2\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            },\n            // Bind toggle 3 to Input3\n            {\n                \"Id\": \"binding-toggle3-input3\",\n                \"SourceId\": \"toggle-3\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"router-main\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"State\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"BOOLEAN\",\n                    \"TargetProperty\": \"Input3\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"BOOLEAN\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Event Router Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Event Router mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Patterns",
    "content": "### Binding Patterns\n\n#### Pattern 1: Toggle Buttons \u2192 Event Router\n\n**Purpose**: User control via multiple toggles\n\n```javascript\n{\n    \"SourceArea\": \"UI\",\n    \"TargetArea\": \"UI\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"State\",           // Toggle button state\n        \"TargetProperty\": \"Input1\",          // Router input (dynamic)\n        \"SourcePropertyBaseType\": \"BOOLEAN\",\n        \"TargetPropertyBaseType\": \"BOOLEAN\"\n    }]\n}\n```\n\n#### Pattern 2: Text Fields \u2192 Event Router (STRING)\n\n**Purpose**: Route based on text values\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"NumberOfInputs\": \"2\",\n        \"DataType\": \"STRING\",  // String inputs\n        \"DataShape\": \"\"\n    }\n}\n\n// Binding\n{\n    \"SourceProperty\": \"Text\",              // Text field value\n    \"TargetProperty\": \"Input1\",\n    \"SourcePropertyBaseType\": \"STRING\",\n    \"TargetPropertyBaseType\": \"STRING\"\n}\n```\n\n#### Pattern 3: Numeric Inputs \u2192 Event Router\n\n**Purpose**: Route based on numeric thresholds\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"eventsrouter\",\n        \"NumberOfInputs\": \"3\",\n        \"DataType\": \"NUMBER\",  // Numeric inputs\n        \"DataShape\": \"\"\n    }\n}\n\n// Binding\n{\n    \"SourceProperty\": \"Value\",             // Numeric entry value\n    \"TargetProperty\": \"Input1\",\n    \"SourcePropertyBaseType\": \"NUMBER\",\n    \"TargetPropertyBaseType\": \"NUMBER\"\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Keep It Simple**\n> - Start with 2-3 inputs for clarity\n> - Use descriptive DisplayNames for the router\n> - Document the routing logic in mashup description\n\n> [!TIP]\n> **Consistent Data Types**\n> - All inputs must be the same type\n> - Match source widget types to router DataType\n> - Use type conversion widgets if needed\n\n> [!WARNING]\n> **Input Numbering**\n> - Inputs are named Input1, Input2, etc. (starting at 1, not 0)\n> - Must bind to exact property names (case-sensitive)\n> - NumberOfInputs cannot be changed after binding without recreating bindings",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **NumberOfInputs as String**: The `NumberOfInputs` property must be a string (`\"3\"`), not a number (`3`). Using a number will cause errors.\n\n> [!CAUTION]\n> **Mismatched Data Types**: All bindings to the event router must match the `DataType` property. Binding a STRING source to a BOOLEAN router will fail.\n\n> [!CAUTION]\n> **Wrong Input Names**: Input properties are `Input1`, `Input2`, etc. Common mistakes:\n> - \u274c `input1` (lowercase)\n> - \u274c `Input_1` (underscore)\n> - \u274c `Input0` (zero-based)\n> - \u2705 `Input1` (correct)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Event Router**\n   - Set `Type: \"eventsrouter\"`\n   - Set `Area: \"UI\"`\n   - Configure `NumberOfInputs` (as string)\n   - Set `DataType` for all inputs\n   - Set `DataShape` (only for INFOTABLE)\n\n2. **Add Source Widgets**\n   - Create widgets matching the DataType\n   - Toggle buttons for BOOLEAN\n   - Text fields for STRING\n   - Numeric entries for NUMBER\n\n3. **Bind Sources to Inputs**\n   - Create data bindings for each input\n   - UI \u2192 UI binding pattern\n   - Match property types exactly\n\n4. **Configure Event Routing**\n   - Bind router events to handlers\n   - Set up conditional navigation\n   - Test different input combinations",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `eventsrouter` | Function widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **NumberOfInputs** | `\"3\"` | String (not number!) |\n| **DataType** | `\"BOOLEAN\"` | All inputs same type |\n| **Input Names** | `Input1`, `Input2`, ... | Dynamic properties |\n| **Binding Type** | UI \u2192 UI | Source widgets to router |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Input/Output Summary",
    "content": "### Input/Output Summary\n\n**INPUTS (Dynamic Properties):**\n- Created automatically based on `NumberOfInputs`\n- Named: `Input1`, `Input2`, `Input3`, ..., `InputN`\n- Type: Specified by `DataType` property\n- Example: 3 BOOLEAN inputs for 3 toggle buttons\n\n**OUTPUTS (Events):**\n- Routed events based on input combinations\n- Can trigger navigation, services, or UI changes\n- Event names depend on router configuration\n\n  **Typical Data Flow:**\n```\nToggle Buttons (State) \u2192 Event Router (Input1, Input2, Input3)\n                              \u2193\n                     Event Router Logic\n                              \u2193\n                    Routed Event Triggered\n                              \u2193\n              Navigation / Services / UI Changes\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 13: Validator Function",
    "content": "## Recipe 13: Validator Function\n\n**Objective**: Create a validator widget that evaluates expressions based on parameters, enabling validation logic and conditional behavior.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `validator` is a function widget that evaluates JavaScript expressions with parameters. It's commonly used for input validation, conditional logic, and expression evaluation. The validator can automatically evaluate expressions when parameter values change.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties and Common Pitfalls",
    "content": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Must Be a String**: The most critical pitfall is that `DefaultValue` in parameter definitions must be a **string**, not a number. Use `\"1\"` instead of `1`, even for NUMBER types.\n\n> [!CAUTION]\n> **Property Name is PascalCase**: The property name is `DefaultValue` (capital D and V), **NOT** `defaultValue` (camelCase). Using the wrong case will cause the default value to be ignored.\n\n> [!WARNING]\n> **Zero Value Issue**: Using `\"0\"` as DefaultValue may be interpreted as null/empty in some cases. It's safer to use `\"1\"` or another non-zero value for NUMBER types when a default is required.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"validator\",\n        \"Id\": \"validator-id\",\n        \"DisplayName\": \"MyValidator\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Validierer\",\n        \"Width\": 200,\n        \"Height\": 28,\n        \n        // Expression to evaluate\n        \"Expression\": \"Age >= 18 && Age <= 65;\\n\",\n        \n        // Checkboxes\n        \"AutoEvaluate\": true,    // Automatisch auswerten\n        \"Output\": true,          // Ausdruck (enables expression output)\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \n        // Parameter definitions\n        \"_currentParameterDefs\": [\n            {\n                \"ParameterName\": \"Age\",\n                \"Description\": \"Alter\",          // Tooltip\n                \"DefaultValue\": \"1\",             // MUST be string!\n                \"BaseType\": \"NUMBER\",\n                \"bindingDirection\": \"Target\",\n                \"bindingType\": \"Property\",\n                \"isBindingTarget\": true,\n                \"isBindingSource\": false,\n                \"shown\": true\n            }\n        ]\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | \u2705 | Must be `\"validator\"` |\n| `Id` | STRING | \u2705 | Unique identifier |\n| `Area` | STRING | \u2705 | Must be `\"UI\"` |\n| `Expression` | STRING | \u2705 | JavaScript expression to evaluate |\n| `AutoEvaluate` | BOOLEAN | \u26aa | Auto-evaluate when parameters change |\n| `Output` | BOOLEAN | \u26aa | Enable expression output (Ausdruck checkbox) |\n| `Width` | NUMBER | \u26aa | Widget width (typically 200) |\n| `Height` | NUMBER | \u26aa | Widget height (typically 28) |\n| `_currentParameterDefs` | ARRAY | \u26aa | Parameter definitions |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Definition Structure",
    "content": "### Parameter Definition Structure\n\nEach parameter in `_currentParameterDefs` has the following structure:\n\n```javascript\n{\n    \"ParameterName\": \"Age\",           // Parameter name (used in Expression)\n    \"Description\": \"Alter\",           // Tooltip text\n    \"DefaultValue\": \"1\",              // \u26a0\ufe0f MUST be STRING, even for NUMBER!\n    \"BaseType\": \"NUMBER\",             // Data type: NUMBER, STRING, BOOLEAN, etc.\n    \"bindingDirection\": \"Target\",     // \"Target\", \"Source\", or \"Both\"\n    \"bindingType\": \"Property\",        // Usually \"Property\"\n    \"isBindingTarget\": true,          // Can receive data bindings\n    \"isBindingSource\": false,         // Can provide data bindings\n    \"shown\": true                     // Visible in UI\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Properties Detail",
    "content": "### Parameter Properties Detail\n\n| Property | Type | Description | Example |\n|----------|------|-------------|---------|\n| `ParameterName` | STRING | Variable name in expression | `\"Age\"` |\n| `Description` | STRING | Tooltip text | `\"Alter\"` |\n| `DefaultValue` | **STRING** | Default value (always string!) | `\"1\"`, `\"Hello\"`, `\"true\"` |\n| `BaseType` | STRING | Data type | `\"NUMBER\"`, `\"STRING\"`, `\"BOOLEAN\"` |\n| `bindingDirection` | STRING | Binding direction | `\"Target\"`, `\"Source\"`, `\"Both\"` |\n| `bindingType` | STRING | Binding type | `\"Property\"` |\n| `isBindingTarget` | BOOLEAN | Can receive bindings | `true` |\n| `isBindingSource` | BOOLEAN | Can provide bindings | `false` |\n| `shown` | BOOLEAN | Visible in parameter list | `true` |\n\n> [!IMPORTANT]\n> **DefaultValue Type Conversion**: Even though `BaseType` might be `NUMBER` or `BOOLEAN`, the `DefaultValue` must always be a **string**. ThingWorx will convert it to the appropriate type.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Expression Format",
    "content": "### Expression Format\n\nThe `Expression` property contains JavaScript code:\n\n**Valid Expression Examples:**\n```javascript\n// Age validation\n\"Age >= 18 && Age <= 65;\\n\"\n\n// String validation\n\"Name.length > 0 && Name.length < 50;\\n\"\n\n// Boolean logic\n\"IsActive && !IsDeleted;\\n\"\n\n// Complex expression\n\"(Age >= 18 || HasPermission) && Status === 'Active';\\n\"\n```\n\n> [!TIP]\n> Always end expressions with `;\\n` (semicolon and newline). This is the standard format used by ThingWorx.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checkbox Settings",
    "content": "### Checkbox Settings\n\n**AutoEvaluate:**\n- `true`: Expression evaluates automatically when parameters change\n- `false`: Expression must be triggered manually\n\n**Output (Ausdruck):**\n- `true`: Expression result is available as output\n- `false`: Expression result is not exposed",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Input Validation**\n   - Validate age ranges\n   - Check string lengths\n   - Verify numeric bounds\n\n2. **Conditional Logic**\n   - Enable/disable buttons based on conditions\n   - Show/hide sections based on rules\n   - Filter data based on criteria\n\n3. **Business Rules**\n   - Validate business logic\n   - Check constraints\n   - Enforce requirements\n\n4. **Expression Evaluation**\n   - Calculate derived values\n   - Combine multiple conditions\n   - Complex decision logic",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.validator-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Validator Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Validator Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Numeric input for Age\n                        {\n                            \"Properties\": {\n                                \"Type\": \"numericentry\",\n                                \"Id\": \"input-age\",\n                                \"Label\": \"Age:\",\n                                \"Value\": 1,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label to show validation result\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-result\",\n                                \"LabelText\": \"Enter age to validate\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Validator Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"validator\",\n                        \"Id\": \"age-validator\",\n                        \"DisplayName\": \"AgeValidator\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Validierer\",\n                        \"Width\": 200,\n                        \"Height\": 28,\n                        \"Expression\": \"Age >= 18 && Age <= 65;\\n\",\n                        \"AutoEvaluate\": true,\n                        \"Output\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"_currentParameterDefs\": [\n                            {\n                                \"ParameterName\": \"Age\",\n                                \"Description\": \"Alter\",\n                                \"DefaultValue\": \"1\",      // String, not number!\n                                \"BaseType\": \"NUMBER\",\n                                \"bindingDirection\": \"Target\",\n                                \"bindingType\": \"Property\",\n                                \"isBindingTarget\": true,\n                                \"isBindingSource\": false,\n                                \"shown\": true\n                            }\n                        ]\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [\n            // Bind numeric input to validator parameter\n            {\n                \"Id\": \"binding-input-to-validator\",\n                \"SourceId\": \"input-age\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"age-validator\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"Value\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"NUMBER\",\n                    \"TargetProperty\": \"Age\",      // Parameter name\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"NUMBER\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Validator Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Validator mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Pattern: Input \u2192 Validator Parameter",
    "content": "### Binding Pattern: Input \u2192 Validator Parameter\n\n**Purpose**: Bind user input to validator parameters for validation\n\n```javascript\n{\n    \"SourceId\": \"numeric-input-id\",\n    \"TargetId\": \"validator-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",           // Input value\n        \"TargetProperty\": \"Age\",             // Parameter name from validator\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Use Descriptive Parameter Names**\n> - Use clear names that match your domain (Age, Price, Quantity)\n> - These names appear in the expression and in the UI\n> - Make them easy to understand for future maintenance\n\n> [!TIP]\n> **Provide Meaningful Descriptions**\n> - The Description field shows as tooltip\n> - Help users understand what each parameter does\n> - Include units or expected ranges if applicable\n\n> [!TIP]\n> **Test Expressions Before Deployment**\n> - Use simple test cases to verify logic\n> - Consider edge cases (min/max values)\n> - Test with invalid inputs",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue as Number**: The most common mistake:\n> - \u274c Wrong: `\"DefaultValue\": 1` (number)\n> - \u274c Wrong: `\"defaultValue\": \"1\"` (wrong property name)\n> - \u2705 Correct: `\"DefaultValue\": \"1\"` (string with PascalCase)\n\n> [!CAUTION]\n> **Zero Values**: Using `\"0\"` as default can cause issues:\n> - May be interpreted as null/empty\n> - Safer to use `\"1\"` or another non-zero default\n> - Or use empty string `\"\"` if zero is not critical\n\n> [!CAUTION]\n> **Expression Syntax**: Common expression mistakes:\n> - Missing semicolon at end: `Age >= 18` \u274c\n> - Correct: `Age >= 18;\\n` \u2705\n> - Using `=` instead of `===`: `Status = \"Active\"` \u274c\n> - Correct: `Status === \"Active\"` \u2705\n\n> [!CAUTION]\n> **Parameter Name Mismatch**: Parameter name in definition must exactly match usage in expression:\n> - Definition: `\"ParameterName\": \"Age\"`\n> - Expression must use: `Age` (exact match, case-sensitive)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Troubleshooting Guide",
    "content": "### Troubleshooting Guide\n\n**Problem: Default value not showing**\n- \u2705 Check: Is it `DefaultValue` (PascalCase)?\n- \u2705 Check: Is the value a string (`\"1\"` not `1`)?\n- \u2705 Try: Use non-zero value like `\"1\"` instead of `\"0\"`\n\n**Problem: Expression not evaluating**\n- \u2705 Check: Is `AutoEvaluate` set to `true`?\n- \u2705 Check: Does expression end with `;\\n`?\n- \u2705 Check: Are parameter names spelled correctly?\n\n**Problem: Parameter not bindable**\n- \u2705 Check: Is `isBindingTarget` set to `true`?\n- \u2705 Check: Is `bindingDirection` set to `\"Target\"` or `\"Both\"`?\n- \u2705 Check: Is `shown` set to `true`?",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Validator Widget**\n   - Set `Type: \"validator\"`\n   - Set `Area: \"UI\"`\n   - Define unique `Id` and `DisplayName`\n\n2. **Configure Expression**\n   - Write JavaScript expression\n   - End with `;\\n`\n   - Use parameter names exactly as defined\n\n3. **Define Parameters**\n   - Add to `_currentParameterDefs` array\n   - Set `ParameterName` (used in expression)\n   - Set `Description` (tooltip)\n   - Set `DefaultValue` as **STRING** (critical!)\n   - Set `BaseType` appropriately\n\n4. **Set Checkboxes**\n   - `AutoEvaluate: true` for automatic validation\n   - `Output: true` to expose result\n\n5. **Create Bindings**\n   - Bind input widgets to validator parameters\n   - UI \u2192 UI binding pattern\n   - Match parameter names exactly",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `validator` | Validation/expression widget |\n| **Area** | `\"UI\"` | Must be UI area |\n| **DefaultValue** | `\"1\"` | String! PascalCase! |\n| **Expression Format** | `Age >= 18;\\n` | End with ;\\n |\n| **AutoEvaluate** | `true`/`false` | Auto-evaluation |\n| **Output** | `true`/`false` | Expression output |\n| **Parameter Binding** | Input \u2192 Validator | UI \u2192 UI binding |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Lessons Learned",
    "content": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **DefaultValue Type Issue** \u26a0\ufe0f\n   - First attempt used `defaultValue: 0` (camelCase number)\n   - This was silently ignored by ThingWorx\n   - Correct: `DefaultValue: \"1\"` (PascalCase string)\n\n2. **Zero Value Problem** \u26a0\ufe0f\n   - Using `\"0\"` as default may not work reliably\n   - ThingWorx may interpret it as null/empty\n   - Better to use `\"1\"` or non-zero values\n\n3. **Case Sensitivity** \u26a0\ufe0f\n   - Property name is `DefaultValue`, not `defaultValue`\n   - Parameter names in expressions are case-sensitive\n   - All property names must match exactly\n\n**Typical Data Flow:**\n```\nUser Input (Value) \u2192 Validator Parameter (Age)\n                              \u2193\n                    Expression Evaluation\n                              \u2193\n                      Validator Output\n                              \u2193\n                    UI Actions / Validation\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 14: Expression Function",
    "content": "## Recipe 14: Expression Function\n\n**Objective**: Create an expression widget that evaluates JavaScript expressions with parameters, enabling complex logic, calculations, and data transformations.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `expression` is a function widget that evaluates JavaScript code with custom parameters. Unlike the validator widget which is focused on validation logic, the expression widget is designed for general-purpose expression evaluation, calculations, and data transformation. It provides more control over output types and data change behavior.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties and Common Pitfalls",
    "content": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Must Be a String**: Just like the validator, the `DefaultValue` in parameter definitions must be a **string**, not a number. Use `\"2\"` instead of `2`, even for NUMBER types.\n\n> [!CAUTION]\n> **Property Name is PascalCase**: The property name is `DefaultValue` (capital D and V), **NOT** `defaultValue` (camelCase).\n\n> [!IMPORTANT]\n> **Widget Type Discovery**: The widget type is `\"expression\"`, with German display name `\"Ausdruck\"`. When searching for examples, be aware of potential naming variations.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"expression\",\n        \"Id\": \"expression-id\",\n        \"DisplayName\": \"MyExpression\",\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Ausdruck\",\n        \"Width\": 200,\n        \"Height\": 28,\n        \n        // JavaScript expression code\n        \"Expression\": \"if(age>18) {result = \\\"vollj\u00e4hrig\\\"}\\n\",\n        \n        // Checkbox settings\n        \"AutoEvaluate\": true,        // Automatisch auswerten\n        \"FireOnFirstValue\": true,    // Bei erstem Wert ausl\u00f6sen\n        \n        // Data and output configuration\n        \"DataChangeType\": \"NEVER\",   // NEVER, VALUE, or ALWAYS\n        \"OutputBaseType\": \"BOOLEAN\", // Output data type\n        \n        // Standard properties\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false,\n        \n        // Parameter definitions\n        \"_currentParameterDefs\": [\n            {\n                \"ParameterName\": \"age\",\n                \"Description\": \"alter\",          // Tooltip\n                \"DefaultValue\": \"2\",             // MUST be string!\n                \"BaseType\": \"NUMBER\",\n                \"bindingDirection\": \"Target\",\n                \"bindingType\": \"Property\",\n                \"isBindingTarget\": true,\n                \"isBindingSource\": false,\n                \"shown\": true\n            }\n        ]\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | \u2705 | Must be `\"expression\"` |\n| `Id` | STRING | \u2705 | Unique identifier |\n| `Area` | STRING | \u2705 | Must be `\"UI\"` |\n| `Expression` | STRING | \u2705 | JavaScript code to evaluate |\n| `AutoEvaluate` | BOOLEAN | \u26aa | Auto-evaluate when parameters change |\n| `FireOnFirstValue` | BOOLEAN | \u26aa | Trigger on first value received |\n| `DataChangeType` | STRING | \u26aa | When to propagate changes |\n| `OutputBaseType` | STRING | \u26aa | Output data type |\n| `Width` | NUMBER | \u26aa | Widget width (typically 200) |\n| `Height` | NUMBER | \u26aa | Widget height (typically 28) |\n| `_currentParameterDefs` | ARRAY | \u26aa | Parameter definitions |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Expression Property",
    "content": "### Expression Property\n\nThe `Expression` property contains JavaScript code that is evaluated:\n\n**Key Points:**\n- Use parameter names exactly as defined in `_currentParameterDefs`\n- Assign result to the `result` variable\n- Can include complex logic with if/else, loops, etc.\n- Can perform calculations and string operations\n\n**Example Expressions:**\n\n```javascript\n// Simple conditional\n\"if(age>18) {result = \\\"vollj\u00e4hrig\\\"}\\n\"\n\n// Calculation\n\"result = price * quantity * (1 + taxRate);\\n\"\n\n// Multiple conditions\n\"if(age < 18) {\\n  result = \\\"minor\\\";\\n} else if(age < 65) {\\n  result = \\\"adult\\\";\\n} else {\\n  result = \\\"senior\\\";\\n}\\n\"\n\n// Boolean logic\n\"result = (status === 'active' && balance > 0);\\n\"\n\n// String concatenation\n\"result = firstName + ' ' + lastName;\\n\"\n```\n\n> [!TIP]\n> End expressions with `\\n` (newline). This is the standard format used by ThingWorx.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checkbox Settings",
    "content": "### Checkbox Settings\n\n#### AutoEvaluate (Automatisch auswerten)\n\n- **`true`**: Expression evaluates automatically when any parameter value changes\n- **`false`**: Expression must be triggered manually (e.g., via button click)\n\n**Use `true` when:**\n- Real-time calculation is needed\n- Output should update as user types\n- Live validation or feedback\n\n**Use `false` when:**\n- Calculation is expensive\n- User should control when to evaluate\n- Batch processing is preferred\n\n#### FireOnFirstValue (Bei erstem Wert ausl\u00f6sen)\n\n- **`true`**: Expression executes immediately when the first value is received\n- **`false`**: Expression waits for subsequent value changes\n\n**Use `true` when:**\n- Initial calculation is needed on page load\n- Default values should be processed\n\n**Use `false` when:**\n- Only user-initiated changes should trigger evaluation\n- Initial state should remain unchanged",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "DataChangeType (Datei\u00e4nderungstyp)",
    "content": "### DataChangeType (Datei\u00e4nderungstyp)\n\nControls when data changes are propagated:\n\n| Value | Description | Use Case |\n|-------|-------------|----------|\n| `\"NEVER\"` | No automatic propagation | Manual control of updates |\n| `\"VALUE\"` | Propagate when value changes | Normal reactive behavior |\n| `\"ALWAYS\"` | Always propagate | Force updates even if value unchanged |\n\n> [!TIP]\n> Use `\"NEVER\"` when you want to control data flow manually, `\"VALUE\"` for standard reactive updates, and `\"ALWAYS\"` only when guaranteed updates are needed.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "OutputBaseType (Ausgabe-Basistyp)",
    "content": "### OutputBaseType (Ausgabe-Basistyp)\n\nDefines the data type of the expression result:\n\n| Type | Description | Example Result |\n|------|-------------|----------------|\n| `\"BOOLEAN\"` | True/False | `true`, `false` |\n| `\"STRING\"` | Text | `\"vollj\u00e4hrig\"`, `\"Hello\"` |\n| `\"NUMBER\"` | Decimal number | `42.5`, `3.14` |\n| `\"INTEGER\"` | Whole number | `42`, `100` |\n| `\"DATETIME\"` | Date/time | Date objects |\n| `\"JSON\"` | JSON object | `{\"key\": \"value\"}` |\n| `\"INFOTABLE\"` | Data table | ThingWorx InfoTable |\n\n> [!IMPORTANT]\n> The `OutputBaseType` should match the type of value assigned to `result` in your expression. Mismatches may cause type conversion errors.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Parameter Configuration",
    "content": "### Parameter Configuration\n\nParameters work exactly like validator widget parameters:\n\n```javascript\n{\n    \"ParameterName\": \"age\",           // Variable name in Expression\n    \"Description\": \"alter\",           // Tooltip text\n    \"DefaultValue\": \"2\",              // \u26a0\ufe0f STRING, not number!\n    \"BaseType\": \"NUMBER\",             // Data type\n    \"bindingDirection\": \"Target\",     // Target, Source, or Both\n    \"bindingType\": \"Property\",\n    \"isBindingTarget\": true,\n    \"isBindingSource\": false,\n    \"shown\": true\n}\n```\n\n**See Recipe 13 (Validator Function) for detailed parameter documentation.**",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Calculations**\n   - Price calculations with tax\n   - Discount computations\n   - Mathematical formulas\n   - Unit conversions\n\n2. **Data Transformations**\n   - String concatenation\n   - Date formatting\n   - Case conversion\n   - Data normalization\n\n3. **Conditional Logic**\n   - Age-based categorization\n   - Status determination\n   - Eligibility checks\n   - Dynamic text generation\n\n4. **Complex Business Logic**\n   - Multi-step calculations\n   - Decision trees\n   - Rule evaluation\n   - Score computation",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.expression-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Expression Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Expression Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Numeric input\n                        {\n                            \"Properties\": {\n                                \"Type\": \"numericentry\",\n                                \"Id\": \"input-age\",\n                                \"Label\": \"Age:\",\n                                \"Value\": 2,\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        },\n                        // Label for result\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcslabel\",\n                                \"Id\": \"label-result\",\n                                \"LabelText\": \"Result will appear here\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Expression Function\n                {\n                    \"Properties\": {\n                        \"Type\": \"expression\",\n                        \"Id\": \"age-expression\",\n                        \"DisplayName\": \"AgeExpression\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Ausdruck\",\n                        \"Width\": 200,\n                        \"Height\": 28,\n                        \"Expression\": \"if(age>18) {result = \\\"vollj\u00e4hrig\\\"}\\n\",\n                        \"AutoEvaluate\": true,\n                        \"FireOnFirstValue\": true,\n                        \"DataChangeType\": \"NEVER\",\n                        \"OutputBaseType\": \"BOOLEAN\",\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false,\n                        \"_currentParameterDefs\": [\n                            {\n                                \"ParameterName\": \"age\",\n                                \"Description\": \"alter\",\n                                \"DefaultValue\": \"2\",\n                                \"BaseType\": \"NUMBER\",\n                                \"bindingDirection\": \"Target\",\n                                \"bindingType\": \"Property\",\n                                \"isBindingTarget\": true,\n                                \"isBindingSource\": false,\n                                \"shown\": true\n                            }\n                        ]\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [\n            // Bind numeric input to expression parameter\n            {\n                \"Id\": \"binding-input-to-expression\",\n                \"SourceId\": \"input-age\",\n                \"SourceArea\": \"UI\",\n                \"SourceSection\": \"\",\n                \"SourceDetails\": \"\",\n                \"TargetArea\": \"UI\",\n                \"TargetSection\": \"\",\n                \"TargetId\": \"age-expression\",\n                \"PropertyMaps\": [{\n                    \"SourceProperty\": \"Value\",\n                    \"SourcePropertyType\": \"Property\",\n                    \"SourcePropertyBaseType\": \"NUMBER\",\n                    \"TargetProperty\": \"age\",\n                    \"TargetPropertyType\": \"Property\",\n                    \"TargetPropertyBaseType\": \"NUMBER\"\n                }]\n            }\n        ],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Expression Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Expression mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Binding Pattern: Input \u2192 Expression Parameter",
    "content": "### Binding Pattern: Input \u2192 Expression Parameter\n\n**Purpose**: Bind user input to expression parameters\n\n```javascript\n{\n    \"SourceId\": \"numeric-input-id\",\n    \"TargetId\": \"expression-id\",\n    \"PropertyMaps\": [{\n        \"SourceProperty\": \"Value\",\n        \"TargetProperty\": \"age\",             // Parameter name from expression\n        \"SourcePropertyBaseType\": \"NUMBER\",\n        \"TargetPropertyBaseType\": \"NUMBER\"\n    }]\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Expression vs. Validator",
    "content": "### Expression vs. Validator\n\n| Feature | Expression | Validator |\n|---------|-----------|-----------|\n| **Primary Use** | General calculations & transformations | Validation logic |\n| **Output Control** | `OutputBaseType` configurable | Fixed to validation result |\n| **Data Change** | `DataChangeType` option | Standard behavior |\n| **Fire on First** | `FireOnFirstValue` option | Not available |\n| **Flexibility** | More control options | Simpler, focused on validation |\n\n> [!TIP]\n> Use **expression** for calculations and data transformations. Use **validator** for simple validation checks.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Clear Parameter Names**\n> - Use descriptive names (age, price, quantity)\n> - Match business domain terminology\n> - Keep names concise but meaningful\n\n> [!TIP]\n> **Output Type Matching**\n> - Ensure `OutputBaseType` matches your result type\n> - STRING for text results (`\"vollj\u00e4hrig\"`)\n> - BOOLEAN for true/false (`true`, `false`)\n> - NUMBER for calculations (`42.5`)\n\n> [!TIP]\n> **Expression Format**\n> - Keep expressions readable\n> - Use proper indentation for multi-line code\n> - Add comments in complex expressions\n> - Test with various input values",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **DefaultValue Type**: Same as validator - must be STRING!\n> - \u274c `\"DefaultValue\": 2` (number)\n> - \u2705 `\"DefaultValue\": \"2\"` (string)\n\n> [!CAUTION]\n> **Result Variable**: Always assign to `result`\n> - \u274c `output = \"text\"` (wrong variable)\n> - \u2705 `result = \"text\"` (correct)\n\n> [!CAUTION]\n> **Parameter Name Case**: Names are case-sensitive\n> - Definition: `\"ParameterName\": \"age\"`\n> - Expression must use: `age` (exact match)\n> - \u274c `Age`, `AGE` (wrong case)\n\n> [!CAUTION]\n> **Output Type Mismatch**: Result must match OutputBaseType\n> - `OutputBaseType: \"BOOLEAN\"` \u2192 result must be true/false\n> - `OutputBaseType: \"STRING\"` \u2192 result must be text\n> - Type mismatches can cause errors",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Troubleshooting Guide",
    "content": "### Troubleshooting Guide\n\n**Problem: Expression not evaluating**\n- \u2705 Check: Is `AutoEvaluate` set to `true`?\n- \u2705 Check: Are parameter names spelled correctly in expression?\n- \u2705 Check: Is `result` variable assigned in expression?\n\n**Problem: Wrong output type**\n- \u2705 Check: Does `OutputBaseType` match result type?\n- \u2705 Check: Is result value the correct type?\n- \u2705 Try: Add type conversion in expression (e.g., `String()`, `Number()`)\n\n**Problem: Default value not working**\n- \u2705 Check: Is `DefaultValue` a string (`\"2\"` not `2`)?\n- \u2705 Check: Is property name `DefaultValue` (PascalCase)?\n- \u2705 Try: Use non-zero value like `\"1\"` instead of `\"0\"`\n\n**Problem: Expression doesn't fire on load**\n- \u2705 Check: Is `FireOnFirstValue` set to `true`?\n- \u2705 Check: Are default values provided for all parameters?",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Expression Widget**\n   - Set `Type: \"expression\"`\n   - Set `Area: \"UI\"`\n   - Define unique `Id` and `DisplayName`\n\n2. **Write Expression**\n   - JavaScript code in `Expression` property\n   - Use parameter names from `_currentParameterDefs`\n   - Assign result to `result` variable\n\n3. **Configure Output**\n   - Set `OutputBaseType` to match result type\n   - Set `DataChangeType` as needed\n   - Configure checkboxes\n\n4. **Define Parameters**\n   - Add to `_currentParameterDefs` array\n   - Set `DefaultValue` as **STRING**\n   - Set appropriate `BaseType`\n\n5. **Set Checkboxes**\n   - `AutoEvaluate: true` for auto-calculation\n   - `FireOnFirstValue: true` for initial evaluation\n\n6. **Create Bindings**\n   - Bind input widgets to expression parameters\n   - UI \u2192 UI binding pattern\n   - Match parameter names exactly",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `expression` | General expression widget |\n| **Display Name** | `Ausdruck` | German UI name |\n| **Expression** | JavaScript code | Assign to `result` |\n| **DefaultValue** | `\"2\"` | String! PascalCase! |\n| **AutoEvaluate** | `true`/`false` | Auto-evaluation |\n| **FireOnFirstValue** | `true`/`false` | Execute on first value |\n| **DataChangeType** | `NEVER`/`VALUE`/`ALWAYS` | Change propagation |\n| **OutputBaseType** | `BOOLEAN`/`STRING`/`NUMBER` | Result type |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Lessons Learned",
    "content": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **Widget Type Discovery** \u26a0\ufe0f\n   - Searched for \"testausdruck\" in example mashup\n   - Widget not found in expected location\n   - Correct type discovered via direct testing: `\"expression\"`\n   - German display name: `\"Ausdruck\"`\n\n2. **Parameter Configuration** \u26a0\ufe0f\n   - Same as validator: `DefaultValue` must be STRING\n   - Same PascalCase requirement\n   - Learned from validator implementation\n\n3. **Expression Flexibility** \u2705\n   - More configuration options than validator\n   - `DataChangeType` for fine control\n   - `OutputBaseType` for type specification\n   - `FireOnFirstValue` for initial execution\n\n4. **Use Case Differentiation** \u2705\n   - Expression: calculations, transformations, general logic\n   - Validator: focused on validation only\n   - Choose based on primary purpose\n\n**Typical Data Flow:**\n```\nUser Input (Value) \u2192 Expression Parameter (age)\n                              \u2193\n                    JavaScript Evaluation\n                              \u2193\n                    Result Assignment\n                              \u2193\n              Output (Type: OutputBaseType)\n                              \u2193\n                 UI Widgets / Data Bindings\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Recipe 15: Confirmation Dialog Function",
    "content": "## Recipe 15: Confirmation Dialog Function\n\n**Objective**: Create a confirmation dialog widget (`ptcsconfirmation`) for user confirmations, with configurable buttons, icons, and dialog appearance.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Overview",
    "content": "### Overview\n\nThe `ptcsconfirmation` widget displays a confirmation dialog with customizable title, message, and up to three action buttons (Cancel, Action, Secondary Action), plus an optional close button. This is commonly used for important user actions that require explicit confirmation.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Properties and Common Pitfalls",
    "content": "### Critical Properties and Common Pitfalls\n\n> [!CAUTION]\n> **IDs Must Not Contain Umlauts**: The most critical issue with ThingWorx widgets is that widget `Id` properties **cannot contain umlauts** (\u00e4, \u00f6, \u00fc, \u00df) or special characters. Using umlauts will cause ThingWorx to mark the widget as invalid and remove it from the mashup with a warning: \"Widgets entfernt - Es wurden Widgets mit ung\u00fcltigen IDs gefunden und entfernt.\"\n\n> [!CAUTION]\n> **ID vs DisplayName**: \n> - **`Id`**: Must use ASCII characters only (a-z, 0-9, hyphens, underscores)\n> - **`DisplayName`**: CAN contain umlauts and special characters\n> - Example: `Id: \"bestaetigung-funktion\"`, `DisplayName: \"Best\u00e4tigungsFunktion\"`\n\n> [!IMPORTANT]\n> **Dialog Dimensions as Strings**: `DialogWidth` and `DialogHeight` must be strings (e.g., `\"500\"`), not numbers.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Widget Structure",
    "content": "### Widget Structure\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"ptcsconfirmation\",\n        \"Id\": \"bestaetigung-funktion\",      // No umlauts!\n        \"DisplayName\": \"Best\u00e4tigungsFunktion\",  // Umlauts OK here\n        \"Area\": \"UI\",\n        \"__TypeDisplayName\": \"Best\u00e4tigung\",\n        \n        // Dialog dimensions\n        \"DialogWidth\": \"500\",               // String, not number\n        \"DialogHeight\": \"500\",\n        \n        // Dialog text\n        \"TitleText\": \"Beispielbest\u00e4tigung\",\n        \"MessageText\": \"Das ist eine best\u00e4tigun\",\n        \n        // Cancel button\n        \"CancelButtonLabel\": \"Abbrechen\",\n        \"CancelButtonIcon\": \"atio.BV-Telephone\",\n        \"CancelButtonTooltipField\": \"Tooltip abbrechen\",\n        \"CancelButtonTooltipIcon\": \"atio.BE-SaveButton\",\n        \n        // Action button\n        \"ActionButtonLabel\": \"Action\",\n        \"ActionButtonTooltipField\": \"\",\n        \"ActionButtonPosition\": \"right\",    // \"left\" or \"right\"\n        \"ActionButtonType\": \"danger\",       // \"primary\", \"danger\", etc.\n        \n        // Secondary action button\n        \"SecondButtonLabel\": \"Action\",\n        \"SecondButtonTooltipField\": \"\",\n        \n        // Checkboxes\n        \"DisplaySecondaryAction\": true,     // Show second action button\n        \"DisplayCloseButton\": true,         // Show close (X) button\n        \n        // Close button\n        \"CloseButtonTooltipField\": \"Schlie\u00dfen\",\n        \n        // Standard properties\n        \"UseTheme\": true,\n        \"ShowDataLoading\": true,\n        \"Visible\": true,\n        \"Top\": null,\n        \"Left\": null,\n        \"Z-index\": 10,\n        \"ResponsiveLayout\": false,\n        \"LastContainer\": false\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Properties Reference",
    "content": "### Properties Reference\n\n| Property | Type | Required | Description |\n|----------|------|----------|-------------|\n| `Type` | STRING | \u2705 | Must be `\"ptcsconfirmation\"` |\n| `Id` | STRING | \u2705 | Unique ID (NO UMLAUTS!) |\n| `Area` | STRING | \u2705 | Must be `\"UI\"` |\n| `DialogWidth` | STRING | \u26aa | Dialog width (e.g., \"500\") |\n| `DialogHeight` | STRING | \u26aa | Dialog height (e.g., \"500\") |\n| `TitleText` | STRING | \u26aa | Dialog title |\n| `MessageText` | STRING | \u26aa | Main message/question |\n| `DisplaySecondaryAction` | BOOLEAN | \u26aa | Show second action button |\n| `DisplayCloseButton` | BOOLEAN | \u26aa | Show close (X) button |\n| `ActionButtonPosition` | STRING | \u26aa | \"left\" or \"right\" |\n| `ActionButtonType` | STRING | \u26aa | Button style type |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Dialog Configuration",
    "content": "### Dialog Configuration\n\n#### Dialog Dimensions\n\n```javascript\n\"DialogWidth\": \"500\",      // Width in pixels (as string)\n\"DialogHeight\": \"500\"      // Height in pixels (as string)\n```\n\n> [!TIP]\n> Common dialog sizes: 400x300 (small), 600x400 (medium), 800x600 (large)\n\n#### Dialog Text\n\n```javascript\n\"TitleText\": \"Beispielbest\u00e4tigung\",        // Dialog header\n\"MessageText\": \"Das ist eine best\u00e4tigun\"  // Main content\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Button Configurations",
    "content": "### Button Configurations\n\nThe confirmation dialog supports up to three action buttons plus a close button:\n\n#### 1. Cancel Button (Abbrechen-Schaltfl\u00e4che)\n\nAlways displayed by default.\n\n```javascript\n\"CancelButtonLabel\": \"Abbrechen\",              // Button text\n\"CancelButtonIcon\": \"atio.BV-Telephone\",       // Icon identifier\n\"CancelButtonTooltipField\": \"Tooltip abbrechen\",  // Tooltip text\n\"CancelButtonTooltipIcon\": \"atio.BE-SaveButton\"   // Tooltip icon\n```\n\n**Properties:**\n- `CancelButtonLabel`: Text displayed on button\n- `CancelButtonIcon`: Icon displayed on button\n- `CancelButtonTooltipField`: Hover tooltip text\n- `CancelButtonTooltipIcon`: Icon in tooltip\n\n#### 2. Action Button (Aktionsschaltfl\u00e4che)\n\nThe main action button (primary action).\n\n```javascript\n\"ActionButtonLabel\": \"Action\",          // Button text\n\"ActionButtonTooltipField\": \"\",         // Tooltip text\n\"ActionButtonPosition\": \"right\",        // Position: \"left\" or \"right\"\n\"ActionButtonType\": \"danger\"           // Style: \"primary\", \"danger\", etc.\n```\n\n**ActionButtonPosition:**\n- `\"left\"`: Button appears on the left side\n- `\"right\"`: Button appears on the right side\n\n**ActionButtonType:**\n| Type | Description | Use Case |\n|------|-------------|----------|\n| `\"primary\"` | Primary/default style | Normal confirmations |\n| `\"danger\"` | Red/warning style | Destructive actions (delete, remove) |\n| `\"success\"` | Green/positive style | Positive confirmations |\n| `\"secondary\"` | Secondary style | Less important actions |\n\n#### 3. Secondary Action Button (Zweite Aktionsschaltfl\u00e4che)\n\nOptional second action button, enabled via checkbox.\n\n```javascript\n\"DisplaySecondaryAction\": true,         // Enable second button\n\"SecondButtonLabel\": \"Action\",         // Button text\n\"SecondButtonTooltipField\": \"\"        // Tooltip text\n```\n\n**Enable via:**\n- Set `DisplaySecondaryAction` to `true`\n\n**Use cases:**\n- \"Save and Continue\" + \"Save and Close\"\n- \"Approve\" + \"Reject\"\n- Multiple choice confirmations\n\n#### 4. Close Button (Schlie\u00dfen-Schaltfl\u00e4che)\n\nOptional X button in dialog corner.\n\n```javascript\n\"DisplayCloseButton\": true,                 // Enable close button\n\"CloseButtonTooltipField\": \"Schlie\u00dfen\"     // Close button tooltip\n```\n\n**Enable via:**\n- Set `DisplayCloseButton` to `true`",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Checkbox Settings",
    "content": "### Checkbox Settings\n\n#### DisplaySecondaryAction (Zweite Aktionsschaltfl\u00e4che hinzuf\u00fcgen)\n\n- **`true`**: Shows second action button\n- **`false`**: Hides second action button (only Cancel + Action visible)\n\n**Use when:**\n- Multiple action choices needed\n- \"Save As\" + \"Save\" scenarios\n- Complex workflows with options\n\n#### DisplayCloseButton (Schaltfl\u00e4che \"Schlie\u00dfen\")\n\n- **`true`**: Shows X button in dialog corner\n- **`false`**: Only action buttons can close dialog\n\n**Use when:**\n- User should be able to dismiss without action\n- Non-critical confirmations\n- Optional dialogs",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Icon Configuration",
    "content": "### Icon Configuration\n\nIcons can be specified for buttons and tooltips using icon identifiers:\n\n**Icon Format:**\n- System icons: `\"icon-name\"`\n- Custom icons: `\"namespace.IconName\"` (e.g., `\"atio.BV-Telephone\"`)\n\n**Common Icon Properties:**\n- `CancelButtonIcon`: Main cancel button icon\n- `CancelButtonTooltipIcon`: Icon in cancel button tooltip\n- Similar pattern for other buttons\n\n> [!TIP]\n> Browse available icons in ThingWorx Composer under Resources \u2192 Media Entities \u2192 Icons",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Use Cases",
    "content": "### Common Use Cases\n\n1. **Delete Confirmation**\n   - Title: \"Delete Item?\"\n   - Message: \"This action cannot be undone.\"\n   - Cancel Button: \"Cancel\"\n   - Action Button: \"Delete\" (danger type, right position)\n\n2. **Save Changes**\n   - Title: \"Unsaved Changes\"\n   - Message: \"Do you want to save your changes?\"\n   - Cancel: \"Discard\"\n   - Action: \"Save\" (primary type)\n   - Secondary: \"Save As\"\n\n3. **Critical Action**\n   - Title: \"Warning\"\n   - Message: \"This will affect all users.\"\n   - Cancel: \"Cancel\"\n   - Action: \"Proceed\" (danger type)\n   - Close Button: Disabled\n\n4. **Information Confirmation**\n   - Title: \"Information\"\n   - Message: \"Operation completed successfully.\"\n   - Action: \"OK\" (primary type)\n   - Close Button: Enabled",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Complete Working Example",
    "content": "### Complete Working Example\n\n```javascript\nconst fs = require('fs');\nconst path = require('path');\n\n// Load config\nconst envPath = path.join(__dirname, '.env.example');\nconst envContent = fs.readFileSync(envPath, 'utf8');\nconst config = {};\nenvContent.split('\\n').forEach(line => {\n    const [key, value] = line.split('=');\n    if (key && value) config[key.trim()] = value.trim();\n});\n\nconst BASE_URL = config.THINGWORX_BASE_URL;\nconst APP_KEY = config.THINGWORX_APP_KEY;\nconst MASHUP_NAME = \"antigravity.confirmation-demo\";\n\nasync function createMashup() {\n    console.log(`Creating Confirmation Demo: ${MASHUP_NAME}...`);\n\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Width\": 1024,\n                \"Height\": 618,\n                \"Style\": \"DefaultMashupStyle\",\n                \"StyleTheme\": \"PTC Convergence Theme\",\n                \"Title\": \"Confirmation Demo\",\n                \"Area\": \"Mashup\",\n                \"__TypeDisplayName\": \"Mashup\",\n                \"Visible\": true,\n                \"Z-index\": 10,\n                \"Top\": 0,\n                \"Left\": 0\n            },\n            \"Widgets\": [\n                {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"DisplayName\": \"root\",\n                        \"flex-direction\": \"column\",\n                        \"align-items\": \"center\",\n                        \"justify-content\": \"center\",\n                        \"gap\": \"10px\",\n                        \"ResponsiveLayout\": true,\n                        \"LastContainer\": true\n                    },\n                    \"Widgets\": [\n                        // Button to trigger confirmation\n                        {\n                            \"Properties\": {\n                                \"Type\": \"ptcsbutton\",\n                                \"Id\": \"trigger-button\",\n                                \"ButtonText\": \"Show Confirmation\",\n                                \"Visible\": true\n                            },\n                            \"Widgets\": []\n                        }\n                    ]\n                },\n                // Confirmation Dialog\n                {\n                    \"Properties\": {\n                        \"Type\": \"ptcsconfirmation\",\n                        \"Id\": \"delete-confirmation\",       // No umlauts!\n                        \"DisplayName\": \"DeleteConfirmation\",\n                        \"Area\": \"UI\",\n                        \"__TypeDisplayName\": \"Best\u00e4tigung\",\n                        \"DialogWidth\": \"500\",\n                        \"DialogHeight\": \"300\",\n                        \"TitleText\": \"Delete Item?\",\n                        \"MessageText\": \"This action cannot be undone. Are you sure?\",\n                        \"CancelButtonLabel\": \"Cancel\",\n                        \"CancelButtonIcon\": \"\",\n                        \"CancelButtonTooltipField\": \"Cancel deletion\",\n                        \"CancelButtonTooltipIcon\": \"\",\n                        \"ActionButtonLabel\": \"Delete\",\n                        \"ActionButtonTooltipField\": \"Confirm deletion\",\n                        \"ActionButtonPosition\": \"right\",\n                        \"ActionButtonType\": \"danger\",\n                        \"DisplaySecondaryAction\": false,\n                        \"DisplayCloseButton\": true,\n                        \"CloseButtonTooltipField\": \"Close\",\n                        \"SecondButtonLabel\": \"\",\n                        \"SecondButtonTooltipField\": \"\",\n                        \"UseTheme\": true,\n                        \"ShowDataLoading\": true,\n                        \"Visible\": true,\n                        \"Top\": null,\n                        \"Left\": null,\n                        \"Z-index\": 10,\n                        \"ResponsiveLayout\": false,\n                        \"LastContainer\": false\n                    },\n                    \"Widgets\": []\n                }\n            ]\n        },\n        \"Data\": {\n            \"Session\": {\n                \"DataName\": \"Session\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"Session\",\n                \"Id\": \"session\",\n                \"Services\": [{\n                    \"Id\": \"SessionInterface\",\n                    \"Name\": \"GetGlobalSessionValues\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetGlobalSessionValues\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            },\n            \"UserExtensions\": {\n                \"DataName\": \"UserExtensions\",\n                \"EntityName\": \"\",\n                \"EntityType\": \"UserExtensions\",\n                \"Id\": \"UserExtensions\",\n                \"Services\": [{\n                    \"Id\": \"UserExtensionInterface\",\n                    \"Name\": \"GetCurrentUserExtensionProperties\",\n                    \"Characteristic\": \"Services\",\n                    \"Target\": \"GetCurrentUserExtensionProperties\",\n                    \"APIMethod\": \"post\",\n                    \"RefreshInterval\": 0,\n                    \"Parameters\": {}\n                }]\n            }\n        },\n        \"Events\": [],\n        \"DataBindings\": [],\n        \"mashupType\": \"mashup\"\n    };\n\n    const payload = {\n        \"entityType\": \"Mashups\",\n        \"name\": MASHUP_NAME,\n        \"description\": \"Confirmation Demo Mashup\",\n        \"mashupContent\": JSON.stringify(mashupContent),\n        \"projectName\": \"PTCDefaultProject\"\n    };\n\n    // Delete existing\n    try {\n        await fetch(`${BASE_URL}/Mashups/${MASHUP_NAME}`, {\n            method: 'DELETE',\n            headers: { 'appKey': APP_KEY }\n        });\n        await new Promise(r => setTimeout(r, 2000));\n    } catch(e) {}\n\n    // Create\n    const response = await fetch(`${BASE_URL}/Mashups?Content-Type=application%2Fjson`, {\n        method: 'PUT',\n        headers: {\n            'appKey': APP_KEY,\n            'Content-Type': 'application/json',\n            'Accept': 'application/json'\n        },\n        body: JSON.stringify(payload)\n    });\n\n    if (response.ok) {\n        console.log(`\u2713 Confirmation mashup created successfully!`);\n    } else {\n        console.error(`Error: ${response.status} ${await response.text()}`);\n    }\n}\n\ncreateMashup();\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Best Practices",
    "content": "### Best Practices\n\n> [!TIP]\n> **Clear Button Labels**\n> - Use action-oriented language (\"Delete\", \"Save\", \"Cancel\")\n> - Avoid ambiguous labels (\"OK\", \"Yes\", \"No\")\n> - Make primary action obvious\n\n> [!TIP]\n> **Appropriate Button Types**\n> - Use `danger` for destructive actions (delete, remove)\n> - Use `primary` for normal confirmations\n> - Position primary action on the right (standard UX)\n\n> [!TIP]\n> **Dialog Sizing**\n> - Keep dialogs compact but readable\n> - 400-600px width is typical\n> - Height should fit content (250-500px)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Common Pitfalls",
    "content": "### Common Pitfalls\n\n> [!CAUTION]\n> **Umlauts in ID**: The #1 cause of \"widgets removed\" errors\n> - \u274c `Id: \"Best\u00e4tigungsFunktion\"` (will be removed!)\n> - \u2705 `Id: \"bestaetigung-funktion\"` (works)\n> - DisplayName CAN have umlauts: `DisplayName: \"Best\u00e4tigungsFunktion\"`\n\n> [!CAUTION]\n> **Dimension Types**: Dialog dimensions must be strings\n> - \u274c `DialogWidth: 500` (number)\n> - \u2705 `DialogWidth: \"500\"` (string)\n\n> [!CAUTION]\n> **Button Configuration**: Forgetting to enable optional buttons\n> - Set `DisplaySecondaryAction: true` to show secondary button\n> - Set `DisplayCloseButton: true` to show close button\n> - Both default to `false`\n\n> [!CAUTION]\n> **Icon Names**: Invalid icon identifiers fail silently\n> - Use valid icon names from ThingWorx icon library\n> - Format: `\"namespace.IconName\"` for custom icons\n> - Leave empty `\"\"` if no icon needed",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Troubleshooting Guide",
    "content": "### Troubleshooting Guide\n\n**Problem: Widget not appearing / \"Widgets entfernt\" warning**\n- \u2705 Check: Does `Id` contain umlauts or special characters?\n- \u2705 Solution: Replace umlauts (\u00e4\u2192ae, \u00f6\u2192oe, \u00fc\u2192ue, \u00df\u2192ss)\n- \u2705 Verify: Only use a-z, 0-9, hyphens, underscores in `Id`\n\n**Problem: Secondary button not visible**\n- \u2705 Check: Is `DisplaySecondaryAction` set to `true`?\n- \u2705 Check: Is `SecondButtonLabel` set?\n\n**Problem: Close button not visible**\n- \u2705 Check: Is `DisplayCloseButton` set to `true`?\n\n**Problem: Dialog too small/large**\n- \u2705 Check: Are `DialogWidth` and `DialogHeight` strings?\n- \u2705 Try: Adjust values (\"400\", \"500\", \"600\", etc.)\n\n**Problem: Icon not displaying**\n- \u2705 Check: Is icon name valid?\n- \u2705 Check: Correct format for custom icons?\n- \u2705 Try: Leave empty if icon not found",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Workflow Summary",
    "content": "### Workflow Summary\n\n1. **Create Confirmation Widget**\n   - Set `Type: \"ptcsconfirmation\"`\n   - Set `Area: \"UI\"`\n   - Set `Id` without umlauts!\n\n2. **Configure Dialog**\n   - Set `DialogWidth` and `DialogHeight` (strings)\n   - Set `TitleText` and `MessageText`\n\n3. **Configure Cancel Button**\n   - Set label, icon, tooltip\n   - Always visible by default\n\n4. **Configure Action Button**\n   - Set label, tooltip\n   - Set position (left/right)\n   - Set type (primary/danger/etc.)\n\n5. **Optional: Add Secondary Button**\n   - Set `DisplaySecondaryAction: true`\n   - Set `SecondButtonLabel` and tooltip\n\n6. **Optional: Add Close Button**\n   - Set `DisplayCloseButton: true`\n   - Set `CloseButtonTooltipField`\n\n7. **Bind Events**\n   - Connect button click events\n   - Execute actions on confirmation\n   - Handle cancel/close events",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Quick Reference",
    "content": "### Quick Reference\n\n| Aspect | Value | Notes |\n|--------|-------|-------|\n| **Widget Type** | `ptcsconfirmation` | Confirmation dialog |\n| **Display Name** | `Best\u00e4tigung` | German UI name |\n| **ID Constraint** | ASCII only | **NO UMLAUTS!** |\n| **DialogWidth** | `\"500\"` | String, not number |\n| **DialogHeight** | `\"300\"` | String, not number |\n| **ActionButtonPosition** | `\"left\"`/`\"right\"` | Button placement |\n| **ActionButtonType** | `\"primary\"`/`\"danger\"` | Button style |\n| **DisplaySecondaryAction** | `true`/`false` | Show 2nd button |\n| **DisplayCloseButton** | `true`/`false` | Show X button |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe.md",
    "section": "Critical Lessons Learned",
    "content": "### Critical Lessons Learned\n\n**From Implementation Experience:**\n\n1. **ID Umlaut Issue** \u26a0\ufe0f\n   - First attempt: `Id: \"Best\u00e4tigungsFunktion\"` (with umlauts)\n   - Result: Widget marked as invalid and removed\n   - Error: \"Widgets entfernt - ung\u00fcltige IDs gefunden\"\n   - Solution: `Id: \"bestaetigung-funktion\"` (no umlauts)\n\n2. **ID vs DisplayName** \u2705\n   - `Id`: Must be ASCII-safe (no umlauts, special chars)\n   - `DisplayName`: Can contain umlauts and special characters\n   - Both can be different values\n\n3. **Dimension Format** \u26a0\ufe0f\n   - Must be strings: `\"500\"` not `500`\n   - Matches pattern of other dialog widgets\n\n4. **Button Visibility** \u2705\n   - Cancel button: Always visible\n   - Action button: Always visible\n   - Secondary button: Requires `DisplaySecondaryAction: true`\n   - Close button: Requires `DisplayCloseButton: true`\n\n**Typical Data Flow:**\n```\nUser Action \u2192 Trigger Event \u2192 Show Confirmation Dialog\n                                    \u2193\n                          User Clicks Button\n                                    \u2193\n                   Button Event \u2192 Execute Action\n                                    \u2193\n                            Close Dialog\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Recipe 4: Master Mashup & Border Layout",
    "content": "## Recipe 4: Master Mashup & Border Layout\n\nThis recipe demonstrates how to use a **Master Mashup** (which provides a consistent Header and Sidebar) and create a **Border Layout** (fixed edges, flexible center) within the content area.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Uniformity**: Uses a shared Master Mashup (`antigravity.Master-mm`) to ensure all pages look part of the same application.\n*   **Structured Layout**: Uses a classic \"Border Layout\" pattern (Top/Bottom/Left/Right fixed panels, Center flexible panel).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Structure",
    "content": "### Structure\n```mermaid\ngraph TD\n    Master[Master Mashup Header/Nav] -.-> Content\n    Content[Mashup Content<br/>Flex Column] --> Top[Top Fixed<br/>100px]\n    Content --> Middle[Middle Row<br/>Flex Grow]\n    Content --> Bottom[Bottom Fixed<br/>100px]\n    \n    Middle --> Left[Left Fixed<br/>100px]\n    Middle --> Center[Center<br/>Flex Grow]\n    Middle --> Right[Right Fixed<br/>100px]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Configuring the Master\nTo use a Master Mashup, you simply specify its name in the `Master` property of the Mashup Root.\n\n```javascript\n\"Properties\": {\n    \"Id\": \"mashup-root\",\n    \"Type\": \"mashup\",\n    // ... standard properties ...\n    \"Master\": \"antigravity.Master-mm\" // Binds this mashup to the Master\n},\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Full Creation Script Template",
    "content": "### Full Creation Script Template\n\n```javascript\n/* ... Standard Boilerplate ... */\nconst MASHUP_NAME = \"antigravity.border-layout-mu\";\n\nasync function createMashup() {\n    const mashupContent = {\n        \"UI\": {\n            \"Properties\": {\n                \"Id\": \"mashup-root\",\n                \"Type\": \"mashup\",\n                \"ResponsiveLayout\": true,\n                \"Master\": \"antigravity.Master-mm\", // THE KEY LINE\n                // ...\n            },\n            \"Widgets\": [\n                 {\n                    \"Properties\": {\n                        \"Type\": \"flexcontainer\",\n                        \"Id\": \"flexcontainer-root\",\n                        \"flex-direction\": \"column\",\n                        // ...\n                    },\n                    \"Widgets\": [\n                        // See \"Complex Fixed Sidebar Layout\" recipe for \n                        // details on how to create fixed Top/Bottom/Left/Right containers\n                    ]\n                }\n            ]\n        },\n        // ...\n    };\n    /* ... Send Request ... */\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Recipe 5: Custom Styled Container (Custom CSS)",
    "content": "## Recipe 5: Custom Styled Container (Custom CSS)\n\nThis recipe demonstrates how to apply specific CSS (like a custom background color) to a container without creating a full `StyleDefinition` entity.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Purpose",
    "content": "### Purpose\n*   **Ad-hoc Styling**: Quickly applying brand colors (e.g., a specific yellow #F7D154) to a single component.\n*   **Overriding Themes**: Forcing a style even if a Theme is active (though `StyleTheme` may sometimes need to be removed).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Key JSON Properties",
    "content": "### Key JSON Properties\n\n#### 1. Mashup Root: CustomCSS\nDefine your CSS classes in the `CustomCSS` property of the **Mashup Root**.\n\n```javascript\n\"Properties\": {\n    \"Id\": \"mashup-root\",\n    // ...\n    // Define the class rule here\n    \"CustomCSS\": \".yellow-bg { background-color: #F7D154; }\"\n},\n```\n\n#### 2. Widget: CustomClass\nApply the class name to the specific **Widget** (e.g., a FlexContainer).\n\n```javascript\n{\n    \"Properties\": {\n        \"Type\": \"flexcontainer\",\n        \"Id\": \"flexcontainer-1\",\n        // ...\n        // Apply the class name here (no dot)\n        \"CustomClass\": \"yellow-bg\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_creation_recipe_append.md",
    "section": "Troubleshooting",
    "content": "### Troubleshooting\nIf the style does not appear:\n1.  **Check Specificity**: Your CSS might be overridden by the system default CSS. Try adding `!important` as a last resort: `background-color: #F7D154 !important;`.\n2.  **StyleTheme**: In some versions, the defined `StyleTheme` on the Root might conflict. You can try setting `\"StyleTheme\": \"\"` or removing the property if issues persist.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "ThingWorx Mashup Design Guide",
    "content": "# ThingWorx Mashup Design Guide\n\nThis guide outlines best practices, standard widgets, and layout strategies for creating effective ThingWorx Mashups.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Best Practices",
    "content": "## Best Practices",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "1. Layout Strategy",
    "content": "### 1. Layout Strategy\n*   **Responsive Design**: Always prefer **Responsive** layouts over Static layouts. This ensures your application adapts to different screen sizes (desktop, tablet, mobile).\n*   **Containers**: Use `Layout` widgets (Rows and Columns) to structure your page. Avoid placing widgets directly on the root canvas if possible; nest them in containers for better control.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "2. Naming Conventions",
    "content": "### 2. Naming Conventions\n*   **Meaningful Names**: Give every widget a descriptive `DisplayName` (e.g., `lblTemperature`, `btnSubmit`, `gridOrderHistory`). This makes binding and debugging significantly easier.\n*   **Consistency**: Stick to a prefix convention (e.g., `lbl` for Labels, `btn` for Buttons, `txt` for TextFields).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "3. Performance",
    "content": "### 3. Performance\n*   **Minimize Bindings**: Too many bindings can slow down the Mashup load time. Group data in services where possible.\n*   **Service Execution**: Use `InvokeService` only when necessary. Avoid auto-refreshing heavy services at short intervals.\n*   **Lazy Loading**: Load data only when the user needs to see it (e.g., in a tab that isn't initially visible).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Standard Widgets Reference",
    "content": "## Standard Widgets Reference\n\nHere is a list of commonly used widgets:\n\n| Widget Name | Type in JSON | Description | Common Use Case |\n| :--- | :--- | :--- | :--- |\n| **Label (Modern)** | `ptcslabel` | Displays static or dynamic text with modern styling. | Headers, data values, instructions. |\n| **Label (Legacy)** | `Label` | Old label widget - **avoid using**. | Legacy mashups only. |\n| **Button** | `ptcsbutton` | Clickable element to trigger events. | Submitting forms, navigation, refreshing data. |\n| **TextField** | `ptcstextfield` | Single-line text input. | Search bars, form inputs. |\n| **TextArea** | `ptcstextarea` | Multi-line text input. | Comments, descriptions. |\n| **Grid (Advanced)** | `ptcsgrid` | Displays data in a tabular format. | Lists of items, reports, data management. |\n| **Navigation** | `navigation` | Links to other Mashups or URLs. | Menus, links. |\n| **Image** | `image` | Displays an image. | Logos, product photos, status icons. |\n| **Checkbox** | `ptcscheckbox` | Boolean input. | Toggles, settings. |\n| **Dropdown** | `ptcsdropdown` | Select one item from a list. | Filtering, form selection. |\n| **Date Time Picker** | `ptcsdatetimepicker` | Select date and time. | Filtering by date range, scheduling. |\n| **Tabs** | `ptcstabs` | Organizes content into selectable views. | Categorizing complex information. |\n| **Responsive Container** | `flexcontainer` | Flex-based container for responsive layouts. | **Required for modern mashups**. |\n| **Numeric Input** | `numericentry` | Legacy numeric input (lowercase). | Input numbers. **Requires explicit width/height**. |\n| **Radio Button** | `ptcsradio` | Modern radio button. | Single choice selection. |\n| **Toggle Button** | `ptcstogglebutton` | On/Off switch. | Boolean settings, enabling features. |",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "\u26a0\ufe0f Critical: Modern Widget Types",
    "content": "### \u26a0\ufe0f Critical: Modern Widget Types\n**Always use the modern `ptcs*` widget types** (e.g., `ptcslabel`, `ptcsbutton`) instead of legacy types (e.g., `Label`, `Button`). The legacy widgets may not render correctly in newer ThingWorx versions.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "\u26a0\ufe0f Critical: Use Responsive Containers",
    "content": "### \u26a0\ufe0f Critical: Use Responsive Containers\n**Never place widgets directly in the mashup root.** Always wrap them in a `flexcontainer` (Responsive Container) first. This is required for proper rendering and responsive behavior.\n\n**Example Structure:**\n```\nMashup Root (mashup-root)\n  \u2514\u2500\u2500 Responsive Container (flexcontainer)\n        \u2514\u2500\u2500 Label (ptcslabel)\n        \u2514\u2500\u2500 Button (ptcsbutton)\n```",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Layout Containers",
    "content": "## Layout Containers\n\nLayouts are crucial for structure. Common patterns include:\n\n*   **Header**: Top strip for branding, global actions (Logout), and page titles.\n*   **Sidebar**: Left (or right) panel for navigation menus.\n*   **Footer**: Bottom strip for copyright, version info, or status.\n*   **Content**: The main central area where the specific page functionality lives.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Master Mashups",
    "content": "## Master Mashups\n\n**Master Mashups** are templates that define the consistent outer shell of your application.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Purpose",
    "content": "### Purpose\n1.  **Consistent Navigation**: You define the **Sidebar** (Navigation Menu) and **Header** once in the Master Mashup. All \"Child Mashups\" loaded into this Master will automatically inherit these elements.\n2.  **Theming**: The Master Mashup helps enforce a consistent visual theme (colors, fonts, spacing) across all pages that use it.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Implementation",
    "content": "### Implementation\n*   Create a Mashup with the type `Master`.\n*   Add your **Logo** and **Title** to the Header area.\n*   Add a **Menu** widget to the Sidebar area for navigation.\n*   Define a **Content** placeholder. When you create a standard Mashup, you select this Master, and your standard Mashup's content will fill this placeholder.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Benefits",
    "content": "### Benefits\n*   **Maintainability**: Change the menu item in one place (the Master), and it updates everywhere.\n*   **User Experience**: Users get a seamless experience as the frame (header/nav) stays stable while the content area transitions.",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_design_guide.md",
    "section": "Detailed Widget Recipes",
    "content": "## Detailed Widget Recipes\n\nFor specific configurations of tricky widgets like **Numeric Input** and **Radio Buttons**, please refer to [Widget Recipes](widget_recipes.md).",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "ThingWorx Mashup Testing To-Do List",
    "content": "# ThingWorx Mashup Testing To-Do List",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Overview",
    "content": "## Overview\nComprehensive testing plan for LLM-based mashup generation capabilities. This tests various layouts, widgets, and data binding scenarios.\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 1: Container & Layout Testing",
    "content": "## Phase 1: Container & Layout Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "1.1 Responsive Containers (flexcontainer)",
    "content": "### 1.1 Responsive Containers (flexcontainer)\n- [ ] Create a mashup with a single centered responsive container\n- [ ] Create nested responsive containers (container within container)\n- [ ] Test flex-direction: row vs column\n- [ ] Test justify-content: flex-start, center, flex-end, space-between\n- [ ] Test align-items: flex-start, center, flex-end, stretch",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "1.2 Static Containers",
    "content": "### 1.2 Static Containers\n- [ ] Create a static container with fixed positioning\n- [ ] Test absolute positioning (Top, Left properties)\n- [ ] Mix static and responsive containers in the same mashup\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 2: Label Alignment Testing",
    "content": "## Phase 2: Label Alignment Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "2.1 Horizontal Alignment",
    "content": "### 2.1 Horizontal Alignment\n- [ ] Label aligned left (HorizontalAlignment: \"left\")\n- [ ] Label aligned center (HorizontalAlignment: \"center\")\n- [ ] Label aligned right (HorizontalAlignment: \"right\")",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "2.2 Vertical Alignment",
    "content": "### 2.2 Vertical Alignment\n- [ ] Label aligned top (VerticalAlignment: \"flex-start\")\n- [ ] Label aligned center (VerticalAlignment: \"center\")\n- [ ] Label aligned bottom (VerticalAlignment: \"flex-end\")",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "2.3 Combined Alignment",
    "content": "### 2.3 Combined Alignment\n- [ ] Label centered both horizontally and vertically\n- [ ] Label in top-left corner\n- [ ] Label in bottom-right corner\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 3: Widget Testing",
    "content": "## Phase 3: Widget Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.1 Buttons (ptcsbutton)",
    "content": "### 3.1 Buttons (ptcsbutton)\n- [ ] Create a basic button with text\n- [ ] Create a button with an icon\n- [ ] Create a disabled button\n- [ ] Test button click event binding",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.2 Contained Mashups",
    "content": "### 3.2 Contained Mashups\n- [ ] Embed a simple mashup inside another mashup\n- [ ] Pass parameters to the contained mashup\n- [ ] Test mashup-to-mashup communication",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.3 Gauges",
    "content": "### 3.3 Gauges\n- [ ] Create a linear gauge (ptcslineargauge)\n- [ ] Create a radial gauge (ptcsradialgauge)\n- [ ] Bind gauge to a dynamic value\n- [ ] Set min/max values and thresholds",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.4 Collections (Repeater/Grid)",
    "content": "### 3.4 Collections (Repeater/Grid)\n- [ ] Create a grid widget (ptcsgrid)\n- [ ] Bind grid to an InfoTable service\n- [ ] Configure grid columns\n- [ ] Test row selection",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.5 Radio Buttons (ptcsradiogroup)",
    "content": "### 3.5 Radio Buttons (ptcsradiogroup)\n- [ ] Create a radio button group\n- [ ] Set default selected value\n- [ ] Bind selection to a property\n- [ ] Test value change event",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "3.6 Toggle Buttons (ptcstogglebutton)",
    "content": "### 3.6 Toggle Buttons (ptcstogglebutton)\n- [ ] Create a toggle button\n- [ ] Set default state (on/off)\n- [ ] Bind to a boolean property\n- [ ] Test state change event\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 4: Data Binding Testing",
    "content": "## Phase 4: Data Binding Testing",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.1 Service Binding",
    "content": "### 4.1 Service Binding\n- [ ] Create a Thing with test services\n  - [ ] Service returning a STRING\n  - [ ] Service returning a NUMBER\n  - [ ] Service returning a BOOLEAN\n  - [ ] Service returning an INFOTABLE\n- [ ] Bind service output to label (display value)\n- [ ] Bind service output to gauge (numeric value)\n- [ ] Bind service output to grid (InfoTable)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.2 Property Binding",
    "content": "### 4.2 Property Binding\n- [ ] Create a Thing with test properties\n  - [ ] STRING property\n  - [ ] NUMBER property\n  - [ ] BOOLEAN property\n- [ ] Bind property to label\n- [ ] Bind property to toggle button\n- [ ] Test two-way binding (widget updates property)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.3 Event Binding",
    "content": "### 4.3 Event Binding\n- [ ] Bind button click to invoke a service\n- [ ] Bind toggle change to update a property\n- [ ] Bind grid row selection to display details in labels",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "4.4 Auto-Refresh",
    "content": "### 4.4 Auto-Refresh\n- [ ] Configure service to auto-refresh every 5 seconds\n- [ ] Test that bound widgets update automatically\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 5: Complex Mashup Scenarios",
    "content": "## Phase 5: Complex Mashup Scenarios",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "5.1 Dashboard Layout",
    "content": "### 5.1 Dashboard Layout\n- [ ] Create a 2x2 grid layout with 4 containers\n- [ ] Each container has a different widget (gauge, label, button, grid)\n- [ ] All widgets bound to live data",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "5.2 Form Layout",
    "content": "### 5.2 Form Layout\n- [ ] Create a vertical form with:\n  - [ ] Text input field\n  - [ ] Dropdown selector\n  - [ ] Radio button group\n  - [ ] Submit button\n- [ ] Bind submit button to create/update a Thing property",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "5.3 Master-Detail View",
    "content": "### 5.3 Master-Detail View\n- [ ] Grid showing list of items\n- [ ] Click a row to display details in labels/gauges\n- [ ] Edit button to modify selected item\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Phase 6: Styling & Theming",
    "content": "## Phase 6: Styling & Theming",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "6.1 Widget Styles",
    "content": "### 6.1 Widget Styles\n- [ ] Apply custom style to a label\n- [ ] Apply custom style to a button\n- [ ] Test UseTheme property (true/false)",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "6.2 Container Styles",
    "content": "### 6.2 Container Styles\n- [ ] Set background color on a container\n- [ ] Set border on a container\n- [ ] Test padding and margin\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Success Criteria",
    "content": "## Success Criteria\n\n\u2705 All widgets render correctly in the mashup viewer\n\u2705 All data bindings work (values display correctly)\n\u2705 All events trigger correctly (button clicks, selections)\n\u2705 Layout is responsive and adapts to different screen sizes\n\u2705 No console errors in browser developer tools\n\u2705 Mashup can be saved and reopened without errors\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/mashup_testing_todo.md",
    "section": "Notes",
    "content": "## Notes\n\n- Test each item incrementally (don't create everything at once)\n- Save working examples for reference\n- Document any issues or limitations discovered\n- Keep track of which widget types and properties work vs. which don't",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "Widget Layout Recipes",
    "content": "# Widget Layout Recipes",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "Standard Widget Recipes",
    "content": "## Standard Widget Recipes\nFor standard input widgets, use the following configurations to ensure compatibility and correct rendering.",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "1. Numeric Input (legacy: `numericentry`)",
    "content": "### 1. Numeric Input (legacy: `numericentry`)\nFor numeric inputs, use the **legacy** `numericentry` widget type (all lowercase).\n**Crucial Properties:**\n- `ResponsiveLayout`: `false`\n- `Width`: Explicit value (e.g., `200`)\n- `Height`: Explicit value (e.g., `30`)\n- `Style`: `\"DefaultTextBoxStyle\"`\n- `NumericEntryLabelStyle`: `\"DefaultWidgetLabelStyle\"`\n- `NumericEntryFocusStyle`: `\"DefaultFocusStyle\"`\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"numericentry\",\n        \"Id\": \"numericentry-1\", // Use lowercase prefix\n        \"Label\": \"Numeric Input\",\n        \"Value\": 0,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 200,\n        \"Height\": 30,\n        \"Style\": \"DefaultTextBoxStyle\",\n        \"NumericEntryLabelStyle\": \"DefaultWidgetLabelStyle\",\n        \"NumericEntryFocusStyle\": \"DefaultFocusStyle\"\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "2. Radio Button (modern: `ptcsradio`)",
    "content": "### 2. Radio Button (modern: `ptcsradio`)\nFor radio buttons, use the `ptcsradio` widget type.\n**Crucial Properties:**\n- `ResponsiveLayout`: `false` (Recommended for safety in mixed layouts)\n- `Width`: Explicit value (e.g., `200`)\n- `Height`: Explicit value (e.g., `30`)\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcsradio\",\n        \"Id\": \"ptcsradio-1\",\n        \"Label\": \"Radio Option\",\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 200,\n        \"Height\": 30\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "3. Other Modern Widgets (`ptcs*`)",
    "content": "### 3. Other Modern Widgets (`ptcs*`)\nStandard modern widgets usually work with `ResponsiveLayout: true` (default in flex containers), but can be constrained if needed.\n- **Button**: `ptcsbutton`\n- **TextField**: `ptcstextfield`",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "4. Toggle Button (`ptcstogglebutton`)",
    "content": "### 4. Toggle Button (`ptcstogglebutton`)\nUsed for On/Off switches.\n**Properties:**\n- `State`: `true` or `false` (The value).\n- `LabelAlignment`: `\"right\"` (Places text next to switch).\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcstogglebutton\",\n        \"Id\": \"ptcstogglebutton-1\",\n        \"Label\": \"Toggle Feature\",\n        \"LabelAlignment\": \"right\",\n        \"State\": false,\n        \"Visible\": true\n    },\n    \"Widgets\": []\n}\n```",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "5. Slider (`ptcsslider`)",
    "content": "### 5. Slider (`ptcsslider`)\nFor slider controls to select numeric values within a range.\n**Crucial Properties:**\n- `Value`: Current value (e.g., `50`)\n- `Minimum`: Minimum value (e.g., `0`)\n- `Maximum`: Maximum value (e.g., `100`)\n- `StepSize`: Increment step (e.g., `1`)\n- `ResponsiveLayout`: `false` (Recommended for consistent sizing)\n- `Width`: Explicit value (e.g., `300`)\n- `Height`: Explicit value (e.g., `50`)\n\n**Example JSON:**\n```json\n{\n    \"Properties\": {\n        \"Type\": \"ptcsslider\",\n        \"Id\": \"ptcsslider-1\",\n        \"DisplayName\": \"slider-1\",\n        \"Label\": \"Slider Input\",\n        \"Value\": 50,\n        \"Minimum\": 0,\n        \"Maximum\": 100,\n        \"StepSize\": 1,\n        \"Visible\": true,\n        \"ResponsiveLayout\": false,\n        \"Width\": 300,\n        \"Height\": 50\n    },\n    \"Widgets\": []\n}\n```\n\n---",
    "type": "markdown"
  },
  {
    "file": "docs/widget_recipes.md",
    "section": "Data Binding Recipe",
    "content": "## Data Binding Recipe\nTo bind properties between widgets (e.g., Numeric Entry Value -> Label Text), use the `DataBindings` array at the Mashup root level.\n\n**Structure:**\n- **SourceId**: ID of the source widget (e.g., `numericentry-1`).\n- **TargetId**: ID of the target widget (e.g., `ptcslabel-1`).\n- **SourceProperty**: The property to read from (e.g., `Value`).\n- **TargetProperty**: The property to write to (e.g., `LabelText`).\n- **SourceSection**: Usually `\"\"` (empty string) for widget properties, or `\"Data\"` for service results.\n- **TargetSection**: Usually `\"Properties\"`.\n\n**Example JSON (Numeric Value -> Label Text):**\n```json\n\"DataBindings\": [\n    {\n        \"Id\": \"binding-numeric-to-label\",\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",\n                \"TargetProperty\": \"LabelText\",\n                \"SourcePropertyType\": \"Property\",\n                \"TargetPropertyType\": \"Property\"\n            }\n        ],\n        \"SourceArea\": \"UI\",\n        \"SourceId\": \"numericentry-1\",\n        \"SourceSection\": \"\",\n        \"TargetArea\": \"UI\",\n        \"TargetId\": \"ptcslabel-1\",\n        \"TargetSection\": \"Properties\"\n    }\n]\n```\n\n**Example JSON (Slider Value -> Label Text):**\n```json\n\"DataBindings\": [\n    {\n        \"Id\": \"binding-slider-to-label\",\n        \"PropertyMaps\": [\n            {\n                \"SourceProperty\": \"Value\",\n                \"TargetProperty\": \"LabelText\",\n                \"SourcePropertyType\": \"Property\",\n                \"TargetPropertyType\": \"Property\"\n            }\n        ],\n        \"SourceArea\": \"UI\",\n        \"SourceId\": \"ptcsslider-1\",\n        \"SourceSection\": \"\",\n        \"TargetArea\": \"UI\",\n        \"TargetId\": \"ptcslabel-1\",\n        \"TargetSection\": \"Properties\"\n    }\n]\n```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "How to Add a New Action/Capability",
    "content": "# How to Add a New Action/Capability\n\nThis guide outlines the steps required to add a new action to the ThingWorx Coding Agent. Adding a new action involves updating the schema, guardrails, executor, and tests to ensure the new capability is integrated safely and reliably.\n\nLet's use the example of adding a `RestartThing` action.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "1. Update the JSON Schema",
    "content": "## 1. Update the JSON Schema\n\nFirst, you need to allow the new action in the `spec.schema.json` file. This ensures that specifications containing the new action can be validated.\n\n**File**: `src/schema/spec.schema.json`\n\n1.  **Add to Enum**: Add the new action name (`RestartThing`) to the `enum` list under `actions.items.properties.type`.\n\n    ```json\n    \"type\": {\n      \"type\": \"string\",\n      \"enum\": [\n        \"CreateThing\",\n        \"UpdateThing\",\n        \"EnableThing\",\n        \"AddServiceToThing\",\n        \"AddPropertyDefinition\",\n        \"SetProperty\",\n        \"ExecuteService\",\n        \"RestartThing\" // Add new action here\n      ],\n      \"description\": \"Action type - only safe operations allowed\"\n    },\n    ```\n\n2.  **Define Parameters**: Add a new conditional block under `allOf` to define the required parameters for your new action.\n\n    ```json\n    {\n      \"if\": {\n        \"properties\": {\n          \"type\": {\n            \"const\": \"RestartThing\"\n          }\n        }\n      },\n      \"then\": {\n        \"properties\": {\n          \"params\": {\n            \"required\": [\"thingName\"],\n            \"properties\": {\n              \"thingName\": {\n                \"type\": \"string\"\n              }\n            }\n          }\n        }\n      }\n    }\n    ```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "2. Update the Guardrails",
    "content": "## 2. Update the Guardrails\n\nNext, update the guardrails to explicitly allow the new action. This is a critical security step.\n\n**File**: `src/guardrails/guardrails.py`\n\n1.  **Add to Allowlist**: Add the action name to the `ALLOWED_ACTIONS` set.\n\n    ```python\n    class Guardrails:\n        ALLOWED_ACTIONS: Set[str] = {\n            \"CreateThing\",\n            \"UpdateThing\",\n            \"EnableThing\",\n            \"AddServiceToThing\",\n            \"AddPropertyDefinition\",\n            \"SetProperty\",\n            \"ExecuteService\",\n            \"RestartThing\"  # Add new action here\n        }\n    ```\n\nIf the action corresponds to a new or sensitive endpoint, you might also need to review the `BLOCKED_ENDPOINT_PATTERNS` to ensure it doesn't get blocked by mistake.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "3. Implement the Executor Logic",
    "content": "## 3. Implement the Executor Logic\n\nNow, implement the logic that performs the action by calling the ThingWorx REST API.\n\n**File**: `src/executor/executor.py`\n\n1.  **Create Handler Method**: Add a new private method to the `Executor` class to handle the action. This method should take the `params` dictionary as an argument.\n\n    ```python\n    def _restart_thing(self, params: Dict) -> Dict[str, Any]:\n        \"\"\"Restart a Thing\"\"\"\n        thing_name = params[\"thingName\"]\n        endpoint = f\"{self.config.base_url}/Things/{thing_name}/Services/RestartThing\"\n        \n        # Validate the endpoint with guardrails\n        validate_endpoint(endpoint)\n        \n        response = requests.post(\n            endpoint,\n            headers=self.config.get_headers(),\n            timeout=self.config.timeout\n        )\n        \n        if response.status_code not in [200, 201]:\n            raise ExecutionError(\n                f\"RestartThing failed: {response.status_code} - {response.text}\"\n            )\n        \n        self._log_success(f\"Restarted Thing: {thing_name}\")\n        return {\"status\": \"success\", \"thing_name\": thing_name}\n    ```\n\n2.  **Map Action to Handler**: Add the new action and its handler method to the `handlers` dictionary in the `_execute_action` method.\n\n    ```python\n    def _execute_action(self, action_type: str, params: Dict) -> Dict[str, Any]:\n        # ...\n        handlers = {\n            \"CreateThing\": self._create_thing,\n            \"UpdateThing\": self._update_thing,\n            \"EnableThing\": self._enable_thing,\n            \"AddServiceToThing\": self._add_service_to_thing,\n            \"AddPropertyDefinition\": self._add_property_definition,\n            \"SetProperty\": self._set_property,\n            \"ExecuteService\": self._execute_service,\n            \"RestartThing\": self._restart_thing  # Add new mapping here\n        }\n        # ...\n    ```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "4. Update the LLM System Prompt",
    "content": "## 4. Update the LLM System Prompt\n\nTo enable the LLM to generate the new action, you must update its system prompt with information about the new capability.\n\n**File**: `src/generator.py`\n\n1.  **Add to Action List**: Add the new action and its parameters to the `SYSTEM_PROMPT` string in the `SpecGenerator` class.\n\n    ```python\n    class SpecGenerator:\n        SYSTEM_PROMPT = \"\"\"You are a ThingWorx automation expert. ...\n\n    Allowed action types:\n    - CreateThing: {name, thingTemplateName, description?}\n    - EnableThing: {thingName}\n    - AddServiceToThing: {thingName, serviceName, serviceCode, parameters, resultType}\n    - AddPropertyDefinition: {thingName, name, type, description?}\n    - SetProperty: {thingName, propertyName, value}\n    - ExecuteService: {thingName, serviceName, serviceParams?}\n    - RestartThing: {thingName}  # Add new action here\n\n    CRITICAL RULES:\n    ...\"\"\"\n    ```",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "5. Write Tests",
    "content": "## 5. Write Tests\n\nFinally, add tests to ensure the new action works as expected and is handled correctly by the validation and guardrail systems.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "Unit Tests",
    "content": "### Unit Tests\n\n-   **Guardrails Test**: Add a test to `tests/unit/test_guardrails.py` to confirm the action is in the `ALLOWED_ACTIONS` set.\n-   **Schema Test**: Add a test to `tests/unit/test_schema.py` to validate a spec containing the new `RestartThing` action.",
    "type": "markdown"
  },
  {
    "file": "docs/Extending_The_Agent.md",
    "section": "E2E Test",
    "content": "### E2E Test\n\n-   **Workflow Test**: If possible, add or update a test in `tests/e2e/test_e2e_workflow.py` to include the new action in a full workflow and verify its effect on the ThingWorx instance.\n\n    For example, you could add a step to restart the `TestCalculator` Thing and check that it remains available.\n\nBy following these steps, you can safely and effectively extend the capabilities of the ThingWorx Coding Agent.",
    "type": "markdown"
  },
  {
    "file": "docs/AddServiceToThing_Code.js",
    "section": "Code",
    "content": "// Service: AddServiceToThing\n// Inputs:\n//   - thingName (STRING): Name of the Thing to modify\n//   - serviceName (STRING): Name of the service to create\n//   - serviceCode (STRING): JavaScript code for the service\n//   - parameters (JSON): Parameter definitions as JSON object, e.g. {\"a\": \"NUMBER\", \"b\": \"STRING\"}\n//   - resultType (STRING): Return type (e.g. \"NUMBER\", \"STRING\", \"BOOLEAN\", \"INFOTABLE\", etc.)\n// Output: STRING (success message or error)\nlet result = \"\";\ntry {\n    // Get the current Thing's configuration as JSON\n    var url = \"http://localhost:8080/Thingworx/Things/\" + thingName;\n    var headers = {\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    };\n    var config = Resources[\"ContentLoaderFunctions\"].GetJSON({\n        \"url\": url,\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    //let result = config;\n\n\n    // Convert the parameters object into ThingWorx parameter definition format\n    var parameterDefinitions = {};\n    let stringParams = JSON.stringify(parameters);\n    let newJSONparams = JSON.parse(stringParams);\n\n    var paramKeys = Object.keys(newJSONparams);\n    var paramKeysLength = paramKeys.length;\n    //result = paramKeysLength;\n\n    for (var i = 0; i < paramKeysLength; i++) {\n        var paramName = paramKeys[i];\n        var paramType = parameters[paramName];\n\n        parameterDefinitions[paramName] = {\n            \"name\": paramName,\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": paramType,\n            \"ordinal\": i\n        };\n    }\n\n    // Create the service definition\n    var definition = {\n        \"isAllowOverride\": false,\n        \"isOpen\": false,\n        \"sourceType\": \"Unknown\",\n        \"parameterDefinitions\": parameterDefinitions,\n        \"name\": serviceName,\n        \"aspects\": {\n            \"isAsync\": false\n        },\n        \"isLocalOnly\": false,\n        \"description\": \"\",\n        \"isPrivate\": false,\n        \"sourceName\": \"\",\n        \"category\": \"\",\n        \"resultType\": {\n            \"name\": \"result\",\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": resultType,\n            \"ordinal\": 0\n        }\n    };\n\n    // Create the service implementation\n    var implementation = {\n        \"name\": serviceName,\n        \"description\": \"\",\n        \"handlerName\": \"Script\",\n        \"configurationTables\": {\n            \"Script\": {\n                \"isMultiRow\": false,\n                \"name\": \"Script\",\n                \"description\": \"Script\",\n                \"rows\": [{\n                    \"code\": serviceCode\n                }],\n                \"ordinal\": 0,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"code\": {\n                            \"name\": \"code\",\n                            \"aspects\": {},\n                            \"description\": \"code\",\n                            \"baseType\": \"STRING\",\n                            \"ordinal\": 0\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    // Add the service to both effectiveShape and thingShape\n    if (!config.effectiveShape.serviceDefinitions) {\n        config.effectiveShape.serviceDefinitions = {};\n    }\n    if (!config.effectiveShape.serviceImplementations) {\n        config.effectiveShape.serviceImplementations = {};\n    }\n\n    config.effectiveShape.serviceDefinitions[serviceName] = definition;\n    config.effectiveShape.serviceImplementations[serviceName] = implementation;\n\n    if (!config.thingShape.serviceDefinitions) {\n        config.thingShape.serviceDefinitions = {};\n    }\n    if (!config.thingShape.serviceImplementations) {\n        config.thingShape.serviceImplementations = {};\n    }\n\n    config.thingShape.serviceDefinitions[serviceName] = definition;\n    config.thingShape.serviceImplementations[serviceName] = implementation;\n\n    // Push the updated configuration back to ThingWorx\n\n    Resources[\"ContentLoaderFunctions\"].PutJSON({\n        \"url\": url,\n        \"content\": JSON.stringify(config),\n        \"ignoreSSLErrors\": true,\n        \"headers\": headers\n    });\n\n\n    result = \"Successfully added service '\" + serviceName + \"' to Thing '\" + thingName + \"'\";\n\n} catch (error) {\n    result = \"Error: \" + error.message;\n    logger.error(\"AddServiceToThing failed: \" + error.message);\n}",
    "type": "code",
    "functions": [
      "AddServiceToThing"
    ]
  },
  {
    "file": "docs/utils/AddServiceToThing.js",
    "section": "Code",
    "content": "// Service: AddServiceToThing\n// Inputs:\n//   - thingName (STRING): Name of the Thing to modify\n//   - serviceName (STRING): Name of the service to create\n//   - serviceCode (STRING): JavaScript code for the service\n//   - parameters (JSON): Parameter definitions as JSON object, e.g. {\"a\": \"NUMBER\", \"b\": \"STRING\"}\n//   - resultType (STRING): Return type (e.g. \"NUMBER\", \"STRING\", \"BOOLEAN\", \"INFOTABLE\", etc.)\n// Output: STRING (success message or error)\nlet result = \"\";\ntry {\n    // Get the current Thing's configuration as JSON\n    var url = \"http://localhost:8080/Thingworx/Things/\" + thingName;\n    var headers = {\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    };\n    var config = Resources[\"ContentLoaderFunctions\"].GetJSON({\n        \"url\": url,\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    //let result = config;\n\n\n    // Convert the parameters object into ThingWorx parameter definition format\n    var parameterDefinitions = {};\n    let stringParams = JSON.stringify(parameters);\n    let newJSONparams = JSON.parse(stringParams);\n\n    var paramKeys = Object.keys(newJSONparams);\n    var paramKeysLength = paramKeys.length;\n    //result = paramKeysLength;\n\n    for (var i = 0; i < paramKeysLength; i++) {\n        var paramName = paramKeys[i];\n        var paramType = parameters[paramName];\n\n        parameterDefinitions[paramName] = {\n            \"name\": paramName,\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": paramType,\n            \"ordinal\": i\n        };\n    }\n\n    // Create the service definition\n    var definition = {\n        \"isAllowOverride\": false,\n        \"isOpen\": false,\n        \"sourceType\": \"Unknown\",\n        \"parameterDefinitions\": parameterDefinitions,\n        \"name\": serviceName,\n        \"aspects\": {\n            \"isAsync\": false\n        },\n        \"isLocalOnly\": false,\n        \"description\": \"\",\n        \"isPrivate\": false,\n        \"sourceName\": \"\",\n        \"category\": \"\",\n        \"resultType\": {\n            \"name\": \"result\",\n            \"aspects\": {},\n            \"description\": \"\",\n            \"baseType\": resultType,\n            \"ordinal\": 0\n        }\n    };\n\n    // Create the service implementation\n    var implementation = {\n        \"name\": serviceName,\n        \"description\": \"\",\n        \"handlerName\": \"Script\",\n        \"configurationTables\": {\n            \"Script\": {\n                \"isMultiRow\": false,\n                \"name\": \"Script\",\n                \"description\": \"Script\",\n                \"rows\": [{\n                    \"code\": serviceCode\n                }],\n                \"ordinal\": 0,\n                \"dataShape\": {\n                    \"fieldDefinitions\": {\n                        \"code\": {\n                            \"name\": \"code\",\n                            \"aspects\": {},\n                            \"description\": \"code\",\n                            \"baseType\": \"STRING\",\n                            \"ordinal\": 0\n                        }\n                    }\n                }\n            }\n        }\n    };\n\n    // Add the service to both effectiveShape and thingShape\n    if (!config.effectiveShape.serviceDefinitions) {\n        config.effectiveShape.serviceDefinitions = {};\n    }\n    if (!config.effectiveShape.serviceImplementations) {\n        config.effectiveShape.serviceImplementations = {};\n    }\n\n    config.effectiveShape.serviceDefinitions[serviceName] = definition;\n    config.effectiveShape.serviceImplementations[serviceName] = implementation;\n\n    if (!config.thingShape.serviceDefinitions) {\n        config.thingShape.serviceDefinitions = {};\n    }\n    if (!config.thingShape.serviceImplementations) {\n        config.thingShape.serviceImplementations = {};\n    }\n\n    config.thingShape.serviceDefinitions[serviceName] = definition;\n    config.thingShape.serviceImplementations[serviceName] = implementation;\n\n    // Push the updated configuration back to ThingWorx\n\n    Resources[\"ContentLoaderFunctions\"].PutJSON({\n        \"url\": url,\n        \"content\": JSON.stringify(config),\n        \"ignoreSSLErrors\": true,\n        \"headers\": headers\n    });\n\n\n    result = \"Successfully added service '\" + serviceName + \"' to Thing '\" + thingName + \"'\";\n\n} catch (error) {\n    result = \"Error: \" + error.message;\n    logger.error(\"AddServiceToThing failed: \" + error.message);\n}",
    "type": "code",
    "functions": [
      "AddServiceToThing"
    ]
  },
  {
    "file": "docs/utils/UpdateMashupContent.js",
    "section": "Code",
    "content": "// Service: UpdateMashupContent\n// Inputs:\n//   - mashupName (STRING): Name of the Mashup to modify\n//   - mashupContent (STRING): The new stringified JSON content for the mashup UI\n// Output: STRING (success message or error)\n\nlet result = \"\";\ntry {\n    // Construct the URL for the Mashup\n    // Note: Assuming localhost/default port if not specified, or relative if running on same instance.\n    // For robustness in this script, we use the full URL pattern provided in examples.\n    var url = \"http://localhost:8080/Thingworx/Mashups/\" + mashupName;\n\n    var headers = {\n        \"appKey\": \"59a7e8dd-6b19-4c0e-9b46-419c071d74f5\",\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    };\n\n    // 1. Get the current Mashup definition\n    var mashupDefinition = Resources[\"ContentLoaderFunctions\"].GetJSON({\n        \"url\": url,\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    // 2. Update the mashupContent\n    // The mashupContent is a stringified JSON inside the main JSON.\n    // We assume the input 'mashupContent' is already a valid stringified JSON of the UI structure.\n    mashupDefinition.mashupContent = mashupContent;\n\n    // 3. Push the updated definition back to ThingWorx\n    Resources[\"ContentLoaderFunctions\"].PutJSON({\n        \"url\": url,\n        \"content\": JSON.stringify(mashupDefinition),\n        \"headers\": headers,\n        \"ignoreSSLErrors\": true\n    });\n\n    result = \"Successfully updated content for Mashup '\" + mashupName + \"'\";\n\n} catch (error) {\n    result = \"Error updating mashup: \" + error.message;\n    logger.error(\"UpdateMashupContent failed: \" + error.message);\n}",
    "type": "code",
    "functions": [
      "UpdateMashupContent"
    ]
  }
]